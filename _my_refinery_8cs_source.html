<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Space Engineers: Sources/Sandbox.Game/Game/Entities/Blocks/MyRefinery.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Space Engineers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_937900b87e0c7a5fa01190c395fb83f7.html">Sources</a></li><li class="navelem"><a class="el" href="dir_adcb7f0194fb5944415bcd7197787778.html">Sandbox.Game</a></li><li class="navelem"><a class="el" href="dir_04f95e6316a1b10de98d9c990257507d.html">Game</a></li><li class="navelem"><a class="el" href="dir_32f85bfbb9683a43b39343881782b5b3.html">Entities</a></li><li class="navelem"><a class="el" href="dir_e31da3fe4be21df8c719a629e1663bd6.html">Blocks</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MyRefinery.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_my_refinery_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.<a class="code" href="namespace_system_1_1_collections.html">Collections</a>.<a class="code" href="namespace_system_1_1_collections_1_1_generic.html">Generic</a>;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Diagnostics;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.<a class="code" href="namespace_system_1_1_text.html">Text</a>;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_common.html">Common</a>.<a class="code" href="namespace_sandbox_1_1_common_1_1_object_builders.html">ObjectBuilders</a>;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_definitions.html">Definitions</a>;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_engine.html">Engine</a>.<a class="code" href="namespace_sandbox_1_1_engine_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entity_components.html">EntityComponents</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_world.html">World</a>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_multiplayer.html">Multiplayer</a>;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_game_systems.html">GameSystems</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_mod_a_p_i.html">ModAPI</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_localization.html">Localization</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_object_builders.html">ObjectBuilders</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> <a class="code" href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_entity.html">Entity</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_profiler.html">Profiler</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_v_rage_1_1_game.html#ae840d3864e36153d6f5013c7a0403dcf">Game</a>.<a class="code" href="namespace_entities.html">Entities</a>.<a class="code" href="namespace_v_rage_1_1_game.html#a030a2b4ce87ec949ffb33cb16e06034eaa296104f0c61a9cf39f4824d05315e12">Cube</a></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    [MyCubeBlockType(typeof(<a class="code" href="class_sandbox_1_1_common_1_1_object_builders_1_1_my_object_builder___refinery.html">MyObjectBuilder_Refinery</a>))]</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html">   24</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html">MyRefinery</a> : <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_production_block.html">MyProductionBlock</a>, <a class="code" href="interface_sandbox_1_1_mod_a_p_i_1_1_i_my_refinery.html">IMyRefinery</a></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html">MyEntity</a> m_currentUser;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html">MyRefineryDefinition</a> m_refineryDef;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> m_queueNeedsRebuild;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> m_processingLock; <span class="comment">// Signal to ignore all inventory contents changed events.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keyword">private</span> readonly List&lt;KeyValuePair&lt;int, MyBlueprintDefinitionBase&gt;&gt; m_tmpSortedBlueprints = <span class="keyword">new</span> List&lt;KeyValuePair&lt;int, MyBlueprintDefinitionBase&gt;&gt;();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#aac61711e19376093bfe9e5c146463247">   33</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#aac61711e19376093bfe9e5c146463247">MyRefinery</a>()</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#abed22282cfa53c65a65e7f296e9200e6">   37</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#abed22282cfa53c65a65e7f296e9200e6">Init</a>(<a class="code" href="class_v_rage_1_1_game_1_1_my_object_builder___cube_block.html">MyObjectBuilder_CubeBlock</a> objectBuilder, <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html">MyCubeGrid</a> cubeGrid)</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="comment">// Need to be initialized before base.Init because when loading world with producting refinery</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="comment">// it will be missing when recompute power and cause disappearing of refinery.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            UpgradeValues.Add(<span class="stringliteral">&quot;Productivity&quot;</span>, 0f);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            UpgradeValues.Add(<span class="stringliteral">&quot;Effectiveness&quot;</span>, 1f);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            UpgradeValues.Add(<span class="stringliteral">&quot;PowerEfficiency&quot;</span>, 1f);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            base.Init(objectBuilder, cubeGrid);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <a class="code" href="class_v_rage_1_1_utils_1_1_my_debug.html">MyDebug</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_debug.html#a7ffef314f13f8adff72234509ba82f33">AssertDebug</a>(BlockDefinition is <a class="code" href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html">MyRefineryDefinition</a>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            m_refineryDef = BlockDefinition as MyRefineryDefinition;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">if</span> (InventoryAggregate.InventoryCount &gt; 2)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                Debug.Fail(<span class="stringliteral">&quot;Inventory aggregate has to many inventories, probably wrong save. If you continue the unused inventories will be removed. Save the world to correct it. Please report this is if problem prevail.&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                FixInputOutputInventories(m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a5e648ba3df1154c985401c6bd1065955">InputInventoryConstraint</a>, m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a0718297904bc19e484c8cad5fb16e0f9">OutputInventoryConstraint</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            InputInventory.Constraint = m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a5e648ba3df1154c985401c6bd1065955">InputInventoryConstraint</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordtype">bool</span> removed = InputInventory.FilterItemsUsingConstraint();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            Debug.Assert(!removed, <span class="stringliteral">&quot;Inventory filter removed items which were present in the object builder.&quot;</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            OutputInventory.Constraint = m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a0718297904bc19e484c8cad5fb16e0f9">OutputInventoryConstraint</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            removed = OutputInventory.FilterItemsUsingConstraint();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            Debug.Assert(!removed, <span class="stringliteral">&quot;Inventory filter removed items which were present in the object builder.&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            m_queueNeedsRebuild = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            m_baseIdleSound = BlockDefinition.PrimarySound;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            m_processSound = BlockDefinition.ActionSound;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            ResourceSink.RequiredInputChanged += PowerReceiver_RequiredInputChanged;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            OnUpgradeValuesChanged += UpdateDetailedInfo;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            UpdateDetailedInfo();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            NeedsUpdate |= <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_mod_a_p_i.html">ModAPI</a>.MyEntityUpdateEnum.EACH_100TH_FRAME;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }       </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a7ea66736ce3baedf35f8bd5e0d252c59">   77</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a7ea66736ce3baedf35f8bd5e0d252c59">OnBeforeInventoryRemovedFromAggregate</a>(Inventory.MyInventoryAggregate aggregate, <a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base.html">MyInventoryBase</a> inventory)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        {                        </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span> (inventory == InputInventory)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                InputInventory.ContentsChanged += inventory_OnContentsChanged;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inventory == OutputInventory)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                OutputInventory.ContentsChanged += inventory_OnContentsChanged;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                Debug.Fail(<span class="stringliteral">&quot;Added inventory to aggregate, but not input or output invenoty?! This shouldn&#39;t happen.&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            base.OnBeforeInventoryRemovedFromAggregate(aggregate, inventory); <span class="comment">// Base method needs to be called here, cuz it removes the inventories from properties</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a5a624b562aa740b0d62223987686f6fe">   94</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a5a624b562aa740b0d62223987686f6fe">OnInventoryAddedToAggregate</a>(Inventory.MyInventoryAggregate aggregate, <a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base.html">MyInventoryBase</a> inventory)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            base.OnInventoryAddedToAggregate(aggregate, inventory);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">if</span> (inventory == InputInventory)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                InputInventory.ContentsChanged += inventory_OnContentsChanged;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inventory == OutputInventory)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                OutputInventory.ContentsChanged += inventory_OnContentsChanged;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                Debug.Fail(<span class="stringliteral">&quot;Added inventory to aggregate, but not input or output invenoty?! This shouldn&#39;t happen.&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#aef4a7ee45e10cbdb8a1ec38d8b23625c">  111</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#aef4a7ee45e10cbdb8a1ec38d8b23625c">UpdateBeforeSimulation100</a>()</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            base.UpdateBeforeSimulation100();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">if</span> (Sync.IsServer &amp;&amp; IsWorking &amp;&amp; m_useConveyorSystem)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">if</span> (InputInventory.VolumeFillFactor &lt; 0.6f)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system.html">MyGridConveyorSystem</a>.<a class="code" href="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system.html#a145533e0507fc82c451c8ecf1d0894f6">PullAllRequest</a>(<span class="keyword">this</span>, InputInventory, OwnerId, InputInventory.Constraint))</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        m_queueNeedsRebuild = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="keywordflow">if</span> (OutputInventory.VolumeFillFactor &gt; 0.75f)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    Debug.Assert(OutputInventory.GetItems().Count &gt; 0);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <a class="code" href="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system.html">MyGridConveyorSystem</a>.<a class="code" href="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system.html#af3452df65f18a5d214c9a863cd323285">PushAnyRequest</a>(<span class="keyword">this</span>, OutputInventory, OwnerId);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordtype">void</span> PowerReceiver_RequiredInputChanged(<a class="code" href="namespace_my_definition_id.html">MyDefinitionId</a> resourceTypeId, <a class="code" href="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_sink_component.html">MyResourceSinkComponent</a> receiver, <span class="keywordtype">float</span> oldRequirement, <span class="keywordtype">float</span> newRequirement)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            UpdateDetailedInfo();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> inventory_OnContentsChanged(<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base.html">MyInventoryBase</a> inv)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">if</span> (m_processingLock)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (Sync.IsServer)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                m_queueNeedsRebuild = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> RebuildQueue()</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            Debug.Assert(Sync.IsServer);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            m_queueNeedsRebuild = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            ClearQueue(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="comment">//Changed by Gregory: Allow for duplicate blueprints cause it should be a supported functionality to add resources of the same type more than once</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">//So now the index is essentially given by input items of inventory. Maybe try something more efficient?</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            m_tmpSortedBlueprints.Clear();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            var inputItems = InputInventory.GetItems();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> indx = 0; indx &lt; inputItems.Count; indx++)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a3140209772e424e8a29ca229f4ed367b">BlueprintClasses</a>.Count; ++i)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">foreach</span> (var blueprint <span class="keywordflow">in</span> m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a3140209772e424e8a29ca229f4ed367b">BlueprintClasses</a>[i])</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        <a class="code" href="namespace_my_definition_id.html">MyDefinitionId</a> inputItemId = <span class="keyword">new</span> <a class="code" href="_my_resource_sink_component_base_8cs.html#a408e80ec01c76e4c1357e835e1f8741f">MyDefinitionId</a>(inputItems[indx].Content.TypeId, inputItems[indx].Content.SubtypeId);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; blueprint.Prerequisites.Length; ++j)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                            <span class="keywordflow">if</span> (blueprint.Prerequisites[j].Id.Equals(inputItemId))</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                            {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                            }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                            m_tmpSortedBlueprints.Add(<span class="keyword">new</span> KeyValuePair&lt;int, MyBlueprintDefinitionBase&gt;(indx, blueprint));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> buildAmount, remainingAmount;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_tmpSortedBlueprints.Count; i++)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                var blueprint = m_tmpSortedBlueprints[i].Value;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                buildAmount = <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>.<a class="code" href="struct_v_rage_1_1_my_fixed_point.html#aad835072969e1abc7c7a9936afaaf5d0">MaxValue</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">foreach</span> (var requirement <span class="keywordflow">in</span> blueprint.Prerequisites)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    remainingAmount = inputItems[i].Amount;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="keywordflow">if</span> (remainingAmount == 0)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        buildAmount = 0;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    buildAmount = <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>.<a class="code" href="struct_v_rage_1_1_my_fixed_point.html#ab21b11eff45cd2635e5c1c0530bd1999">Min</a>((remainingAmount * (1f / (<span class="keywordtype">float</span>)requirement.Amount)), buildAmount);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">if</span> (blueprint.Atomic) buildAmount = <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>.<a class="code" href="struct_v_rage_1_1_my_fixed_point.html#a2c5b67c6e5528c9b2b7e68f7112422e4">Floor</a>(buildAmount);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <span class="keywordflow">if</span> (buildAmount &gt; 0 &amp;&amp; buildAmount != <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>.<a class="code" href="struct_v_rage_1_1_my_fixed_point.html#aad835072969e1abc7c7a9936afaaf5d0">MaxValue</a>)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                    InsertQueueItemRequest(-1, blueprint, buildAmount);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            m_tmpSortedBlueprints.Clear();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> UpdateDetailedInfo()</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            DetailedInfo.Clear();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            DetailedInfo.AppendStringBuilder(MyTexts.Get(MyCommonTexts.BlockPropertiesText_Type));</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            DetailedInfo.Append(BlockDefinition.DisplayNameText);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            DetailedInfo.AppendFormat(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            DetailedInfo.AppendStringBuilder(MyTexts.Get(MySpaceTexts.BlockPropertiesText_MaxRequiredInput));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <a class="code" href="class_v_rage_1_1_utils_1_1_my_value_formatter.html">MyValueFormatter</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_value_formatter.html#ae8450fa42b0ac3e9dacec4d24406bb22">AppendWorkInBestUnit</a>(GetOperationalPowerConsumption(), DetailedInfo);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            DetailedInfo.AppendFormat(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            DetailedInfo.AppendStringBuilder(MyTexts.Get(MySpaceTexts.BlockPropertiesText_RequiredInput));</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <a class="code" href="class_v_rage_1_1_utils_1_1_my_value_formatter.html">MyValueFormatter</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_value_formatter.html#ae8450fa42b0ac3e9dacec4d24406bb22">AppendWorkInBestUnit</a>(ResourceSink.RequiredInputByType(<a class="code" href="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_distributor_component.html">MyResourceDistributorComponent</a>.<a class="code" href="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_distributor_component.html#abf1ed5eee9425a6bc38dfa87af1fd2cb">ElectricityId</a>), DetailedInfo);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            DetailedInfo.AppendFormat(<span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            DetailedInfo.Append(<span class="stringliteral">&quot;Productivity: &quot;</span>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            DetailedInfo.Append(((UpgradeValues[<span class="stringliteral">&quot;Productivity&quot;</span>] + 1f) * 100f).ToString(<span class="stringliteral">&quot;F0&quot;</span>));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            DetailedInfo.Append(<span class="stringliteral">&quot;%\n&quot;</span>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            DetailedInfo.Append(<span class="stringliteral">&quot;Effectiveness: &quot;</span>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            DetailedInfo.Append(((UpgradeValues[<span class="stringliteral">&quot;Effectiveness&quot;</span>]) * 100f).ToString(<span class="stringliteral">&quot;F0&quot;</span>));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            DetailedInfo.Append(<span class="stringliteral">&quot;%\n&quot;</span>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            DetailedInfo.Append(<span class="stringliteral">&quot;Power Efficiency: &quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            DetailedInfo.Append(((UpgradeValues[<span class="stringliteral">&quot;PowerEfficiency&quot;</span>]) * 100f).ToString(<span class="stringliteral">&quot;F0&quot;</span>));</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            DetailedInfo.Append(<span class="stringliteral">&quot;%\n&quot;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            RaisePropertiesChanged();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a062fdf56ca6a615cca9fcc25632a9b0c">  234</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a062fdf56ca6a615cca9fcc25632a9b0c">UpdateProduction</a>(<span class="keywordtype">int</span> timeDelta)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;Rebuild Queue&quot;</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">if</span> (m_queueNeedsRebuild &amp;&amp; (Sync.IsServer))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                RebuildQueue();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            ProfilerShort.BeginNextBlock(<span class="stringliteral">&quot;ProcessQueueItems&quot;</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            IsProducing = IsWorking &amp;&amp; !IsQueueEmpty &amp;&amp; !OutputInventory.IsFull;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">if</span> (IsProducing)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                ProcessQueueItems(timeDelta);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ProcessQueueItems(<span class="keywordtype">int</span> timeDelta)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="comment">// Prevent refreshing of queue.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            m_processingLock = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">if</span> (Sync.IsServer)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">while</span> (!IsQueueEmpty &amp;&amp; timeDelta &gt; 0)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    var wrappedItem = TryGetFirstQueueItem();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    Debug.Assert(wrappedItem.HasValue);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    QueueItem queueItem = wrappedItem.Value;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    <span class="comment">// Compute how much blueprints could be processed in remaining time.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> blueprintsProcessed = (<a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>)((timeDelta * (m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html#a45fea7e60935d4f709b65c9aca6fda1b">RefineSpeed</a> + UpgradeValues[<span class="stringliteral">&quot;Productivity&quot;</span>]) * <a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">MySession</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Static</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#acb3ed820f9ff0cf9406e56ad21dfe2de">RefinerySpeedMultiplier</a>) / (queueItem.Blueprint.BaseProductionTimeInSeconds * 1000));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    <span class="comment">// Fix that number according to how much items are in the inventory</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <span class="keywordflow">foreach</span> (var prerequisite <span class="keywordflow">in</span> queueItem.Blueprint.Prerequisites)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                        <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> oreAvailable = InputInventory.GetItemAmount(prerequisite.Id);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> oreProcessed = blueprintsProcessed * prerequisite.Amount;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        <span class="keywordflow">if</span> (oreAvailable &lt; oreProcessed)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                            blueprintsProcessed = oreAvailable * (1f / (float)prerequisite.Amount);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    <span class="comment">//GR: This assertion happens on last item to be removed when allowing duplicate blueprints. The queue is emptied but with small delay. Synchronization needed?</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <span class="comment">//Debug.Assert(blueprintsProcessed &gt; 0, &quot;No items in inventory but there are blueprints in the queue!&quot;);</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    <span class="keywordflow">if</span> (blueprintsProcessed == 0)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                        <span class="comment">//GR: For now comment out bcause it spams the log on servers on occasions</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                        <span class="comment">//MySandboxGame.Log.WriteLine(&quot;MyRefinery.ProcessQueueItems: Inventory empty while there are still blueprints in the queue!&quot;);</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                        m_queueNeedsRebuild = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <span class="comment">// Math.Max has to be here to avoid situations in which timeDelta wouldn&#39;t change at all.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <span class="comment">// Basically, this means that the refinery cannot spend less time processing items than 1ms, which is OK, I guess</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    timeDelta = timeDelta - <a class="code" href="namespace_system.html">System</a>.Math.Max(1, (<span class="keywordtype">int</span>)((<span class="keywordtype">float</span>)blueprintsProcessed * queueItem.Blueprint.BaseProductionTimeInSeconds / m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html#a45fea7e60935d4f709b65c9aca6fda1b">RefineSpeed</a> * 1000));</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <span class="keywordflow">if</span> (timeDelta &lt; 0) timeDelta = 0;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    ChangeRequirementsToResults(queueItem.Blueprint, blueprintsProcessed);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            IsProducing = !IsQueueEmpty;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            m_processingLock = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ChangeRequirementsToResults(<a class="code" href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html">MyBlueprintDefinitionBase</a> queueItem, <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> blueprintAmount)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="namespace_sandbox_1_1_game_1_1_gui.html#a85590df7a7e0f84aafc9c190d8b4699eaa603905470e2a5b8c13e96b579ef0dba">Debug</a>.Assert(<a class="code" href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">Sync</a>.IsServer);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <a class="code" href="namespace_sandbox_1_1_game_1_1_gui.html#a85590df7a7e0f84aafc9c190d8b4699eaa603905470e2a5b8c13e96b579ef0dba">Debug</a>.Assert(m_refineryDef != null, <span class="stringliteral">&quot;m_refineryDef shouldn&#39;t be null!!!&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (m_refineryDef == null)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html">MyLog</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#ad6211c26fe6b341fedd7d8fe05eb14fd">Default</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#a280e0f68244c251cc79e8e6862340bf2">WriteLine</a>(<span class="stringliteral">&quot;m_refineryDef shouldn&#39;t be null!!!&quot;</span> + <span class="keyword">this</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">Sync</a>.IsServer == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">MySession</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Static</a> == null || queueItem == null || queueItem.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html#a0ccf91f78995b46369929cd0fba6d2c8">Prerequisites</a> == null || OutputInventory == null || InputInventory == null || queueItem.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html#a019c1de12f1c3b6025f7c611d679b755">Results</a> == null || m_refineryDef == null) </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">MySession</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Static</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#a90e25715ef99923520fa4ce4ae86794a">CreativeMode</a>)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                blueprintAmount = <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>.<a class="code" href="struct_v_rage_1_1_my_fixed_point.html#ab21b11eff45cd2635e5c1c0530bd1999">Min</a>(OutputInventory.ComputeAmountThatFits(queueItem), blueprintAmount);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">if</span> (blueprintAmount == 0)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">foreach</span> (var prerequisite <span class="keywordflow">in</span> queueItem.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html#a0ccf91f78995b46369929cd0fba6d2c8">Prerequisites</a>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <a class="code" href="class_v_rage_1_1_game_1_1_my_object_builder___physical_object.html">MyObjectBuilder_PhysicalObject</a> obPrerequisite = <a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html">MyObjectBuilderSerializer</a>.<a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html#a14719e198cbabfa1189ce9d368e1bd2c">CreateNewObject</a>(prerequisite.Id) as <a class="code" href="class_v_rage_1_1_game_1_1_my_object_builder___physical_object.html">MyObjectBuilder_PhysicalObject</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="keywordflow">if</span> (obPrerequisite == null)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    <a class="code" href="namespace_sandbox_1_1_game_1_1_gui.html#a85590df7a7e0f84aafc9c190d8b4699eaa603905470e2a5b8c13e96b579ef0dba">Debug</a>.Fail(<span class="stringliteral">&quot;obPrerequisite shouldn&#39;t be null!!!&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html">MyLog</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#ad6211c26fe6b341fedd7d8fe05eb14fd">Default</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#a280e0f68244c251cc79e8e6862340bf2">WriteLine</a>(<span class="stringliteral">&quot;obPrerequisite shouldn&#39;t be null!!! &quot;</span> + <span class="keyword">this</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                var prerequisiteAmount = blueprintAmount * prerequisite.Amount;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                InputInventory.RemoveItemsOfType(prerequisiteAmount, obPrerequisite);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">foreach</span> (var result <span class="keywordflow">in</span> queueItem.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html#a019c1de12f1c3b6025f7c611d679b755">Results</a>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                var resultId = result.Id;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                MyObjectBuilder_PhysicalObject obResult = <a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html">MyObjectBuilderSerializer</a>.<a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html#a14719e198cbabfa1189ce9d368e1bd2c">CreateNewObject</a>(resultId) as MyObjectBuilder_PhysicalObject;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">if</span> (obResult == null)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    <a class="code" href="namespace_sandbox_1_1_game_1_1_gui.html#a85590df7a7e0f84aafc9c190d8b4699eaa603905470e2a5b8c13e96b579ef0dba">Debug</a>.Fail(<span class="stringliteral">&quot;obResult shouldn&#39;t be null!!!&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    <a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html">MyLog</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#ad6211c26fe6b341fedd7d8fe05eb14fd">Default</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#a280e0f68244c251cc79e8e6862340bf2">WriteLine</a>(<span class="stringliteral">&quot;obResult shouldn&#39;t be null!!! &quot;</span> + <span class="keyword">this</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                var conversionRatio = result.Amount * m_refineryDef.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html#a8ee74b7b85ba17653840c88d1aa0a113">MaterialEfficiency</a> * UpgradeValues[<span class="stringliteral">&quot;Effectiveness&quot;</span>];</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span> (conversionRatio &gt; (<a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>)1.0f)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    conversionRatio = (<a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>)1.0f;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                var resultAmount = blueprintAmount * conversionRatio;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                OutputInventory.AddItems(resultAmount, obResult);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            RemoveFirstQueueItemAnnounce(blueprintAmount);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a09ad94dd0d6d472ac9a5fe54f0c3c133">  362</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a09ad94dd0d6d472ac9a5fe54f0c3c133">GetOperationalPowerConsumption</a>()</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">return</span> base.GetOperationalPowerConsumption() * (1f + UpgradeValues[<span class="stringliteral">&quot;Productivity&quot;</span>]) * (1f / UpgradeValues[<span class="stringliteral">&quot;PowerEfficiency&quot;</span>]);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_debug_html_a7ffef314f13f8adff72234509ba82f33"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_debug.html#a7ffef314f13f8adff72234509ba82f33">VRage.Utils.MyDebug.AssertDebug</a></div><div class="ttdeci">static void AssertDebug(bool condition)</div><div class="ttdoc">This "assert" is executed in DEBUG mode. Because people dont know how to use AssertRelease! ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_debug_8cs_source.html#l00059">MyDebug.cs:59</a></div></div>
<div class="ttc" id="namespace_system_1_1_text_html"><div class="ttname"><a href="namespace_system_1_1_text.html">System.Text</a></div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_graphics_2_string_builder_extensions_8cs_source.html#l00008">StringBuilderExtensions.cs:8</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_html"><div class="ttname"><a href="namespace_sandbox_1_1_game.html">Sandbox.Game</a></div></div>
<div class="ttc" id="_my_resource_sink_component_base_8cs_html_a408e80ec01c76e4c1357e835e1f8741f"><div class="ttname"><a href="_my_resource_sink_component_base_8cs.html#a408e80ec01c76e4c1357e835e1f8741f">MyDefinitionId</a></div><div class="ttdeci">VRage.Game.MyDefinitionId MyDefinitionId</div><div class="ttdef"><b>Definition:</b> <a href="_my_resource_sink_component_base_8cs_source.html#l00004">MyResourceSinkComponentBase.cs:4</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_log_html"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_log.html">VRage.Utils.MyLog</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_log_8cs_source.html#l00049">MyLog.cs:49</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_world_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_world.html">Sandbox.Game.World</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_build_component_base_8cs_source.html#l00022">MyBuildComponentBase.cs:22</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_my_object_builder___physical_object_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_my_object_builder___physical_object.html">VRage.Game.MyObjectBuilder_PhysicalObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder___physical_object_8cs_source.html#l00012">MyObjectBuilder_PhysicalObject.cs:12</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_production_block_definition_html_a3140209772e424e8a29ca229f4ed367b"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a3140209772e424e8a29ca229f4ed367b">Sandbox.Definitions.MyProductionBlockDefinition.BlueprintClasses</a></div><div class="ttdeci">List&lt; MyBlueprintClassDefinition &gt; BlueprintClasses</div><div class="ttdef"><b>Definition:</b> <a href="_my_production_block_definition_8cs_source.html#l00023">MyProductionBlockDefinition.cs:23</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_1_1_generic_html"><div class="ttname"><a href="namespace_system_1_1_collections_1_1_generic.html">System.Collections.Generic</a></div><div class="ttdef"><b>Definition:</b> <a href="_dictionary_extensions_8cs_source.html#l00007">DictionaryExtensions.cs:7</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_common_1_1_object_builders_html"><div class="ttname"><a href="namespace_sandbox_1_1_common_1_1_object_builders.html">Sandbox.Common.ObjectBuilders</a></div></div>
<div class="ttc" id="namespace_entities_html"><div class="ttname"><a href="namespace_entities.html">Entities</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine.html">Sandbox.Engine</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_ae840d3864e36153d6f5013c7a0403dcf"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#ae840d3864e36153d6f5013c7a0403dcf">VRage.Game.Game</a></div><div class="ttdeci">Game</div><div class="ttdef"><b>Definition:</b> <a href="_game_relation_attribute_8cs_source.html#l00005">GameRelationAttribute.cs:5</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html_af76bbf8ef1269420760d55cacd951912"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Sandbox.Game.World.MySession.Static</a></div><div class="ttdeci">static MySession Static</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8cs_source.html#l00102">MySession.cs:102</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_a030a2b4ce87ec949ffb33cb16e06034eaa296104f0c61a9cf39f4824d05315e12"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#a030a2b4ce87ec949ffb33cb16e06034eaa296104f0c61a9cf39f4824d05315e12">VRage.Game.Cube</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_distributor_component_html_abf1ed5eee9425a6bc38dfa87af1fd2cb"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_distributor_component.html#abf1ed5eee9425a6bc38dfa87af1fd2cb">Sandbox.Game.EntityComponents.MyResourceDistributorComponent.ElectricityId</a></div><div class="ttdeci">static readonly MyDefinitionId ElectricityId</div><div class="ttdef"><b>Definition:</b> <a href="_my_resource_distributor_component_8cs_source.html#l00034">MyResourceDistributorComponent.cs:34</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_value_formatter_html_ae8450fa42b0ac3e9dacec4d24406bb22"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_value_formatter.html#ae8450fa42b0ac3e9dacec4d24406bb22">VRage.Utils.MyValueFormatter.AppendWorkInBestUnit</a></div><div class="ttdeci">static void AppendWorkInBestUnit(float workInMegaWatts, StringBuilder output)</div><div class="ttdef"><b>Definition:</b> <a href="_my_value_formatter_8cs_source.html#l00226">MyValueFormatter.cs:226</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html_a90e25715ef99923520fa4ce4ae86794a"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#a90e25715ef99923520fa4ce4ae86794a">Sandbox.Game.World.MySession.CreativeMode</a></div><div class="ttdeci">bool CreativeMode</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8cs_source.html#l00147">MySession.cs:147</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html">VRage.Game.Entity.MyEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00027">MyEntity.cs:27</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_my_fixed_point_html_ab21b11eff45cd2635e5c1c0530bd1999"><div class="ttname"><a href="struct_v_rage_1_1_my_fixed_point.html#ab21b11eff45cd2635e5c1c0530bd1999">VRage.MyFixedPoint.Min</a></div><div class="ttdeci">static MyFixedPoint Min(MyFixedPoint a, MyFixedPoint b)</div><div class="ttdef"><b>Definition:</b> <a href="_my_fixed_point_8cs_source.html#l00172">MyFixedPoint.cs:172</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_gui_html_a85590df7a7e0f84aafc9c190d8b4699eaa603905470e2a5b8c13e96b579ef0dba"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_gui.html#a85590df7a7e0f84aafc9c190d8b4699eaa603905470e2a5b8c13e96b579ef0dba">Sandbox.Game.Gui.Debug</a></div></div>
<div class="ttc" id="namespace_my_definition_id_html"><div class="ttname"><a href="namespace_my_definition_id.html">MyDefinitionId</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html_a5a624b562aa740b0d62223987686f6fe"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a5a624b562aa740b0d62223987686f6fe">Sandbox.Game.Entities.Cube.MyRefinery.OnInventoryAddedToAggregate</a></div><div class="ttdeci">override void OnInventoryAddedToAggregate(Inventory.MyInventoryAggregate aggregate, MyInventoryBase inventory)</div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00094">MyRefinery.cs:94</a></div></div>
<div class="ttc" id="_my_gui_skin_definition_8cs_html_a81a223a02c34d82b47199f08308847f2"><div class="ttname"><a href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a></div><div class="ttdeci">﻿using System</div><div class="ttdef"><b>Definition:</b> <a href="_my_gui_skin_definition_8cs_source.html#l00001">MyGuiSkinDefinition.cs:1</a></div></div>
<div class="ttc" id="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer_html"><div class="ttname"><a href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html">VRage.ObjectBuilders.MyObjectBuilderSerializer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder_serializer_8cs_source.html#l00024">MyObjectBuilderSerializer.cs:24</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html">Sandbox.Game.Entities.MyCubeGrid</a></div><div class="ttdoc">Grid - small ship, large ship, station Cubes (armor, walls...) are merge and rendered by this entity ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_cube_grid_8cs_source.html#l00090">MyCubeGrid.cs:90</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html_a7ea66736ce3baedf35f8bd5e0d252c59"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a7ea66736ce3baedf35f8bd5e0d252c59">Sandbox.Game.Entities.Cube.MyRefinery.OnBeforeInventoryRemovedFromAggregate</a></div><div class="ttdeci">override void OnBeforeInventoryRemovedFromAggregate(Inventory.MyInventoryAggregate aggregate, MyInventoryBase inventory)</div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00077">MyRefinery.cs:77</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_object_builders_html"><div class="ttname"><a href="namespace_v_rage_1_1_object_builders.html">VRage.ObjectBuilders</a></div><div class="ttdef"><b>Definition:</b> <a href="_dynamic_object_builder_attribute_8cs_source.html#l00003">DynamicObjectBuilderAttribute.cs:3</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_definitions_html"><div class="ttname"><a href="namespace_sandbox_1_1_definitions.html">Sandbox.Definitions</a></div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_common_2_my_definition_errors_8cs_source.html#l00008">MyDefinitionErrors.cs:8</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entity_components_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entity_components.html">Sandbox.Game.EntityComponents</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_area_trigger_component_8cs_source.html#l00012">MyAreaTriggerComponent.cs:12</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_value_formatter_html"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_value_formatter.html">VRage.Utils.MyValueFormatter</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_value_formatter_8cs_source.html#l00009">MyValueFormatter.cs:9</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_utils_html"><div class="ttname"><a href="namespace_v_rage_1_1_utils.html">VRage.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_my5_bit_encoding_8cs_source.html#l00006">My5BitEncoding.cs:6</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_distributor_component_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_distributor_component.html">Sandbox.Game.EntityComponents.MyResourceDistributorComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_resource_distributor_component_8cs_source.html#l00032">MyResourceDistributorComponent.cs:32</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system_html_a145533e0507fc82c451c8ecf1d0894f6"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system.html#a145533e0507fc82c451c8ecf1d0894f6">Sandbox.Game.GameSystems.MyGridConveyorSystem.PullAllRequest</a></div><div class="ttdeci">static bool PullAllRequest(IMyConveyorEndpointBlock start, MyInventory destinationInventory, long playerId, MyInventoryConstraint requestedTypeIds)</div><div class="ttdef"><b>Definition:</b> <a href="_my_grid_conveyor_system_8cs_source.html#l00767">MyGridConveyorSystem.cs:767</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html"><div class="ttname"><a href="namespace_v_rage_1_1_game.html">VRage.Game</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_debug_html"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_debug.html">VRage.Utils.MyDebug</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_debug_8cs_source.html#l00012">MyDebug.cs:12</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html_a062fdf56ca6a615cca9fcc25632a9b0c"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a062fdf56ca6a615cca9fcc25632a9b0c">Sandbox.Game.Entities.Cube.MyRefinery.UpdateProduction</a></div><div class="ttdeci">override void UpdateProduction(int timeDelta)</div><div class="ttdoc">Note: The child production block should update the IsProducing flag in this method ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00234">MyRefinery.cs:234</a></div></div>
<div class="ttc" id="class_sandbox_1_1_common_1_1_object_builders_1_1_my_object_builder___refinery_html"><div class="ttname"><a href="class_sandbox_1_1_common_1_1_object_builders_1_1_my_object_builder___refinery.html">Sandbox.Common.ObjectBuilders.MyObjectBuilder_Refinery</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder___refinery_8cs_source.html#l00009">MyObjectBuilder_Refinery.cs:9</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_production_block_definition_html_a5e648ba3df1154c985401c6bd1065955"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a5e648ba3df1154c985401c6bd1065955">Sandbox.Definitions.MyProductionBlockDefinition.InputInventoryConstraint</a></div><div class="ttdeci">MyInventoryConstraint InputInventoryConstraint</div><div class="ttdef"><b>Definition:</b> <a href="_my_production_block_definition_8cs_source.html#l00025">MyProductionBlockDefinition.cs:25</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_log_html_a280e0f68244c251cc79e8e6862340bf2"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_log.html#a280e0f68244c251cc79e8e6862340bf2">VRage.Utils.MyLog.WriteLine</a></div><div class="ttdeci">void WriteLine(string message, LoggingOptions option)</div><div class="ttdef"><b>Definition:</b> <a href="_my_log_8cs_source.html#l00347">MyLog.cs:347</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_localization_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_localization.html">Sandbox.Game.Localization</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_keys_to_string_8cs_source.html#l00007">MyKeysToString.cs:7</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_refinery_definition_html_a45fea7e60935d4f709b65c9aca6fda1b"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html#a45fea7e60935d4f709b65c9aca6fda1b">Sandbox.Definitions.MyRefineryDefinition.RefineSpeed</a></div><div class="ttdeci">float RefineSpeed</div><div class="ttdoc">Speed of refining ore in kg per hour. </div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_definition_8cs_source.html#l00015">MyRefineryDefinition.cs:15</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_mod_a_p_i_html_a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f"><div class="ttname"><a href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">VRage.ModAPI.Sync</a></div><div class="ttdoc">Synchronize object during multiplayer </div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base_html_a019c1de12f1c3b6025f7c611d679b755"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html#a019c1de12f1c3b6025f7c611d679b755">Sandbox.Definitions.MyBlueprintDefinitionBase.Results</a></div><div class="ttdeci">Item[] Results</div><div class="ttdef"><b>Definition:</b> <a href="_my_blueprint_definition_base_8cs_source.html#l00050">MyBlueprintDefinitionBase.cs:50</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html_abed22282cfa53c65a65e7f296e9200e6"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#abed22282cfa53c65a65e7f296e9200e6">Sandbox.Game.Entities.Cube.MyRefinery.Init</a></div><div class="ttdeci">override void Init(MyObjectBuilder_CubeBlock objectBuilder, MyCubeGrid cubeGrid)</div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00037">MyRefinery.cs:37</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_sink_component_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entity_components_1_1_my_resource_sink_component.html">Sandbox.Game.EntityComponents.MyResourceSinkComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_resource_sink_component_8cs_source.html#l00023">MyResourceSinkComponent.cs:23</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">Sandbox.Game.World.MySession</a></div><div class="ttdoc">Base class for all session types (single, coop, mmo, sandbox) </div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8_components_8cs_source.html#l00025">MySession.Components.cs:25</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_mod_a_p_i_html"><div class="ttname"><a href="namespace_v_rage_1_1_mod_a_p_i.html">VRage.ModAPI</a></div><div class="ttdef"><b>Definition:</b> <a href="_input_2_mod_a_p_i_2_i_my_control_8cs_source.html#l00008">IMyControl.cs:8</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base_html"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html">Sandbox.Definitions.MyBlueprintDefinitionBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_blueprint_definition_base_8cs_source.html#l00016">MyBlueprintDefinitionBase.cs:16</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_profiler_html"><div class="ttname"><a href="namespace_v_rage_1_1_profiler.html">VRage.Profiler</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_draw_area_8cs_source.html#l00003">MyDrawArea.cs:3</a></div></div>
<div class="ttc" id="interface_sandbox_1_1_mod_a_p_i_1_1_i_my_refinery_html"><div class="ttname"><a href="interface_sandbox_1_1_mod_a_p_i_1_1_i_my_refinery.html">Sandbox.ModAPI.IMyRefinery</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_refinery_8cs_source.html#l00009">IMyRefinery.cs:9</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_game_systems_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_game_systems.html">Sandbox.Game.GameSystems</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_thrust_component_8cs_source.html#l00020">MyEntityThrustComponent.cs:20</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_my_fixed_point_html_a2c5b67c6e5528c9b2b7e68f7112422e4"><div class="ttname"><a href="struct_v_rage_1_1_my_fixed_point.html#a2c5b67c6e5528c9b2b7e68f7112422e4">VRage.MyFixedPoint.Floor</a></div><div class="ttdeci">static MyFixedPoint Floor(MyFixedPoint a)</div><div class="ttdef"><b>Definition:</b> <a href="_my_fixed_point_8cs_source.html#l00166">MyFixedPoint.cs:166</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html_a09ad94dd0d6d472ac9a5fe54f0c3c133"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#a09ad94dd0d6d472ac9a5fe54f0c3c133">Sandbox.Game.Entities.Cube.MyRefinery.GetOperationalPowerConsumption</a></div><div class="ttdeci">override float GetOperationalPowerConsumption()</div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00362">MyRefinery.cs:362</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_production_block_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_production_block.html">Sandbox.Game.Entities.Cube.MyProductionBlock</a></div><div class="ttdoc">Common base for Assembler and Refinery blocks </div><div class="ttdef"><b>Definition:</b> <a href="_my_production_block_8cs_source.html#l00037">MyProductionBlock.cs:37</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_log_html_ad6211c26fe6b341fedd7d8fe05eb14fd"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_log.html#ad6211c26fe6b341fedd7d8fe05eb14fd">VRage.Utils.MyLog.Default</a></div><div class="ttdeci">static MyLog Default</div><div class="ttdef"><b>Definition:</b> <a href="_my_log_8cs_source.html#l00121">MyLog.cs:121</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html_aef4a7ee45e10cbdb8a1ec38d8b23625c"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#aef4a7ee45e10cbdb8a1ec38d8b23625c">Sandbox.Game.Entities.Cube.MyRefinery.UpdateBeforeSimulation100</a></div><div class="ttdeci">override void UpdateBeforeSimulation100()</div><div class="ttdoc">Called each 100th frame if registered for update100 </div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00111">MyRefinery.cs:111</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_multiplayer_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_multiplayer.html">Sandbox.Game.Multiplayer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_sync_destructions_8cs_source.html#l00033">MySyncDestructions.cs:33</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_production_block_definition_html_a0718297904bc19e484c8cad5fb16e0f9"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_production_block_definition.html#a0718297904bc19e484c8cad5fb16e0f9">Sandbox.Definitions.MyProductionBlockDefinition.OutputInventoryConstraint</a></div><div class="ttdeci">MyInventoryConstraint OutputInventoryConstraint</div><div class="ttdef"><b>Definition:</b> <a href="_my_production_block_definition_8cs_source.html#l00026">MyProductionBlockDefinition.cs:26</a></div></div>
<div class="ttc" id="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer_html_a14719e198cbabfa1189ce9d368e1bd2c"><div class="ttname"><a href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html#a14719e198cbabfa1189ce9d368e1bd2c">VRage.ObjectBuilders.MyObjectBuilderSerializer.CreateNewObject</a></div><div class="ttdeci">static MyObjectBuilder_Base CreateNewObject(SerializableDefinitionId id)</div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder_serializer_8cs_source.html#l00298">MyObjectBuilderSerializer.cs:298</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_html"><div class="ttname"><a href="namespace_system_1_1_collections.html">System.Collections</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base_html_a0ccf91f78995b46369929cd0fba6d2c8"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_blueprint_definition_base.html#a0ccf91f78995b46369929cd0fba6d2c8">Sandbox.Definitions.MyBlueprintDefinitionBase.Prerequisites</a></div><div class="ttdeci">Item[] Prerequisites</div><div class="ttdef"><b>Definition:</b> <a href="_my_blueprint_definition_base_8cs_source.html#l00049">MyBlueprintDefinitionBase.cs:49</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_refinery_definition_html_a8ee74b7b85ba17653840c88d1aa0a113"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html#a8ee74b7b85ba17653840c88d1aa0a113">Sandbox.Definitions.MyRefineryDefinition.MaterialEfficiency</a></div><div class="ttdeci">float MaterialEfficiency</div><div class="ttdoc">Percentage of material kept after refining process. Value is in range from 0 to 1, where 0.7 means that 30% of material is lost and 70% is kept. </div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_definition_8cs_source.html#l00021">MyRefineryDefinition.cs:21</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_refinery_definition_html"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_refinery_definition.html">Sandbox.Definitions.MyRefineryDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_definition_8cs_source.html#l00010">MyRefineryDefinition.cs:10</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html_aac61711e19376093bfe9e5c146463247"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html#aac61711e19376093bfe9e5c146463247">Sandbox.Game.Entities.Cube.MyRefinery.MyRefinery</a></div><div class="ttdeci">MyRefinery()</div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00033">MyRefinery.cs:33</a></div></div>
<div class="ttc" id="namespace_sandbox_html"><div class="ttname"><a href="namespace_sandbox.html">Sandbox</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_my_object_builder___cube_block_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_my_object_builder___cube_block.html">VRage.Game.MyObjectBuilder_CubeBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder___cube_block_8cs_source.html#l00016">MyObjectBuilder_CubeBlock.cs:16</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html_acb3ed820f9ff0cf9406e56ad21dfe2de"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#acb3ed820f9ff0cf9406e56ad21dfe2de">Sandbox.Game.World.MySession.RefinerySpeedMultiplier</a></div><div class="ttdeci">float RefinerySpeedMultiplier</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8cs_source.html#l00170">MySession.cs:170</a></div></div>
<div class="ttc" id="namespace_v_rage_html"><div class="ttname"><a href="namespace_v_rage.html">VRage</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base.html">VRage.Game.Entity.MyInventoryBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_inventory_base_8cs_source.html#l00015">MyInventoryBase.cs:15</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_my_fixed_point_html"><div class="ttname"><a href="struct_v_rage_1_1_my_fixed_point.html">VRage.MyFixedPoint</a></div><div class="ttdoc">Fixed point number represented as 64-bit integer with 6 decimal places (one millionts) ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_fixed_point_8cs_source.html#l00022">MyFixedPoint.cs:22</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_refinery.html">Sandbox.Game.Entities.Cube.MyRefinery</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_refinery_8cs_source.html#l00024">MyRefinery.cs:24</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system.html">Sandbox.Game.GameSystems.MyGridConveyorSystem</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_grid_conveyor_system_8cs_source.html#l00031">MyGridConveyorSystem.cs:31</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_common_html"><div class="ttname"><a href="namespace_sandbox_1_1_common.html">Sandbox.Common</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_render_debug_input_component_8cs_source.html#l00009">MyRenderDebugInputComponent.cs:9</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_entity_html"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_entity.html">VRage.Game.Entity</a></div><div class="ttdef"><b>Definition:</b> <a href="_debug_created_by_8cs_source.html#l00001">DebugCreatedBy.cs:1</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_1_1_utils_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine_1_1_utils.html">Sandbox.Engine.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_battle_helper_8cs_source.html#l00014">MyBattleHelper.cs:14</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_mod_a_p_i_html"><div class="ttname"><a href="namespace_sandbox_1_1_mod_a_p_i.html">Sandbox.ModAPI</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_advanced_door_8cs_source.html#l00006">IMyAdvancedDoor.cs:6</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system_html_af3452df65f18a5d214c9a863cd323285"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_game_systems_1_1_my_grid_conveyor_system.html#af3452df65f18a5d214c9a863cd323285">Sandbox.Game.GameSystems.MyGridConveyorSystem.PushAnyRequest</a></div><div class="ttdeci">static void PushAnyRequest(IMyConveyorEndpointBlock start, MyInventory srcInventory, long playerId)</div><div class="ttdef"><b>Definition:</b> <a href="_my_grid_conveyor_system_8cs_source.html#l01190">MyGridConveyorSystem.cs:1190</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_my_fixed_point_html_aad835072969e1abc7c7a9936afaaf5d0"><div class="ttname"><a href="struct_v_rage_1_1_my_fixed_point.html#aad835072969e1abc7c7a9936afaaf5d0">VRage.MyFixedPoint.MaxValue</a></div><div class="ttdeci">static readonly MyFixedPoint MaxValue</div><div class="ttdef"><b>Definition:</b> <a href="_my_fixed_point_8cs_source.html#l00033">MyFixedPoint.cs:33</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 23 2017 01:16:25 for Space Engineers by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
