<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Space Engineers: Sources/Sandbox.Game/Game/Replication/StateGroups/MyEntityInventoryStateGroup.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Space Engineers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_937900b87e0c7a5fa01190c395fb83f7.html">Sources</a></li><li class="navelem"><a class="el" href="dir_adcb7f0194fb5944415bcd7197787778.html">Sandbox.Game</a></li><li class="navelem"><a class="el" href="dir_04f95e6316a1b10de98d9c990257507d.html">Game</a></li><li class="navelem"><a class="el" href="dir_08026fe84744742d5ec863a33bb0b13b.html">Replication</a></li><li class="navelem"><a class="el" href="dir_741c642f8beca8d8fe87122916570479.html">StateGroups</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MyEntityInventoryStateGroup.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_state_groups_2_my_entity_inventory_state_group_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_engine.html">Engine</a>.<a class="code" href="namespace_sandbox_1_1_engine_1_1_multiplayer.html">Multiplayer</a>;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a>;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.<a class="code" href="namespace_system_1_1_collections.html">Collections</a>.<a class="code" href="namespace_system_1_1_collections_1_1_generic.html">Generic</a>;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.<a class="code" href="namespace_system_1_1_linq.html">Linq</a>;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_library.html">Library</a>.<a class="code" href="namespace_v_rage_1_1_library_1_1_collections.html">Collections</a>;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_network.html">Network</a>;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_object_builders.html">ObjectBuilders</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities_1_1_cube.html">Cube</a>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities_1_1_character.html">Character</a>;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_world.html">World</a>;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_entity.html">Entity</a>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_collections.html">Collections</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_common.html">Common</a>.<a class="code" href="namespace_sandbox_1_1_common_1_1_object_builders.html">ObjectBuilders</a>.<a class="code" href="namespace_sandbox_1_1_common_1_1_object_builders_1_1_definitions.html">Definitions</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_library.html">Library</a>.<a class="code" href="namespace_v_rage_1_1_library_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_profiler.html">Profiler</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_v_rage_1_1_game.html#ae840d3864e36153d6f5013c7a0403dcf">Game</a>.<a class="code" href="namespace_v_rage_1_1_network.html#adac6df3dba000e71924ba5bd2286cd76a8c340dc334134096f68b880b42a8692c">Replication</a>.StateGroups</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html">   21</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html">MyEntityInventoryStateGroup</a> : <a class="code" href="interface_v_rage_1_1_network_1_1_i_my_state_group.html">IMyStateGroup</a></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keyword">struct </span>InventoryDeltaInformation</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">bool</span> HasChanges;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            <span class="keyword">public</span> uint MessageId;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            <span class="keyword">public</span> List&lt;uint&gt; RemovedItems;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            <span class="keyword">public</span> Dictionary&lt;uint, MyFixedPoint&gt; ChangedItems;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            <span class="keyword">public</span> SortedDictionary&lt;int,MyPhysicalInventoryItem&gt; NewItems;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <span class="keyword">public</span> Dictionary&lt;int, int&gt; SwappedItems;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keyword">struct </span>ClientInvetoryData</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <span class="keyword">public</span> <a class="code" href="struct_v_rage_1_1_game_1_1_entity_1_1_my_physical_inventory_item.html">MyPhysicalInventoryItem</a> <a class="code" href="namespace_sandbox.html#a06631b4ee1d21fadc24abf5a4b262aa9a7d74f3b92b19da5e606d737d339a9679">Item</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <span class="keyword">public</span> <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> Amount;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keyword">class </span>InventoryClientData</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <span class="keyword">public</span> uint CurrentMessageId;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <span class="keyword">public</span> InventoryDeltaInformation MainSendingInfo;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">bool</span> Dirty;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keyword">public</span> Dictionary&lt;byte, InventoryDeltaInformation&gt; SendPackets = <span class="keyword">new</span> Dictionary&lt;byte, InventoryDeltaInformation&gt;();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="keyword">public</span> List&lt;InventoryDeltaInformation&gt; FailedIncompletePackets = <span class="keyword">new</span> List&lt;InventoryDeltaInformation&gt;();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keyword">public</span> SortedDictionary&lt;uint, ClientInvetoryData&gt; ClientItemsSorted = <span class="keyword">new</span> SortedDictionary&lt;uint, ClientInvetoryData&gt;();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            <span class="keyword">public</span> List&lt;ClientInvetoryData&gt; ClientItems = <span class="keyword">new</span> List&lt;ClientInvetoryData&gt;();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="class_sandbox_1_1_game_1_1_my_inventory.html">MyInventory</a> <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a> { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a249ef88df54dc67d1d9d39606a361608">   53</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="interface_v_rage_1_1_network_1_1_i_my_replicable.html">IMyReplicable</a> <a class="code" href="namespace_sandbox_1_1_game_1_1_entities_1_1_blocks.html#ace4e2d9da628227befaeea4c98e57a93ab6f4a2ec6356bbd56d49f2096bf9d3d3">Owner</a> { <span class="keyword">get</span>; <span class="keyword">private</span> set; }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        readonly <span class="keywordtype">int</span> m_inventoryIndex;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        Dictionary&lt;ulong, InventoryClientData&gt; m_clientInventoryUpdate;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        List&lt;MyPhysicalInventoryItem&gt; m_itemsToSend;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        HashSet&lt;uint&gt; m_foundDeltaItems;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        Action&lt;MyInventoryBase&gt; m_inventoryChangedDelegate;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="class_v_rage_1_1_collections_1_1_my_queue.html">MyQueue&lt;uint&gt;</a> m_recievedPacketIds;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> RECIEVED_PACKET_HISTORY = 256;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a8cf9f8ee1bed65dff8889a86b720299f">   69</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1">StateGroupEnum</a> GroupType { <span class="keyword">get</span> { <span class="keywordflow">return</span> <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1">StateGroupEnum</a>.Inventory; } }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#af43bca6020f8177074243626e451760a">   72</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#af43bca6020f8177074243626e451760a">MyEntityInventoryStateGroup</a>(<a class="code" href="class_sandbox_1_1_game_1_1_my_inventory.html">MyInventory</a> entity, <span class="keywordtype">bool</span> attach, <a class="code" href="interface_v_rage_1_1_network_1_1_i_my_replicable.html">IMyReplicable</a> owner)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            m_inventoryChangedDelegate = InventoryChanged;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a> = entity;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (attach)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.ContentsChanged += m_inventoryChangedDelegate;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="namespace_sandbox_1_1_game_1_1_entities_1_1_blocks.html#ace4e2d9da628227befaeea4c98e57a93ab6f4a2ec6356bbd56d49f2096bf9d3d3">Owner</a> = owner;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordtype">void</span> InventoryChanged(<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base.html">MyInventoryBase</a> obj)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (m_clientInventoryUpdate == null)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">foreach</span> (var clientData <span class="keywordflow">in</span> m_clientInventoryUpdate)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                m_clientInventoryUpdate[clientData.Key].Dirty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            MyMultiplayer.GetReplicationServer().AddToDirtyGroups(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a53dba49942a1925fefa9d889842984be">   98</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a53dba49942a1925fefa9d889842984be">CreateClientData</a>(<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html">MyClientStateBase</a> forClient)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">if</span> (m_clientInventoryUpdate == null)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                m_clientInventoryUpdate = <span class="keyword">new</span> Dictionary&lt;ulong, InventoryClientData&gt;();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            InventoryClientData data;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (m_clientInventoryUpdate.TryGetValue(forClient.<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html#acf0bf51dce3efe39b3c9635d26120ea0">EndpointId</a>.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>, out data) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                m_clientInventoryUpdate[forClient.<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html#acf0bf51dce3efe39b3c9635d26120ea0">EndpointId</a>.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>] = <span class="keyword">new</span> InventoryClientData();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                data = m_clientInventoryUpdate[forClient.<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html#acf0bf51dce3efe39b3c9635d26120ea0">EndpointId</a>.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>];</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            data.Dirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            List&lt;MyPhysicalInventoryItem&gt; items = <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.GetItems();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">foreach</span> (var serverItem <span class="keywordflow">in</span> items)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> amount = serverItem.Amount;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                var gasItem = serverItem.Content as <a class="code" href="class_sandbox_1_1_common_1_1_object_builders_1_1_definitions_1_1_my_object_builder___gas_container_object.html">MyObjectBuilder_GasContainerObject</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="keywordflow">if</span> (gasItem != null)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    amount = (<a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>)gasItem.GasLevel;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                ClientInvetoryData item = <span class="keyword">new</span> ClientInvetoryData() { <a class="code" href="namespace_item.html">Item</a> = serverItem, Amount = amount };</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                data.ClientItemsSorted[serverItem.ItemId] = item;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                data.ClientItems.Add(item);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            MyMultiplayer.GetReplicationServer().AddToDirtyGroups(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a3dab13fae9afb3d33fc36858e680467a">  133</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a3dab13fae9afb3d33fc36858e680467a">DestroyClientData</a>(<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html">MyClientStateBase</a> forClient)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">if</span> (m_clientInventoryUpdate != null)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                m_clientInventoryUpdate.Remove(forClient.<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html#acf0bf51dce3efe39b3c9635d26120ea0">EndpointId</a>.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a717ae7586df476961c3a5366c04851fb">  141</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a717ae7586df476961c3a5366c04851fb">ClientUpdate</a>(<a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">MyTimeSpan</a> clientTimestamp)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ad77043482fb9d9d026ef4d86dd93e7a6">  145</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ad77043482fb9d9d026ef4d86dd93e7a6">Destroy</a>()</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a3a85296113e445f357bca11e795b6db1">  149</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a3a85296113e445f357bca11e795b6db1">GetGroupPriority</a>(<span class="keywordtype">int</span> frameCountWithoutSync, <a class="code" href="struct_v_rage_1_1_network_1_1_my_client_info.html">MyClientInfo</a> client)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;MyEntityInventoryStateGroup::GetGroupPriority&quot;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            InventoryClientData clientData = m_clientInventoryUpdate[client.<a class="code" href="struct_v_rage_1_1_network_1_1_my_client_info.html#a834351798d201ff41e34d2baf1e6fd6e">EndpointId</a>.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>];</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            List&lt;MyPhysicalInventoryItem&gt; items = <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.GetItems();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (clientData.Dirty == <span class="keyword">false</span> &amp;&amp; clientData.FailedIncompletePackets.Count == 0)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">if</span> (clientData.FailedIncompletePackets.Count  &gt; 0)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">return</span> 1.0f * frameCountWithoutSync;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a> state = (<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a>)client.<a class="code" href="struct_v_rage_1_1_network_1_1_my_client_info.html#aec95678008baa03399e9c940305a4822">State</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            if (<a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.Owner is <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_character_1_1_my_character.html">MyCharacter</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                MyCharacter character = <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.Owner as MyCharacter;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_player.html">MyPlayer</a> player = <a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_player.html">MyPlayer</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_player.html#ad70b44f71f878e2111dad27f132f0453">GetPlayerFromCharacter</a>(character);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">if</span> (player == null &amp;&amp; character.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_character_1_1_my_character.html#ac06fd927563aed616f57c76a541346ef">IsUsing</a> != null)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller.html">MyShipController</a> cockpit = (character.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_character_1_1_my_character.html#ac06fd927563aed616f57c76a541346ef">IsUsing</a> as <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller.html">MyShipController</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <span class="keywordflow">if</span> (cockpit != null &amp;&amp; cockpit.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller.html#a9285d194262501503cf5efbd87ee30c3">ControllerInfo</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_controller_info.html#a23bfead9033906e9e14c334a8e73c3bd">Controller</a> != null)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        player = cockpit.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller.html#a9285d194262501503cf5efbd87ee30c3">ControllerInfo</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_controller_info.html#a23bfead9033906e9e14c334a8e73c3bd">Controller</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_entity_controller.html#a042739c6e8a5f373b00e87cc5976b2aa">Player</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">if</span> (player != null &amp;&amp; player.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_player.html#a76754ff801d26067e6a607411cdc0d1f">Id</a>.<a class="code" href="struct_sandbox_1_1_game_1_1_world_1_1_my_player_1_1_player_id.html#a50c3ee1352cf1859f1a999e14929255e">SteamId</a> == client.<a class="code" href="struct_v_rage_1_1_network_1_1_my_client_info.html#a834351798d201ff41e34d2baf1e6fd6e">EndpointId</a>.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    ProfilerShort.End();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    <span class="keywordflow">return</span> 1.0f * frameCountWithoutSync;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">if</span> (state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#ae8c2f607245acf7557e064d5b1b398bc">ContextEntity</a> is MyCharacter &amp;&amp; state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#ae8c2f607245acf7557e064d5b1b398bc">ContextEntity</a> == <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.Owner)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keywordflow">return</span> 1.0f * frameCountWithoutSync;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">if</span> (state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#a39894207b382bdcaf385f02e2c60096f">Context</a> == <a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a>.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#af649e9ad222fccb14a9c00b861641c5e">MyContextKind</a>.Inventory || state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#a39894207b382bdcaf385f02e2c60096f">Context</a> == <a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a>.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#af649e9ad222fccb14a9c00b861641c5e">MyContextKind</a>.Building ||</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                (state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#a39894207b382bdcaf385f02e2c60096f">Context</a> == <a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a>.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#af649e9ad222fccb14a9c00b861641c5e">MyContextKind</a>.Production &amp;&amp; <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.Owner is <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_assembler.html">MyAssembler</a>))</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="keywordflow">return</span> GetPriorityStateGroup(client) * frameCountWithoutSync;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a90ef8c559501dac54a13137fd1533b9c">  205</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a90ef8c559501dac54a13137fd1533b9c">GetPriorityStateGroup</a>(<a class="code" href="struct_v_rage_1_1_network_1_1_my_client_info.html">MyClientInfo</a> client)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a> state = (<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a>)client.<a class="code" href="struct_v_rage_1_1_network_1_1_my_client_info.html#aec95678008baa03399e9c940305a4822">State</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            if (<a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.ForcedPriority.HasValue)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.ForcedPriority.Value;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">if</span> (state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#ae8c2f607245acf7557e064d5b1b398bc">ContextEntity</a> != null)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keywordflow">if</span> (state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#ae8c2f607245acf7557e064d5b1b398bc">ContextEntity</a> == <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.Owner)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    <span class="keywordflow">return</span> 1.0f;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html">MyCubeGrid</a> parent = state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#ae8c2f607245acf7557e064d5b1b398bc">ContextEntity</a>.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a2bcca263645e94f5ed3a0108366ffc3a">GetTopMostParent</a>() as <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html">MyCubeGrid</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keywordflow">if</span> (parent != null)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        <span class="keywordflow">foreach</span> (var block <span class="keywordflow">in</span> parent.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html#ae2e48ea87f89f863c099ce01836c50c0">GridSystems</a>.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_cube_grid_systems.html#a3759bf58465e7169fddf6e7f7fe4a226">TerminalSystem</a>.Blocks)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                            <span class="keywordflow">if</span> (block == <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.Container.Entity)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                            {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                <span class="keywordflow">if</span> (state.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#a39894207b382bdcaf385f02e2c60096f">Context</a> == <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_engine.html">Engine</a>.<a class="code" href="namespace_sandbox_1_1_engine_1_1_multiplayer.html">Multiplayer</a>.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">MyClientState</a>.<a class="code" href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#af649e9ad222fccb14a9c00b861641c5e">MyContextKind</a>.Production &amp;&amp; (block is <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_assembler.html">MyAssembler</a>) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                <span class="keywordflow">return</span> 1.0f;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                            }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ad9d6dfadbc6905b2786db0011fc1643d">  243</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ad9d6dfadbc6905b2786db0011fc1643d">Serialize</a>(<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html">BitStream</a> stream, <a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html">EndpointId</a> forClient, <a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">MyTimeSpan</a> timestamp, byte packetId, <span class="keywordtype">int</span> maxBitPosition)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ac568cd1afe54932874be8c6c327dc1af">Writing</a>)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                InventoryClientData clientData = m_clientInventoryUpdate[forClient.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>];</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordtype">bool</span> needsSplit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keywordflow">if</span> (clientData.FailedIncompletePackets.Count &gt; 0)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    InventoryDeltaInformation failedPacket = clientData.FailedIncompletePackets[0];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    clientData.FailedIncompletePackets.RemoveAtFast(0);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    InventoryDeltaInformation reSendPacket = WriteInventory(ref failedPacket, stream, packetId, maxBitPosition, out needsSplit);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <span class="keywordflow">if</span> (needsSplit)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        <span class="comment">//resend split doesnt generate new id becaose it was part of allreadt sent message</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        clientData.FailedIncompletePackets.Add(CreateSplit(ref failedPacket, ref reSendPacket));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    <span class="keywordflow">if</span> (reSendPacket.HasChanges)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        clientData.SendPackets[packetId] = reSendPacket;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                {   </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    InventoryDeltaInformation difference  = CalculateInventoryDiff(ref clientData);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    difference.MessageId = clientData.CurrentMessageId;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    clientData.MainSendingInfo = WriteInventory(ref difference, stream, packetId, maxBitPosition,out needsSplit);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <span class="keywordflow">if</span> (needsSplit)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                        <span class="comment">//split generate new id becaose its different message </span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                        clientData.CurrentMessageId++;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                        InventoryDeltaInformation split = CreateSplit(ref difference, ref clientData.MainSendingInfo);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                        split.MessageId = clientData.CurrentMessageId;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                        clientData.FailedIncompletePackets.Add(split);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <span class="keywordflow">if</span> (clientData.MainSendingInfo.HasChanges)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        clientData.SendPackets[packetId] = clientData.MainSendingInfo;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                        clientData.CurrentMessageId++;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    clientData.Dirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                ReadInventory(stream);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ReadInventory(<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html">BitStream</a> stream)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span>(stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a72e5d18ebd883a20445916d68edda6a3">ReadBool</a>() == <span class="keyword">false</span>)       </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">if</span>(m_recievedPacketIds == null)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                m_recievedPacketIds = <span class="keyword">new</span> <a class="code" href="class_v_rage_1_1_collections_1_1_my_queue.html">MyQueue&lt;uint&gt;</a>(RECIEVED_PACKET_HISTORY);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            uint packetId = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a3a68273a259981a6557cf4a129c77db3">ReadUInt32</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordtype">bool</span> apply = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">if</span> (m_recievedPacketIds.<a class="code" href="class_v_rage_1_1_collections_1_1_my_queue.html#afa4b4ee2cc87d073924f037e098e4918">Count</a> == RECIEVED_PACKET_HISTORY)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                m_recievedPacketIds.<a class="code" href="class_v_rage_1_1_collections_1_1_my_queue.html#a832dc882305003e86a631886811fcec5">Dequeue</a>();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">if</span> (m_recievedPacketIds.<a class="code" href="class_v_rage_1_1_collections_1_1_my_queue.html#a9dffc1b1487561ac605a790f4fb6bf3f">InternalArray</a>.Contains(packetId) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                m_recievedPacketIds.<a class="code" href="class_v_rage_1_1_collections_1_1_my_queue.html#a43d9bafd210d369fc4ffa4c185a8590f">Enqueue</a>(packetId);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                apply = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordtype">bool</span> hasItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a72e5d18ebd883a20445916d68edda6a3">ReadBool</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">if</span>(hasItems)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="keywordtype">int</span> numItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">ReadInt32</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numItems; ++i)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    uint itemId = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a3a68273a259981a6557cf4a129c77db3">ReadUInt32</a>();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> amout = <span class="keyword">new</span> <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    amout.<a class="code" href="struct_v_rage_1_1_my_fixed_point.html#a63baa9657a1529f0e5c615ebb223fe58">RawValue</a> = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#afe3a3797d5828f727c072e4e7e8828e6">ReadInt64</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    <span class="keywordflow">if</span> (apply)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.UpdateItemAmoutClient(itemId, amout);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            hasItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a72e5d18ebd883a20445916d68edda6a3">ReadBool</a>();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (hasItems)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="keywordtype">int</span> numItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">ReadInt32</a>();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numItems; ++i)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    uint itemId = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a3a68273a259981a6557cf4a129c77db3">ReadUInt32</a>();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="keywordflow">if</span> (apply)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                        <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.RemoveItemClient(itemId);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            hasItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a72e5d18ebd883a20445916d68edda6a3">ReadBool</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (hasItems)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordtype">int</span> numItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">ReadInt32</a>();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numItems; ++i)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    <span class="keywordtype">int</span> position = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">ReadInt32</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    <a class="code" href="struct_v_rage_1_1_game_1_1_entity_1_1_my_physical_inventory_item.html">MyPhysicalInventoryItem</a> item;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_serialization.html">Serialization</a>.<a class="code" href="class_v_rage_1_1_serialization_1_1_my_serializer.html">MySerializer</a>.CreateAndRead(stream, out item, <a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html">MyObjectBuilderSerializer</a>.<a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html#a3c2bdd75cad7c79db7a992d7d4f9a756">Dynamic</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    <span class="keywordflow">if</span> (apply)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                        <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.AddItemClient(position, item);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            hasItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a72e5d18ebd883a20445916d68edda6a3">ReadBool</a>();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">if</span> (hasItems)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keywordtype">int</span> numItems = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">ReadInt32</a>();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numItems; ++i)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    <span class="keywordtype">int</span> position = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">ReadInt32</a>();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    <span class="keywordtype">int</span> newPosition = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">ReadInt32</a>();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    <span class="keywordflow">if</span> (apply)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                        <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.SwapItemClient(position, newPosition);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.Refresh();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        InventoryDeltaInformation CalculateInventoryDiff(ref InventoryClientData clientData)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">if</span> (m_itemsToSend == null)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                m_itemsToSend = <span class="keyword">new</span> List&lt;MyPhysicalInventoryItem&gt;();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span>(m_foundDeltaItems == null )</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                m_foundDeltaItems = <span class="keyword">new</span> HashSet&lt;uint&gt;();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            m_foundDeltaItems.Clear();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;           </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            InventoryDeltaInformation delta;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            List&lt;MyPhysicalInventoryItem&gt; items = <a class="code" href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">Inventory</a>.GetItems();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="comment">//this is two step algoritm </span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="comment">//first check for adds/removals</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="comment">//this part can find removed and added items</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="comment">//but cannot find swapped items</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            CalculateAddsAndRemovals(clientData, out delta, items);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="comment">//apply changes to client items (only add and remove)</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">if</span>(delta.HasChanges)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                ApplyChangesToClientItems(clientData,ref delta);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="comment">//then check client data for changed items</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; items.Count; ++i)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keywordflow">if</span>(clientData.ClientItems.Count &lt; i &amp;&amp; clientData.ClientItems[i].Item.ItemId !=  items[i].ItemId)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                {    </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    <span class="keywordflow">if</span>(delta.SwappedItems == null)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        delta.SwappedItems = <span class="keyword">new</span> Dictionary&lt;int, int&gt;();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <span class="keywordflow">if</span>(delta.SwappedItems.ContainsKey(i))</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; clientData.ClientItems.Count;++j)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        <span class="keywordflow">if</span>(clientData.ClientItems[j].Item.ItemId == items[i].ItemId)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                            delta.SwappedItems[j] = i;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    }             </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            clientData.ClientItemsSorted.Clear();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            clientData.ClientItems.Clear();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">foreach</span> (var serverItem <span class="keywordflow">in</span> items)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> amount = serverItem.Amount;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                var gasItem = serverItem.Content as <a class="code" href="class_sandbox_1_1_common_1_1_object_builders_1_1_definitions_1_1_my_object_builder___gas_container_object.html">MyObjectBuilder_GasContainerObject</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">if</span> (gasItem != null)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    amount = (<a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>)gasItem.GasLevel;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                ClientInvetoryData item = <span class="keyword">new</span> ClientInvetoryData() { <a class="code" href="namespace_item.html">Item</a> = serverItem, Amount = amount };</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                clientData.ClientItemsSorted[serverItem.ItemId] = item;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                clientData.ClientItems.Add(item);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">return</span> delta;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ApplyChangesToClientItems(InventoryClientData clientData,ref  InventoryDeltaInformation delta)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordflow">if</span> (delta.RemovedItems != null)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> delta.RemovedItems)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    <span class="keywordtype">int</span> index = -1;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; clientData.ClientItems.Count; ++i)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        <span class="keywordflow">if</span> (clientData.ClientItems[i].Item.ItemId == item)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                            index = i;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                    <span class="keywordflow">if</span> (index != -1)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                        clientData.ClientItems.RemoveAt(index);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">if</span> (delta.NewItems != null)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> delta.NewItems)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    ClientInvetoryData newitem = <span class="keyword">new</span> ClientInvetoryData() { <a class="code" href="namespace_item.html">Item</a> = item.Value, Amount = item.Value.Amount };</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    <span class="keywordflow">if</span> (item.Key &gt;= clientData.ClientItems.Count)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                    {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        clientData.ClientItems.Add(newitem);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                        clientData.ClientItems.Insert(item.Key, newitem);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> CalculateAddsAndRemovals(InventoryClientData clientData, out InventoryDeltaInformation delta, List&lt;MyPhysicalInventoryItem&gt; items)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            delta = <span class="keyword">new</span> InventoryDeltaInformation();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            delta.HasChanges = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordtype">int</span> serverPos = 0;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">foreach</span> (var serverItem <span class="keywordflow">in</span> items)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                ClientInvetoryData clientItem;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <span class="keywordflow">if</span> (clientData.ClientItemsSorted.TryGetValue(serverItem.ItemId, out clientItem))</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                    <span class="keywordflow">if</span> (clientItem.Item.Content.TypeId == serverItem.Content.TypeId &amp;&amp;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                        clientItem.Item.Content.SubtypeId == serverItem.Content.SubtypeId)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        m_foundDeltaItems.Add(serverItem.ItemId);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                        <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> serverAmount = serverItem.Amount;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                        var gasItem = serverItem.Content as MyObjectBuilder_GasContainerObject;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        <span class="keywordflow">if</span> (gasItem != null)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                        {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                            serverAmount = (<a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a>)gasItem.GasLevel;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                        }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                        <span class="keywordflow">if</span> (clientItem.Amount != serverAmount)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                        {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                            <a class="code" href="struct_v_rage_1_1_my_fixed_point.html">MyFixedPoint</a> contentDelta = serverAmount - clientItem.Amount;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                            <span class="keywordflow">if</span> (delta.ChangedItems == null)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                            {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                delta.ChangedItems = <span class="keyword">new</span> Dictionary&lt;uint, MyFixedPoint&gt;();</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                            }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                            delta.ChangedItems[serverItem.ItemId] = contentDelta;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                            delta.HasChanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                        }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="keywordflow">if</span> (delta.NewItems == null)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        delta.NewItems = <span class="keyword">new</span> SortedDictionary&lt;int, MyPhysicalInventoryItem&gt;();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    delta.NewItems[serverPos] = serverItem;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    delta.HasChanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                serverPos++;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="keywordflow">foreach</span> (var clientItem <span class="keywordflow">in</span> clientData.ClientItemsSorted)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="keywordflow">if</span> (delta.RemovedItems == null)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    delta.RemovedItems = <span class="keyword">new</span> List&lt;uint&gt;();</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="keywordflow">if</span> (m_foundDeltaItems.Contains(clientItem.Key) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    delta.RemovedItems.Add(clientItem.Key);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    delta.HasChanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keyword">private</span> InventoryDeltaInformation WriteInventory(ref InventoryDeltaInformation packetInfo, <a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html">BitStream</a> stream, byte packetId, <span class="keywordtype">int</span> maxBitPosition, out <span class="keywordtype">bool</span> needsSplit)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            InventoryDeltaInformation sendPacketInfo = PrepareSendData(ref packetInfo, stream, maxBitPosition, out needsSplit);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">if</span> (sendPacketInfo.HasChanges == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keywordflow">return</span> sendPacketInfo;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            sendPacketInfo.MessageId = packetInfo.MessageId;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a35441b874326e0bac0d5a1309b5c80d4">WriteUInt32</a>(sendPacketInfo.MessageId);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(sendPacketInfo.ChangedItems != null);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">if</span> (sendPacketInfo.ChangedItems != null)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(sendPacketInfo.ChangedItems.Count);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> sendPacketInfo.ChangedItems)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a35441b874326e0bac0d5a1309b5c80d4">WriteUInt32</a>(item.Key);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a00cf9910aee9b306c28d8fca72bee894">WriteInt64</a>(item.Value.RawValue);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(sendPacketInfo.RemovedItems != null);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">if</span> (sendPacketInfo.RemovedItems != null)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(sendPacketInfo.RemovedItems.Count);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> sendPacketInfo.RemovedItems)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a35441b874326e0bac0d5a1309b5c80d4">WriteUInt32</a>(item);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(sendPacketInfo.NewItems != null);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <span class="keywordflow">if</span> (sendPacketInfo.NewItems != null)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(sendPacketInfo.NewItems.Count);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> sendPacketInfo.NewItems)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(item.Key);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    <a class="code" href="struct_v_rage_1_1_game_1_1_entity_1_1_my_physical_inventory_item.html">MyPhysicalInventoryItem</a> itemTosend = item.Value;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_serialization.html">Serialization</a>.<a class="code" href="class_v_rage_1_1_serialization_1_1_my_serializer.html">MySerializer</a>.Write(stream, ref itemTosend, <a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html">MyObjectBuilderSerializer</a>.<a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html#a3c2bdd75cad7c79db7a992d7d4f9a756">Dynamic</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(sendPacketInfo.SwappedItems != null);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">if</span> (sendPacketInfo.SwappedItems != null)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(sendPacketInfo.SwappedItems.Count);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> sendPacketInfo.SwappedItems)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(item.Key);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(item.Value);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="keywordflow">return</span> sendPacketInfo;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keyword">private</span> InventoryDeltaInformation PrepareSendData(ref InventoryDeltaInformation packetInfo, <a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html">BitStream</a> stream, <span class="keywordtype">int</span> maxBitPosition,out <span class="keywordtype">bool</span> needsSplit)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            needsSplit = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordtype">int</span> startStreamPosition = stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            InventoryDeltaInformation sentData = <span class="keyword">new</span> InventoryDeltaInformation();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            sentData.HasChanges = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a35441b874326e0bac0d5a1309b5c80d4">WriteUInt32</a>(packetInfo.MessageId);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(packetInfo.ChangedItems != null);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">if</span> (packetInfo.ChangedItems != null)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(packetInfo.ChangedItems.Count);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &gt; maxBitPosition)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                    needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    sentData.ChangedItems = <span class="keyword">new</span> Dictionary&lt;uint, MyFixedPoint&gt;();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> packetInfo.ChangedItems)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                    {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                        stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a35441b874326e0bac0d5a1309b5c80d4">WriteUInt32</a>(item.Key);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                        stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a00cf9910aee9b306c28d8fca72bee894">WriteInt64</a>(item.Value.RawValue);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                        <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &lt;= maxBitPosition)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                            sentData.ChangedItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                            sentData.HasChanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                        }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                        {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                            needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                        }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(packetInfo.RemovedItems != null);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <span class="keywordflow">if</span> (packetInfo.RemovedItems != null)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(packetInfo.RemovedItems.Count);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &gt; maxBitPosition)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    sentData.RemovedItems = <span class="keyword">new</span> List&lt;uint&gt;();</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> packetInfo.RemovedItems)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a35441b874326e0bac0d5a1309b5c80d4">WriteUInt32</a>(item);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                        <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &lt;= maxBitPosition)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                        {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                            sentData.RemovedItems.Add(item);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                            sentData.HasChanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                        }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                            needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(packetInfo.NewItems != null);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">if</span> (packetInfo.NewItems != null)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(packetInfo.NewItems.Count);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &gt; maxBitPosition)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    sentData.NewItems = <span class="keyword">new</span> SortedDictionary&lt;int, MyPhysicalInventoryItem&gt;();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span>  packetInfo.NewItems)</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                    {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                        <a class="code" href="struct_v_rage_1_1_game_1_1_entity_1_1_my_physical_inventory_item.html">MyPhysicalInventoryItem</a> inventoryItem = item.Value;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                        stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(item.Key);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                        <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_serialization.html">Serialization</a>.<a class="code" href="class_v_rage_1_1_serialization_1_1_my_serializer.html">MySerializer</a>.Write(stream, ref inventoryItem, <a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html">MyObjectBuilderSerializer</a>.<a class="code" href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html#a3c2bdd75cad7c79db7a992d7d4f9a756">Dynamic</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                        <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &lt;= maxBitPosition)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                        {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                            sentData.NewItems[item.Key] = inventoryItem;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                            sentData.HasChanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                        }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                        {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                            needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                        }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">WriteBool</a>(packetInfo.SwappedItems != null);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">if</span> (packetInfo.SwappedItems != null)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(packetInfo.SwappedItems.Count);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &gt; maxBitPosition)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                    needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    sentData.SwappedItems = <span class="keyword">new</span> Dictionary&lt;int, int&gt;();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> packetInfo.SwappedItems)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(item.Key);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                        stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">WriteInt32</a>(item.Value);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                        <span class="keywordflow">if</span> (stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">BitPosition</a> &lt;= maxBitPosition)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                        {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                            sentData.SwappedItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                            sentData.HasChanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                        }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                        {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                            needsSplit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                        }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                    }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            stream.<a class="code" href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#afa0ab8ac0ea876330954b67d04ba9116">SetBitPositionWrite</a>(startStreamPosition);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keywordflow">return</span> sentData;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keyword">private</span> InventoryDeltaInformation CreateSplit(ref InventoryDeltaInformation originalData, ref InventoryDeltaInformation sentData)</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            InventoryDeltaInformation split = <span class="keyword">new</span> InventoryDeltaInformation();</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            split.MessageId = sentData.MessageId;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">if</span>(originalData.ChangedItems != null)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="keywordflow">if</span> (sentData.ChangedItems == null)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                    split.ChangedItems = <span class="keyword">new</span> Dictionary&lt;uint, MyFixedPoint&gt;();    </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.ChangedItems)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                        split.ChangedItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(originalData.ChangedItems.Count != sentData.ChangedItems.Count)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    split.ChangedItems = <span class="keyword">new</span> Dictionary&lt;uint, MyFixedPoint&gt;();</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.ChangedItems)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                        <span class="keywordflow">if</span> (sentData.ChangedItems.ContainsKey(item.Key) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                        {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                            split.ChangedItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="keywordflow">if</span> (originalData.RemovedItems != null)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            {        </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                <span class="keywordflow">if</span> (sentData.RemovedItems == null)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    split.RemovedItems = <span class="keyword">new</span> List&lt;uint&gt;();</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.RemovedItems)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                    {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        split.RemovedItems.Add(item);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(originalData.RemovedItems.Count != sentData.RemovedItems.Count)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                    split.RemovedItems = <span class="keyword">new</span> List&lt;uint&gt;();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.RemovedItems)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                        <span class="keywordflow">if</span> (sentData.RemovedItems.Contains(item) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                        {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                            split.RemovedItems.Add(item);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                        }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="keywordflow">if</span> (originalData.NewItems != null)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="keywordflow">if</span> (sentData.NewItems == null)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                    split.NewItems = <span class="keyword">new</span> SortedDictionary&lt;int, MyPhysicalInventoryItem&gt;();</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.NewItems)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                    {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                        split.NewItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (originalData.NewItems.Count != sentData.NewItems.Count)</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    split.NewItems = <span class="keyword">new</span> SortedDictionary&lt;int, MyPhysicalInventoryItem&gt;();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.NewItems)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                    {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                        <span class="keywordflow">if</span> (sentData.NewItems.ContainsKey(item.Key) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                            split.NewItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                        }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="keywordflow">if</span> (originalData.SwappedItems != null)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                <span class="keywordflow">if</span> (sentData.SwappedItems == null)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    split.SwappedItems = <span class="keyword">new</span> Dictionary&lt;int, int&gt;();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.SwappedItems)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                        split.SwappedItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (originalData.SwappedItems.Count != sentData.SwappedItems.Count)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                    split.SwappedItems = <span class="keyword">new</span> Dictionary&lt;int, int&gt;();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                    <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> originalData.SwappedItems)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                    {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                        <span class="keywordflow">if</span> (sentData.SwappedItems.ContainsKey(item.Key) == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                        {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                            split.SwappedItems[item.Key] = item.Value;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                        }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                    }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordflow">return</span> split;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div>
<div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#af6d00fec70c468f20f11e1d8d6d19e93">  862</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#af6d00fec70c468f20f11e1d8d6d19e93">OnAck</a>(<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html">MyClientStateBase</a> forClient, byte packetId, <span class="keywordtype">bool</span> delivered)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            InventoryClientData clientData;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <span class="keywordflow">if</span> (m_clientInventoryUpdate.TryGetValue(forClient.<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html#acf0bf51dce3efe39b3c9635d26120ea0">EndpointId</a>.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>, out clientData))</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                InventoryDeltaInformation packetInfo;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="keywordflow">if</span> (clientData.SendPackets.TryGetValue(packetId, out packetInfo))</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    <span class="keywordflow">if</span> (delivered == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                    {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                        clientData.FailedIncompletePackets.Add(packetInfo);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                        MyMultiplayer.GetReplicationServer().AddToDirtyGroups(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    clientData.SendPackets.Remove(packetId);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a232653adc18b5db57441b376940628b2">  882</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a232653adc18b5db57441b376940628b2">ForceSend</a>(<a class="code" href="class_v_rage_1_1_network_1_1_my_client_state_base.html">MyClientStateBase</a> clientData)</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div>
<div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ab3adb86db4299e3df61ec114dcebd3be">  887</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ab3adb86db4299e3df61ec114dcebd3be">TimestampReset</a>(<a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">MyTimeSpan</a> timestamp)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ac3ef1ba2804ac87e795fe62337b1194b">  891</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ac3ef1ba2804ac87e795fe62337b1194b">IsStillDirty</a>(<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html">EndpointId</a> forClient)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            InventoryClientData clientData;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <span class="keywordflow">if</span> (m_clientInventoryUpdate.TryGetValue(forClient.<a class="code" href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">Value</a>, out clientData))</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                <span class="keywordflow">return</span> clientData.Dirty || clientData.FailedIncompletePackets.Count != 0;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html">VRage.Library.Collections.BitStream</a></div><div class="ttdoc">Stream which writes data based on bits. When writing, buffer must be reset to zero to write values co...</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8cs_source.html#l00020">BitStream.cs:20</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_html"><div class="ttname"><a href="namespace_sandbox_1_1_game.html">Sandbox.Game</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_character_1_1_my_character_html_ac06fd927563aed616f57c76a541346ef"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_character_1_1_my_character.html#ac06fd927563aed616f57c76a541346ef">Sandbox.Game.Entities.Character.MyCharacter.IsUsing</a></div><div class="ttdeci">MyEntity IsUsing</div><div class="ttdef"><b>Definition:</b> <a href="_my_character_8cs_source.html#l05899">MyCharacter.cs:5899</a></div></div>
<div class="ttc" id="struct_sandbox_1_1_game_1_1_world_1_1_my_player_1_1_player_id_html_a50c3ee1352cf1859f1a999e14929255e"><div class="ttname"><a href="struct_sandbox_1_1_game_1_1_world_1_1_my_player_1_1_player_id.html#a50c3ee1352cf1859f1a999e14929255e">Sandbox.Game.World.MyPlayer.PlayerId.SteamId</a></div><div class="ttdeci">ulong SteamId</div><div class="ttdef"><b>Definition:</b> <a href="_my_player_8cs_source.html#l00032">MyPlayer.cs:32</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_1_1_character_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities_1_1_character.html">Sandbox.Game.Entities.Character</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_character_component_8cs_source.html#l00051">MyCharacterComponent.cs:51</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_world_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_world.html">Sandbox.Game.World</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_build_component_base_8cs_source.html#l00022">MyBuildComponentBase.cs:22</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_a3dab13fae9afb3d33fc36858e680467a"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a3dab13fae9afb3d33fc36858e680467a">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.DestroyClientData</a></div><div class="ttdeci">void DestroyClientData(MyClientStateBase forClient)</div><div class="ttdoc">Called on server when client stops replicating this group. </div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00133">MyEntityInventoryStateGroup.cs:133</a></div></div>
<div class="ttc" id="namespace_system_1_1_linq_html"><div class="ttname"><a href="namespace_system_1_1_linq.html">System.Linq</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_network_html"><div class="ttname"><a href="namespace_v_rage_1_1_network.html">VRage.Network</a></div><div class="ttdef"><b>Definition:</b> <a href="_blocking_attribute_8cs_source.html#l00006">BlockingAttribute.cs:6</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_1_1_generic_html"><div class="ttname"><a href="namespace_system_1_1_collections_1_1_generic.html">System.Collections.Generic</a></div><div class="ttdef"><b>Definition:</b> <a href="_dictionary_extensions_8cs_source.html#l00007">DictionaryExtensions.cs:7</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_common_1_1_object_builders_html"><div class="ttname"><a href="namespace_sandbox_1_1_common_1_1_object_builders.html">Sandbox.Common.ObjectBuilders</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_collections_html"><div class="ttname"><a href="namespace_v_rage_1_1_collections.html">VRage.Collections</a></div><div class="ttdef"><b>Definition:</b> <a href="_caching_dictionary_8cs_source.html#l00007">CachingDictionary.cs:7</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine.html">Sandbox.Engine</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_player_html_a76754ff801d26067e6a607411cdc0d1f"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_player.html#a76754ff801d26067e6a607411cdc0d1f">Sandbox.Game.World.MyPlayer.Id</a></div><div class="ttdeci">PlayerId Id</div><div class="ttdef"><b>Definition:</b> <a href="_my_player_8cs_source.html#l00223">MyPlayer.cs:223</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_1_1_multiplayer_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine_1_1_multiplayer.html">Sandbox.Engine.Multiplayer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_client_debug_commands_8cs_source.html#l00016">MyClientDebugCommands.cs:16</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_a90ef8c559501dac54a13137fd1533b9c"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a90ef8c559501dac54a13137fd1533b9c">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.GetPriorityStateGroup</a></div><div class="ttdeci">float GetPriorityStateGroup(MyClientInfo client)</div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00205">MyEntityInventoryStateGroup.cs:205</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_network_1_1_my_client_info_html_aec95678008baa03399e9c940305a4822"><div class="ttname"><a href="struct_v_rage_1_1_network_1_1_my_client_info.html#aec95678008baa03399e9c940305a4822">VRage.Network.MyClientInfo.State</a></div><div class="ttdeci">MyClientStateBase State</div><div class="ttdef"><b>Definition:</b> <a href="_my_client_info_8cs_source.html#l00013">MyClientInfo.cs:13</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_ae840d3864e36153d6f5013c7a0403dcf"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#ae840d3864e36153d6f5013c7a0403dcf">VRage.Game.Game</a></div><div class="ttdeci">Game</div><div class="ttdef"><b>Definition:</b> <a href="_game_relation_attribute_8cs_source.html#l00005">GameRelationAttribute.cs:5</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state_html"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html">Sandbox.Engine.Multiplayer.MyClientState</a></div><div class="ttdoc">Client state, can be defined per-game. </div><div class="ttdef"><b>Definition:</b> <a href="_my_client_state_8cs_source.html#l00027">MyClientState.cs:27</a></div></div>
<div class="ttc" id="class_v_rage_1_1_network_1_1_my_client_state_base_html"><div class="ttname"><a href="class_v_rage_1_1_network_1_1_my_client_state_base.html">VRage.Network.MyClientStateBase</a></div><div class="ttdoc">Base class for game-defined client state. It&#39;s set of data required by server, sent from client...</div><div class="ttdef"><b>Definition:</b> <a href="_my_client_state_base_8cs_source.html#l00017">MyClientStateBase.cs:17</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_serialization_html"><div class="ttname"><a href="namespace_v_rage_1_1_serialization.html">VRage.Serialization</a></div><div class="ttdef"><b>Definition:</b> <a href="_serializable_dictionary_8cs_source.html#l00009">SerializableDictionary.cs:9</a></div></div>
<div class="ttc" id="class_v_rage_1_1_collections_1_1_my_queue_html"><div class="ttname"><a href="class_v_rage_1_1_collections_1_1_my_queue.html">VRage.Collections.MyQueue&lt; uint &gt;</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_ad9d6dfadbc6905b2786db0011fc1643d"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ad9d6dfadbc6905b2786db0011fc1643d">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.Serialize</a></div><div class="ttdeci">void Serialize(BitStream stream, EndpointId forClient, MyTimeSpan timestamp, byte packetId, int maxBitPosition)</div><div class="ttdoc">(De)serializes group state or it&#39;s diff for client. When writing, you can write beyond maxBitPosition...</div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00243">MyEntityInventoryStateGroup.cs:243</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_v_rage_1_1_network_1_1_my_client_state_base_html_acf0bf51dce3efe39b3c9635d26120ea0"><div class="ttname"><a href="class_v_rage_1_1_network_1_1_my_client_state_base.html#acf0bf51dce3efe39b3c9635d26120ea0">VRage.Network.MyClientStateBase.EndpointId</a></div><div class="ttdeci">EndpointId EndpointId</div><div class="ttdoc">Client endpoint, don&#39;t serialize it in Serialize() </div><div class="ttdef"><b>Definition:</b> <a href="_my_client_state_base_8cs_source.html#l00022">MyClientStateBase.cs:22</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_a2bcca263645e94f5ed3a0108366ffc3a"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a2bcca263645e94f5ed3a0108366ffc3a">VRage.Game.Entity.MyEntity.GetTopMostParent</a></div><div class="ttdeci">MyEntity GetTopMostParent(Type type=null)</div><div class="ttdoc">Return top most parent of this entity </div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00324">MyEntity.cs:324</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_network_1_1_i_my_state_group_html"><div class="ttname"><a href="interface_v_rage_1_1_network_1_1_i_my_state_group.html">VRage.Network.IMyStateGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_state_group_8cs_source.html#l00006">IMyStateGroup.cs:6</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_ad77043482fb9d9d026ef4d86dd93e7a6"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ad77043482fb9d9d026ef4d86dd93e7a6">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.Destroy</a></div><div class="ttdeci">void Destroy()</div><div class="ttdoc">Called when state group is being destroyed. </div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00145">MyEntityInventoryStateGroup.cs:145</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_1_1_cube_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities_1_1_cube.html">Sandbox.Game.Entities.Cube</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_assembler_8cs_source.html#l00041">MyAssembler.cs:41</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_network_1_1_i_my_replicable_html"><div class="ttname"><a href="interface_v_rage_1_1_network_1_1_i_my_replicable.html">VRage.Network.IMyReplicable</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_replicable_8cs_source.html#l00010">IMyReplicable.cs:10</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_assembler_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_assembler.html">Sandbox.Game.Entities.Cube.MyAssembler</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_assembler_8cs_source.html#l00044">MyAssembler.cs:44</a></div></div>
<div class="ttc" id="_my_gui_skin_definition_8cs_html_a81a223a02c34d82b47199f08308847f2"><div class="ttname"><a href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a></div><div class="ttdeci">using System</div><div class="ttdef"><b>Definition:</b> <a href="_my_gui_skin_definition_8cs_source.html#l00001">MyGuiSkinDefinition.cs:1</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_aaa8cbd0633b47cd0e2382ee7ee5c5932"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#aaa8cbd0633b47cd0e2382ee7ee5c5932">VRage.Library.Collections.BitStream.WriteBool</a></div><div class="ttdeci">void WriteBool(bool value)</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_write_8cs_source.html#l00094">BitStream.Write.cs:94</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_cube_grid_systems_html_a3759bf58465e7169fddf6e7f7fe4a226"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_cube_1_1_my_cube_grid_systems.html#a3759bf58465e7169fddf6e7f7fe4a226">Sandbox.Game.Entities.Cube.MyCubeGridSystems.TerminalSystem</a></div><div class="ttdeci">MyGridTerminalSystem TerminalSystem</div><div class="ttdef"><b>Definition:</b> <a href="_my_cube_grid_systems_8cs_source.html#l00031">MyCubeGridSystems.cs:31</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_player_html_ad70b44f71f878e2111dad27f132f0453"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_player.html#ad70b44f71f878e2111dad27f132f0453">Sandbox.Game.World.MyPlayer.GetPlayerFromCharacter</a></div><div class="ttdeci">static MyPlayer GetPlayerFromCharacter(MyCharacter character)</div><div class="ttdef"><b>Definition:</b> <a href="_my_player_8cs_source.html#l00501">MyPlayer.cs:501</a></div></div>
<div class="ttc" id="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer_html"><div class="ttname"><a href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html">VRage.ObjectBuilders.MyObjectBuilderSerializer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder_serializer_8cs_source.html#l00024">MyObjectBuilderSerializer.cs:24</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html">Sandbox.Game.Entities.MyCubeGrid</a></div><div class="ttdoc">Grid - small ship, large ship, station Cubes (armor, walls...) are merge and rendered by this entity ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_cube_grid_8cs_source.html#l00090">MyCubeGrid.cs:90</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_1_1_blocks_html_ace4e2d9da628227befaeea4c98e57a93ab6f4a2ec6356bbd56d49f2096bf9d3d3"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities_1_1_blocks.html#ace4e2d9da628227befaeea4c98e57a93ab6f4a2ec6356bbd56d49f2096bf9d3d3">Sandbox.Game.Entities.Blocks.Owner</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_ad664c0dbf07301b1e0b66d03b2034e47"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad664c0dbf07301b1e0b66d03b2034e47">VRage.Library.Collections.BitStream.ReadInt32</a></div><div class="ttdeci">int ReadInt32(int bitCount=sizeof(int)*8)</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_read_8cs_source.html#l00103">BitStream.Read.cs:103</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_object_builders_html"><div class="ttname"><a href="namespace_v_rage_1_1_object_builders.html">VRage.ObjectBuilders</a></div><div class="ttdef"><b>Definition:</b> <a href="_dynamic_object_builder_attribute_8cs_source.html#l00003">DynamicObjectBuilderAttribute.cs:3</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_af43bca6020f8177074243626e451760a"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#af43bca6020f8177074243626e451760a">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.MyEntityInventoryStateGroup</a></div><div class="ttdeci">MyEntityInventoryStateGroup(MyInventory entity, bool attach, IMyReplicable owner)</div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00072">MyEntityInventoryStateGroup.cs:72</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_network_html_afd0c0e2c33a4c1987d62c47d4bd7ffa1"><div class="ttname"><a href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1">VRage.Network.StateGroupEnum</a></div><div class="ttdeci">StateGroupEnum</div><div class="ttdoc">State groups, used to limit bandwidth by group. </div><div class="ttdef"><b>Definition:</b> <a href="_state_group_enum_8cs_source.html#l00011">StateGroupEnum.cs:11</a></div></div>
<div class="ttc" id="class_v_rage_1_1_collections_1_1_my_queue_html_afa4b4ee2cc87d073924f037e098e4918"><div class="ttname"><a href="class_v_rage_1_1_collections_1_1_my_queue.html#afa4b4ee2cc87d073924f037e098e4918">VRage.Collections.MyQueue.Count</a></div><div class="ttdeci">int Count</div><div class="ttdef"><b>Definition:</b> <a href="_my_queue_8cs_source.html#l00070">MyQueue.cs:70</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_network_1_1_endpoint_id_html_aa9ca44f336122a3e3d657e29d29bafb8"><div class="ttname"><a href="struct_v_rage_1_1_network_1_1_endpoint_id.html#aa9ca44f336122a3e3d657e29d29bafb8">VRage.Network.EndpointId.Value</a></div><div class="ttdeci">ulong Value</div><div class="ttdef"><b>Definition:</b> <a href="_endpoint_id_8cs_source.html#l00015">EndpointId.cs:15</a></div></div>
<div class="ttc" id="namespace_item_html"><div class="ttname"><a href="namespace_item.html">Item</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html"><div class="ttname"><a href="namespace_v_rage_1_1_game.html">VRage.Game</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_network_1_1_endpoint_id_html"><div class="ttname"><a href="struct_v_rage_1_1_network_1_1_endpoint_id.html">VRage.Network.EndpointId</a></div><div class="ttdoc">Id of network endpoint, opaque struct, internal value should not be accessed outside VRage...</div><div class="ttdef"><b>Definition:</b> <a href="_endpoint_id_8cs_source.html#l00013">EndpointId.cs:13</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_afa0ab8ac0ea876330954b67d04ba9116"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#afa0ab8ac0ea876330954b67d04ba9116">VRage.Library.Collections.BitStream.SetBitPositionWrite</a></div><div class="ttdeci">void SetBitPositionWrite(int newBitPosition)</div><div class="ttdoc">Use when you need to overwrite part of the data. Sets new bit position and clears everything from min...</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_write_8cs_source.html#l00056">BitStream.Write.cs:56</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_entity_controller_html_a042739c6e8a5f373b00e87cc5976b2aa"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_entity_controller.html#a042739c6e8a5f373b00e87cc5976b2aa">Sandbox.Game.World.MyEntityController.Player</a></div><div class="ttdeci">MyPlayer Player</div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_controller_8cs_source.html#l00031">MyEntityController.cs:31</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_library_1_1_collections_html"><div class="ttname"><a href="namespace_v_rage_1_1_library_1_1_collections.html">VRage.Library.Collections</a></div><div class="ttdef"><b>Definition:</b> <a href="_bit_reader_8cs_source.html#l00006">BitReader.cs:6</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_a00cf9910aee9b306c28d8fca72bee894"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a00cf9910aee9b306c28d8fca72bee894">VRage.Library.Collections.BitStream.WriteInt64</a></div><div class="ttdeci">void WriteInt64(long value, int bitCount=sizeof(long)*8)</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_write_8cs_source.html#l00114">BitStream.Write.cs:114</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_controller_info_html_a23bfead9033906e9e14c334a8e73c3bd"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_controller_info.html#a23bfead9033906e9e14c334a8e73c3bd">Sandbox.Game.World.MyControllerInfo.Controller</a></div><div class="ttdeci">MyEntityController Controller</div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_controller_8cs_source.html#l00114">MyEntityController.cs:114</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_ad9c2bd70913c8dd4b49b5e2511b5ed82"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ad9c2bd70913c8dd4b49b5e2511b5ed82">VRage.Library.Collections.BitStream.WriteInt32</a></div><div class="ttdeci">void WriteInt32(int value, int bitCount=sizeof(int)*8)</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_write_8cs_source.html#l00109">BitStream.Write.cs:109</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_network_html_afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189"><div class="ttname"><a href="namespace_v_rage_1_1_network.html#afd0c0e2c33a4c1987d62c47d4bd7ffa1a4d604dd8f008145471dc845683399189">VRage.Network.Inventory</a></div></div>
<div class="ttc" id="class_v_rage_1_1_collections_1_1_my_queue_html_a43d9bafd210d369fc4ffa4c185a8590f"><div class="ttname"><a href="class_v_rage_1_1_collections_1_1_my_queue.html#a43d9bafd210d369fc4ffa4c185a8590f">VRage.Collections.MyQueue.Enqueue</a></div><div class="ttdeci">void Enqueue(T item)</div><div class="ttdef"><b>Definition:</b> <a href="_my_queue_8cs_source.html#l00093">MyQueue.cs:93</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_a717ae7586df476961c3a5366c04851fb"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a717ae7586df476961c3a5366c04851fb">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.ClientUpdate</a></div><div class="ttdeci">void ClientUpdate(MyTimeSpan clientTimestamp)</div><div class="ttdoc">Update method called on client. </div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00141">MyEntityInventoryStateGroup.cs:141</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_library_1_1_utils_html"><div class="ttname"><a href="namespace_v_rage_1_1_library_1_1_utils.html">VRage.Library.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_blittable_helper_8cs_source.html#l00008">BlittableHelper.cs:8</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_af6d00fec70c468f20f11e1d8d6d19e93"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#af6d00fec70c468f20f11e1d8d6d19e93">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.OnAck</a></div><div class="ttdeci">void OnAck(MyClientStateBase forClient, byte packetId, bool delivered)</div><div class="ttdoc">Called for each packet id sent to client from this state group. When ACK received, called immediatelly. When several other packets received from client, but some were missing, called for each missing packet. </div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00862">MyEntityInventoryStateGroup.cs:862</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_a72e5d18ebd883a20445916d68edda6a3"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a72e5d18ebd883a20445916d68edda6a3">VRage.Library.Collections.BitStream.ReadBool</a></div><div class="ttdeci">bool ReadBool()</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_read_8cs_source.html#l00088">BitStream.Read.cs:88</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller_html_a9285d194262501503cf5efbd87ee30c3"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller.html#a9285d194262501503cf5efbd87ee30c3">Sandbox.Game.Entities.MyShipController.ControllerInfo</a></div><div class="ttdeci">MyControllerInfo ControllerInfo</div><div class="ttdef"><b>Definition:</b> <a href="_my_ship_controller_8cs_source.html#l01933">MyShipController.cs:1933</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_character_1_1_my_character_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_character_1_1_my_character.html">Sandbox.Game.Entities.Character.MyCharacter</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_character_8cs_source.html#l00162">MyCharacter.cs:162</a></div></div>
<div class="ttc" id="namespace_sandbox_html_a06631b4ee1d21fadc24abf5a4b262aa9a7d74f3b92b19da5e606d737d339a9679"><div class="ttname"><a href="namespace_sandbox.html#a06631b4ee1d21fadc24abf5a4b262aa9a7d74f3b92b19da5e606d737d339a9679">Sandbox.Item</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_profiler_html"><div class="ttname"><a href="namespace_v_rage_1_1_profiler.html">VRage.Profiler</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_draw_area_8cs_source.html#l00003">MyDrawArea.cs:3</a></div></div>
<div class="ttc" id="class_v_rage_1_1_collections_1_1_my_queue_html_a9dffc1b1487561ac605a790f4fb6bf3f"><div class="ttname"><a href="class_v_rage_1_1_collections_1_1_my_queue.html#a9dffc1b1487561ac605a790f4fb6bf3f">VRage.Collections.MyQueue.InternalArray</a></div><div class="ttdeci">T[] InternalArray</div><div class="ttdef"><b>Definition:</b> <a href="_my_queue_8cs_source.html#l00040">MyQueue.cs:40</a></div></div>
<div class="ttc" id="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer_html_a3c2bdd75cad7c79db7a992d7d4f9a756"><div class="ttname"><a href="class_v_rage_1_1_object_builders_1_1_my_object_builder_serializer.html#a3c2bdd75cad7c79db7a992d7d4f9a756">VRage.ObjectBuilders.MyObjectBuilderSerializer.Dynamic</a></div><div class="ttdeci">static readonly MySerializeInfo Dynamic</div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder_serializer_8cs_source.html#l00030">MyObjectBuilderSerializer.cs:30</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_ac568cd1afe54932874be8c6c327dc1af"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#ac568cd1afe54932874be8c6c327dc1af">VRage.Library.Collections.BitStream.Writing</a></div><div class="ttdeci">bool Writing</div><div class="ttdoc">True when stream is for writing. </div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8cs_source.html#l00066">BitStream.cs:66</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities.html">Sandbox.Game.Entities</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity3_d_sound_emitter_8cs_source.html#l00018">MyEntity3DSoundEmitter.cs:18</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_ship_controller.html">Sandbox.Game.Entities.MyShipController</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_ship_controller_8cs_source.html#l00056">MyShipController.cs:56</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_ab3adb86db4299e3df61ec114dcebd3be"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ab3adb86db4299e3df61ec114dcebd3be">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.TimestampReset</a></div><div class="ttdeci">void TimestampReset(MyTimeSpan timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00887">MyEntityInventoryStateGroup.cs:887</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_my_inventory_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_my_inventory.html">Sandbox.Game.MyInventory</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_inventory_8cs_source.html#l00062">MyInventory.cs:62</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_a232653adc18b5db57441b376940628b2"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a232653adc18b5db57441b376940628b2">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.ForceSend</a></div><div class="ttdeci">void ForceSend(MyClientStateBase clientData)</div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00882">MyEntityInventoryStateGroup.cs:882</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_html"><div class="ttname"><a href="namespace_system_1_1_collections.html">System.Collections</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_network_html_adac6df3dba000e71924ba5bd2286cd76a8c340dc334134096f68b880b42a8692c"><div class="ttname"><a href="namespace_v_rage_1_1_network.html#adac6df3dba000e71924ba5bd2286cd76a8c340dc334134096f68b880b42a8692c">VRage.Network.Replication</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_a21221b459575219d8883fe613e9a83ea"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a21221b459575219d8883fe613e9a83ea">VRage.Library.Collections.BitStream.BitPosition</a></div><div class="ttdeci">int BitPosition</div><div class="ttdoc">Read/write bit position in stream. </div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8cs_source.html#l00038">BitStream.cs:38</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_player_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_player.html">Sandbox.Game.World.MyPlayer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_player_8cs_source.html#l00024">MyPlayer.cs:24</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_my_fixed_point_html_a63baa9657a1529f0e5c615ebb223fe58"><div class="ttname"><a href="struct_v_rage_1_1_my_fixed_point.html#a63baa9657a1529f0e5c615ebb223fe58">VRage.MyFixedPoint.RawValue</a></div><div class="ttdeci">long RawValue</div><div class="ttdef"><b>Definition:</b> <a href="_my_fixed_point_8cs_source.html#l00040">MyFixedPoint.cs:40</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_ac3ef1ba2804ac87e795fe62337b1194b"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#ac3ef1ba2804ac87e795fe62337b1194b">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.IsStillDirty</a></div><div class="ttdeci">bool IsStillDirty(EndpointId forClient)</div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00891">MyEntityInventoryStateGroup.cs:891</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid_html_ae2e48ea87f89f863c099ce01836c50c0"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html#ae2e48ea87f89f863c099ce01836c50c0">Sandbox.Game.Entities.MyCubeGrid.GridSystems</a></div><div class="ttdeci">MyCubeGridSystems GridSystems</div><div class="ttdef"><b>Definition:</b> <a href="_my_cube_grid_8cs_source.html#l00236">MyCubeGrid.cs:236</a></div></div>
<div class="ttc" id="class_sandbox_1_1_common_1_1_object_builders_1_1_definitions_1_1_my_object_builder___gas_container_object_html"><div class="ttname"><a href="class_sandbox_1_1_common_1_1_object_builders_1_1_definitions_1_1_my_object_builder___gas_container_object.html">Sandbox.Common.ObjectBuilders.Definitions.MyObjectBuilder_GasContainerObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder___gas_container_object_8cs_source.html#l00010">MyObjectBuilder_GasContainerObject.cs:10</a></div></div>
<div class="ttc" id="namespace_sandbox_html"><div class="ttname"><a href="namespace_sandbox.html">Sandbox</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_common_1_1_object_builders_1_1_definitions_html"><div class="ttname"><a href="namespace_sandbox_1_1_common_1_1_object_builders_1_1_definitions.html">Sandbox.Common.ObjectBuilders.Definitions</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_object_builder___advanced_door_definition_8cs_source.html#l00007">MyObjectBuilder_AdvancedDoorDefinition.cs:7</a></div></div>
<div class="ttc" id="namespace_v_rage_html"><div class="ttname"><a href="namespace_v_rage.html">VRage</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_inventory_base.html">VRage.Game.Entity.MyInventoryBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_inventory_base_8cs_source.html#l00015">MyInventoryBase.cs:15</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_afe3a3797d5828f727c072e4e7e8828e6"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#afe3a3797d5828f727c072e4e7e8828e6">VRage.Library.Collections.BitStream.ReadInt64</a></div><div class="ttdeci">long ReadInt64(int bitCount=sizeof(long)*8)</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_read_8cs_source.html#l00108">BitStream.Read.cs:108</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00021">MyEntityInventoryStateGroup.cs:21</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state_html_ae8c2f607245acf7557e064d5b1b398bc"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#ae8c2f607245acf7557e064d5b1b398bc">Sandbox.Engine.Multiplayer.MyClientState.ContextEntity</a></div><div class="ttdeci">MyEntity ContextEntity</div><div class="ttdef"><b>Definition:</b> <a href="_my_client_state_8cs_source.html#l00044">MyClientState.cs:44</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state_html_a39894207b382bdcaf385f02e2c60096f"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#a39894207b382bdcaf385f02e2c60096f">Sandbox.Engine.Multiplayer.MyClientState.Context</a></div><div class="ttdeci">MyContextKind Context</div><div class="ttdoc">Client point of interest, used on server to replicate nearby entities </div><div class="ttdef"><b>Definition:</b> <a href="_my_client_state_8cs_source.html#l00043">MyClientState.cs:43</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_my_fixed_point_html"><div class="ttname"><a href="struct_v_rage_1_1_my_fixed_point.html">VRage.MyFixedPoint</a></div><div class="ttdoc">Fixed point number represented as 64-bit integer with 6 decimal places (one millionts) ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_fixed_point_8cs_source.html#l00022">MyFixedPoint.cs:22</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_a3a85296113e445f357bca11e795b6db1"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a3a85296113e445f357bca11e795b6db1">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.GetGroupPriority</a></div><div class="ttdeci">float GetGroupPriority(int frameCountWithoutSync, MyClientInfo client)</div><div class="ttdoc">Gets priority related to client. When priority is lower than zero, it means the object is not relevan...</div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00149">MyEntityInventoryStateGroup.cs:149</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group_html_a53dba49942a1925fefa9d889842984be"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_replication_1_1_state_groups_1_1_my_entity_inventory_state_group.html#a53dba49942a1925fefa9d889842984be">Sandbox.Game.Replication.StateGroups.MyEntityInventoryStateGroup.CreateClientData</a></div><div class="ttdeci">void CreateClientData(MyClientStateBase forClient)</div><div class="ttdoc">Called on server new clients starts replicating this group. </div><div class="ttdef"><b>Definition:</b> <a href="_state_groups_2_my_entity_inventory_state_group_8cs_source.html#l00098">MyEntityInventoryStateGroup.cs:98</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_a3a68273a259981a6557cf4a129c77db3"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a3a68273a259981a6557cf4a129c77db3">VRage.Library.Collections.BitStream.ReadUInt32</a></div><div class="ttdeci">uint ReadUInt32(int bitCount=sizeof(uint)*8)</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_read_8cs_source.html#l00123">BitStream.Read.cs:123</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_network_1_1_my_client_info_html_a834351798d201ff41e34d2baf1e6fd6e"><div class="ttname"><a href="struct_v_rage_1_1_network_1_1_my_client_info.html#a834351798d201ff41e34d2baf1e6fd6e">VRage.Network.MyClientInfo.EndpointId</a></div><div class="ttdeci">EndpointId EndpointId</div><div class="ttdef"><b>Definition:</b> <a href="_my_client_info_8cs_source.html#l00014">MyClientInfo.cs:14</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state_html_af649e9ad222fccb14a9c00b861641c5e"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_multiplayer_1_1_my_client_state.html#af649e9ad222fccb14a9c00b861641c5e">Sandbox.Engine.Multiplayer.MyClientState.MyContextKind</a></div><div class="ttdeci">MyContextKind</div><div class="ttdef"><b>Definition:</b> <a href="_my_client_state_8cs_source.html#l00031">MyClientState.cs:31</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_common_html"><div class="ttname"><a href="namespace_sandbox_1_1_common.html">Sandbox.Common</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_render_debug_input_component_8cs_source.html#l00009">MyRenderDebugInputComponent.cs:9</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_network_1_1_my_client_info_html"><div class="ttname"><a href="struct_v_rage_1_1_network_1_1_my_client_info.html">VRage.Network.MyClientInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_client_info_8cs_source.html#l00009">MyClientInfo.cs:9</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span_html"><div class="ttname"><a href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">VRage.Library.Utils.MyTimeSpan</a></div><div class="ttdoc">Hi-resolution time span. Beware: the resolution can be different on different systems! ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_time_span_8cs_source.html#l00008">MyTimeSpan.cs:8</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_library_html"><div class="ttname"><a href="namespace_v_rage_1_1_library.html">VRage.Library</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_entity_html"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_entity.html">VRage.Game.Entity</a></div><div class="ttdef"><b>Definition:</b> <a href="_debug_created_by_8cs_source.html#l00001">DebugCreatedBy.cs:1</a></div></div>
<div class="ttc" id="class_v_rage_1_1_collections_1_1_my_queue_html_a832dc882305003e86a631886811fcec5"><div class="ttname"><a href="class_v_rage_1_1_collections_1_1_my_queue.html#a832dc882305003e86a631886811fcec5">VRage.Collections.MyQueue.Dequeue</a></div><div class="ttdeci">T Dequeue()</div><div class="ttdef"><b>Definition:</b> <a href="_my_queue_8cs_source.html#l00114">MyQueue.cs:114</a></div></div>
<div class="ttc" id="class_v_rage_1_1_serialization_1_1_my_serializer_html"><div class="ttname"><a href="class_v_rage_1_1_serialization_1_1_my_serializer.html">VRage.Serialization.MySerializer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_serializer`1_8cs_source.html#l00005">MySerializer`1.cs:5</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_game_1_1_entity_1_1_my_physical_inventory_item_html"><div class="ttname"><a href="struct_v_rage_1_1_game_1_1_entity_1_1_my_physical_inventory_item.html">VRage.Game.Entity.MyPhysicalInventoryItem</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_physical_inventory_item_8cs_source.html#l00006">MyPhysicalInventoryItem.cs:6</a></div></div>
<div class="ttc" id="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream_html_a35441b874326e0bac0d5a1309b5c80d4"><div class="ttname"><a href="class_v_rage_1_1_library_1_1_collections_1_1_bit_stream.html#a35441b874326e0bac0d5a1309b5c80d4">VRage.Library.Collections.BitStream.WriteUInt32</a></div><div class="ttdeci">void WriteUInt32(uint value, int bitCount=sizeof(uint)*8)</div><div class="ttdef"><b>Definition:</b> <a href="_bit_stream_8_write_8cs_source.html#l00129">BitStream.Write.cs:129</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 23 2017 01:16:42 for Space Engineers by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
