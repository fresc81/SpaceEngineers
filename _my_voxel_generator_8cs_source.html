<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Space Engineers: Sources/Sandbox.Game/Engine/Voxels/MyVoxelGenerator.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Space Engineers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_937900b87e0c7a5fa01190c395fb83f7.html">Sources</a></li><li class="navelem"><a class="el" href="dir_adcb7f0194fb5944415bcd7197787778.html">Sandbox.Game</a></li><li class="navelem"><a class="el" href="dir_38662c1c33bdf59b0e10164ceae4015b.html">Engine</a></li><li class="navelem"><a class="el" href="dir_3cf9bc50c9abd7c4555a7ac73a5c5da9.html">Voxels</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MyVoxelGenerator.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_my_voxel_generator_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_definitions.html">Definitions</a>;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_engine.html">Engine</a>.<a class="code" href="namespace_sandbox_1_1_engine_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_multiplayer.html">Multiplayer</a>;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_world.html">World</a>;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a>;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.<a class="code" href="namespace_system_1_1_collections.html">Collections</a>.<a class="code" href="namespace_system_1_1_collections_1_1_generic.html">Generic</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage_math.html">VRageMath</a>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_game_systems.html">GameSystems</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity.html">StructuralIntegrity</a>;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_mod_a_p_i.html">ModAPI</a>;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_entity.html">Entity</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_a_i.html">AI</a>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_mod_a_p_i.html">ModAPI</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities_1_1_planet.html">Planet</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_world_environment.html">WorldEnvironment</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_profiler.html">Profiler</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_voxels.html">Voxels</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_sandbox.html">Sandbox</a>.Engine.Voxels</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">    #region Shapes</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">   23</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">partial class </span><a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">MyShape</a></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    {</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#a776267bfc2ab4c4e2024cfbaf5df304a">   25</a></span>&#160;        <span class="keyword">protected</span> <a class="code" href="namespace_matrix_d.html">MatrixD</a> m_transformation = <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Identity;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#af93bef14657e7461ec759aaa65b62f88">   26</a></span>&#160;        <span class="keyword">protected</span> <a class="code" href="namespace_matrix_d.html">MatrixD</a> m_inverse        = <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Identity;</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#ab5c11c7400cd3b2a1bcf3c9bb44592e5">   27</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">bool</span>    m_inverseIsDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_matrix_d.html">MatrixD</a> Transformation</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#a44492dc2c0e71f17b0ce48e31ff93563">   30</a></span>&#160;        {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <span class="keyword">get</span> { <span class="keywordflow">return</span> m_transformation; }</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            set</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                m_transformation = value;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                m_inverseIsDirty = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_matrix_d.html">MatrixD</a> InverseTransformation</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#a1a90b8cd73dc0c88b537d81b74e57457">   40</a></span>&#160;        {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <span class="keyword">get</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                <span class="keywordflow">if</span> (m_inverseIsDirty) <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Invert(ref m_transformation, out m_inverse);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">return</span> m_inverse;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keyword">public</span> <span class="keyword">abstract</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> GetWorldBoundaries();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keyword">public</span> <span class="keyword">abstract</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> PeekWorldBoundaries(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> targetPosition);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keywordtype">float</span> GetVolume(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelPosition);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#ac47a5bb2a44daf806570a8790636878c">   59</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#ac47a5bb2a44daf806570a8790636878c">SignedDistanceToDensity</a>(<span class="keywordtype">float</span> signedDistance)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> TRANSITION_SIZE = MyVoxelConstants.VOXEL_SIZE_IN_METRES;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> NORMALIZATION_CONSTANT = 1 / (2 * MyVoxelConstants.VOXEL_SIZE_IN_METRES);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespace_math_helper.html">MathHelper</a>.Clamp(-signedDistance, -TRANSITION_SIZE, TRANSITION_SIZE) * NORMALIZATION_CONSTANT + 0.5f;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keywordtype">void</span> SendPaintRequest(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keywordtype">void</span> SendCutOutRequest(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxelbool);</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#a5fae30823ad4ad5db3e9950136838593">   68</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#a5fae30823ad4ad5db3e9950136838593">SendDrillCutOutRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, <span class="keywordtype">bool</span> damage = <span class="keyword">false</span>) { }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keywordtype">void</span> SendFillRequest(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html">   72</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">partial  class </span><a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html">MyShapeBox</a> : <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">MyShape</a></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a1b5da9c147e6e199154d38978d9528d1">   74</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a1b5da9c147e6e199154d38978d9528d1">Boundaries</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a464330c9f133ddb7b37f481498049266">   76</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a464330c9f133ddb7b37f481498049266">GetWorldBoundaries</a>()</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">return</span> Boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aabc504774975ff0bcfefff7ad20e2840">TransformFast</a>(Transformation);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#ac356a24db6dfe5d8b1469d8fce18a9e1">   81</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#ac356a24db6dfe5d8b1469d8fce18a9e1">PeekWorldBoundaries</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> targetPosition)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <a class="code" href="namespace_matrix_d.html">MatrixD</a> newTransformation = Transformation;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            newTransformation.<a class="code" href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">Translation</a> = targetPosition;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">return</span> Boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aabc504774975ff0bcfefff7ad20e2840">TransformFast</a>(newTransformation);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#aae95090ce89bf2faa134799e34aff294">   88</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#aae95090ce89bf2faa134799e34aff294">GetVolume</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelPosition)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">if</span> (m_inverseIsDirty)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                m_inverse = <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Invert(m_transformation);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                m_inverseIsDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            voxelPosition = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Transform(voxelPosition, m_inverse);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            var center = Boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a23e507f10d67c8f3b5384ee13dd7050e">Center</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            var boxD = <a class="code" href="namespace_vector3.html">Vector3</a>.Abs(voxelPosition - center) - (center - Boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">return</span> SignedDistanceToDensity((<span class="keywordtype">float</span>)boxD.Max());</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a434b9ec93de3b8976c386a6c0e2d5f9c">  104</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a434b9ec93de3b8976c386a6c0e2d5f9c">SendPaintRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad3da96ebd229287689247334e03296b1">RequestVoxelOperationBox</a>(Boundaries, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Paint);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#ae6a30ebabd06a6ebe91cd1e5a91905ed">  109</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#ae6a30ebabd06a6ebe91cd1e5a91905ed">SendCutOutRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad3da96ebd229287689247334e03296b1">RequestVoxelOperationBox</a>(Boundaries, Transformation, 0, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#af7f14ea0ce882b70b84588e7f1558bbc">  114</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#af7f14ea0ce882b70b84588e7f1558bbc">SendFillRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad3da96ebd229287689247334e03296b1">RequestVoxelOperationBox</a>(Boundaries, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Fill);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html">  120</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">partial class </span><a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html">MyShapeSphere</a> : <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">MyShape</a></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#a105de207f359ccc63de88ff69fb0bf4d">  122</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_vector3_d.html">Vector3D</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#a105de207f359ccc63de88ff69fb0bf4d">Center</a>; <span class="comment">// in World space</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aaa51a7421106879f1dd84c796ebe22f9">  123</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">float</span>    <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aaa51a7421106879f1dd84c796ebe22f9">Radius</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#ad001937ae4d7546083a915bdddba5ccd">  125</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#ad001937ae4d7546083a915bdddba5ccd">GetWorldBoundaries</a>()</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="comment">//return new BoundingBoxD(Center - Radius, Center + Radius);</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            var bbox = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(Center - Radius, Center + Radius);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">return</span> bbox.TransformFast(Transformation);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#ab6ef149788f1614ace1aa557fcb4bf53">  132</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#ab6ef149788f1614ace1aa557fcb4bf53">PeekWorldBoundaries</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> targetPosition)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(targetPosition - Radius, targetPosition + Radius);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#af1d8e4f96bb4754a1b9918cf6c96fbd0">  137</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#af1d8e4f96bb4754a1b9918cf6c96fbd0">GetVolume</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelPosition)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (m_inverseIsDirty) { <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Invert(ref m_transformation, out m_inverse); m_inverseIsDirty = <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Transform(ref voxelPosition, ref m_inverse, out voxelPosition);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordtype">float</span> dist = (float)(voxelPosition - Center).Length();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordtype">float</span> diff = dist - Radius;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">return</span> SignedDistanceToDensity(diff);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#a7afd3d74f71eb66e2d716e859d5be093">  146</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#a7afd3d74f71eb66e2d716e859d5be093">SendDrillCutOutRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, <span class="keywordtype">bool</span> damage = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a1ff4ee48ac25d7a39018076bcd841f48">RequestVoxelCutoutSphere</a>(Center, Radius, <span class="keyword">false</span>, damage);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aa23e5e60c82968b0654f6286a01377ea">  150</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aa23e5e60c82968b0654f6286a01377ea">SendCutOutRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a7a026201f6afeebe585ffccd3ab80034">RequestVoxelOperationSphere</a>(Center, Radius, 0, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aa1f5dbcbde47c6e7c66193d4dbff7d97">  155</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aa1f5dbcbde47c6e7c66193d4dbff7d97">SendPaintRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a7a026201f6afeebe585ffccd3ab80034">RequestVoxelOperationSphere</a>(Center, Radius, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Paint);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#abddc3d27a95e35f0996d9f3e364a320e">  160</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#abddc3d27a95e35f0996d9f3e364a320e">SendFillRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a7a026201f6afeebe585ffccd3ab80034">RequestVoxelOperationSphere</a>(Center, Radius, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Fill);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html">  166</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html">MyShapeEllipsoid</a> : <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">MyShape</a></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keyword">private</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> m_boundaries;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keyword">private</span> <a class="code" href="namespace_matrix.html">Matrix</a> m_scaleMatrix = <a class="code" href="namespace_matrix.html">Matrix</a>.Identity;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keyword">private</span> <a class="code" href="namespace_matrix.html">Matrix</a> m_scaleMatrixInverse = <a class="code" href="namespace_matrix.html">Matrix</a>.Identity;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keyword">private</span> <a class="code" href="namespace_vector3.html">Vector3</a> m_radius;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_vector3.html">Vector3</a> <a class="code" href="namespace_v_rage_1_1_game.html#a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c">Radius</a></div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#af9cdec34df2aed254a4f3aa72a15ca86">  174</a></span>&#160;        {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keyword">get</span> { <span class="keywordflow">return</span> m_radius; }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            set</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                m_radius = value;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                m_scaleMatrix = <a class="code" href="namespace_matrix.html">Matrix</a>.CreateScale(m_radius);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                m_scaleMatrixInverse = <a class="code" href="namespace_matrix.html">Matrix</a>.Invert(m_scaleMatrix);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                m_boundaries = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(-<a class="code" href="namespace_v_rage_1_1_game.html#a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c">Radius</a>, <a class="code" href="namespace_v_rage_1_1_game.html#a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c">Radius</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> Boundaries</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a3e2e50031c14f6cfe139f72d9a39575b">  188</a></span>&#160;        {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keyword">get</span> { <span class="keywordflow">return</span> m_boundaries; }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a99e7c02f77c14a84133d72eeb49d3de0">  193</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a99e7c02f77c14a84133d72eeb49d3de0">GetWorldBoundaries</a>()</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">return</span> m_boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aabc504774975ff0bcfefff7ad20e2840">TransformFast</a>(Transformation);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a879b2293dc21d07f0674e88144981f26">  198</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a879b2293dc21d07f0674e88144981f26">PeekWorldBoundaries</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> targetPosition)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <a class="code" href="namespace_matrix_d.html">MatrixD</a> newTransformation = Transformation;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            newTransformation.<a class="code" href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">Translation</a> = targetPosition;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">return</span> m_boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aabc504774975ff0bcfefff7ad20e2840">TransformFast</a>(newTransformation);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a6ae91a842d8f1de7ba1f0e5b64533aab">  205</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a6ae91a842d8f1de7ba1f0e5b64533aab">GetVolume</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelPosition)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">if</span> (m_inverseIsDirty)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                m_inverse = <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Invert(m_transformation);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                m_inverseIsDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="comment">// Local voxel position</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            voxelPosition = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Transform(voxelPosition, m_inverse);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="comment">// Local voxel position in unit sphere space</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="namespace_vector3.html">Vector3</a> voxelInUnitSphere = <a class="code" href="namespace_vector3.html">Vector3</a>.Transform(voxelPosition, m_scaleMatrixInverse);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="comment">// Normalize the position so we have point on unit sphere.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            voxelInUnitSphere.<a class="code" href="struct_v_rage_math_1_1_vector3.html#ad6a69b0c47eb5621f56f53307d5e0672">Normalize</a>();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="comment">// Transform back to local system using scale matrix</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <a class="code" href="namespace_vector3.html">Vector3</a> localPointOnEllipsoid = <a class="code" href="namespace_vector3.html">Vector3</a>.Transform(voxelInUnitSphere, m_scaleMatrix);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordtype">float</span> diff = (float)(voxelPosition.Length() - localPointOnEllipsoid.<a class="code" href="struct_v_rage_math_1_1_vector3.html#a4d44c319212bffba8239f9b1e96f9730">Length</a>());</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">return</span> SignedDistanceToDensity(diff);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#ad20f06444539d12595dfdc52582febe5">  226</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#ad20f06444539d12595dfdc52582febe5">SendPaintRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#adcd43a4c569db7315ada3de8dccd61ec">RequestVoxelOperationElipsoid</a>(<a class="code" href="namespace_v_rage_1_1_game.html#a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c">Radius</a>, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Paint);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#ab1edd5b8ebbf4735f82e0da14e87d989">  231</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#ab1edd5b8ebbf4735f82e0da14e87d989">SendCutOutRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#adcd43a4c569db7315ada3de8dccd61ec">RequestVoxelOperationElipsoid</a>(<a class="code" href="namespace_v_rage_1_1_game.html#a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c">Radius</a>, Transformation, 0, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#aac6d5923fff029c3cfe8c074410950c7">  236</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#aac6d5923fff029c3cfe8c074410950c7">SendFillRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#adcd43a4c569db7315ada3de8dccd61ec">RequestVoxelOperationElipsoid</a>(<a class="code" href="namespace_v_rage_1_1_game.html#a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c">Radius</a>, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Fill);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html">  242</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">partial class </span><a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html">MyShapeRamp</a> : <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">MyShape</a></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    {</div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a139c2b8c11d56a53209959454cabc638">  244</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a139c2b8c11d56a53209959454cabc638">Boundaries</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a39b6b59e7ab77209adf3451aa8a98f16">  245</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_vector3_d.html">Vector3D</a>     <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a39b6b59e7ab77209adf3451aa8a98f16">RampNormal</a>; <span class="comment">// normal of the sloped plane</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a9aab1442a05c5a3c2a237c6a5586f94b">  246</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">double</span>       <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a9aab1442a05c5a3c2a237c6a5586f94b">RampNormalW</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ab2df0fe47bb914c09740acb06ce598dd">  248</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ab2df0fe47bb914c09740acb06ce598dd">GetWorldBoundaries</a>()</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">return</span> Boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aabc504774975ff0bcfefff7ad20e2840">TransformFast</a>(Transformation);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a079b7887adaaee09912fda63ad44fb46">  253</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a079b7887adaaee09912fda63ad44fb46">PeekWorldBoundaries</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> targetPosition)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="namespace_matrix_d.html">MatrixD</a> newTransformation = Transformation;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            newTransformation.<a class="code" href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">Translation</a> = targetPosition;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keywordflow">return</span> Boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aabc504774975ff0bcfefff7ad20e2840">TransformFast</a>(newTransformation);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ac511ed6a5b674ac34b76ea0cc7aec618">  260</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ac511ed6a5b674ac34b76ea0cc7aec618">GetVolume</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelPosition)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> (m_inverseIsDirty)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                m_inverse = <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Invert(m_transformation);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                m_inverseIsDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            voxelPosition = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Transform(voxelPosition, m_inverse);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            var boxD   = <a class="code" href="namespace_vector3.html">Vector3</a>.Abs(voxelPosition) - Boundaries.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a2d45b90491c2a87e0b218f8505c79ec6">HalfExtents</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            var planeD = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Dot(voxelPosition, RampNormal) + RampNormalW;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">return</span> SignedDistanceToDensity((<span class="keywordtype">float</span>)<a class="code" href="namespace_math.html">Math</a>.Max(boxD.Max(), -planeD));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#acfc4971b320b50f47a383d6177606445">  276</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#acfc4971b320b50f47a383d6177606445">SendPaintRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad51a005da7813e3ae4fc45997b482921">RequestVoxelOperationRamp</a>(Boundaries, RampNormal, RampNormalW, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Paint);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a60ddd50d822838883ef5ebcf84690b7c">  281</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a60ddd50d822838883ef5ebcf84690b7c">SendCutOutRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad51a005da7813e3ae4fc45997b482921">RequestVoxelOperationRamp</a>(Boundaries, RampNormal, RampNormalW, Transformation, 0, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ac06fb6a4e609aa76825ad3b3664e0482">  286</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ac06fb6a4e609aa76825ad3b3664e0482">SendFillRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad51a005da7813e3ae4fc45997b482921">RequestVoxelOperationRamp</a>(Boundaries, RampNormal, RampNormalW, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Fill);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html">  292</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">partial class </span><a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html">MyShapeCapsule</a> : <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">MyShape</a></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    {</div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a522d4e9e184c77244a8fa724cf65a84a">  294</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_vector3_d.html">Vector3D</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a522d4e9e184c77244a8fa724cf65a84a">A</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#aca85f2d09f8147e865ff65f5d53bb609">  295</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="namespace_vector3_d.html">Vector3D</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#aca85f2d09f8147e865ff65f5d53bb609">B</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a1efb06a440e95749ceb33cc9065ca3c5">  296</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">float</span>    <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a1efb06a440e95749ceb33cc9065ca3c5">Radius</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a03a88a28c4794cbdeb9c0eeb31797a57">  298</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a03a88a28c4794cbdeb9c0eeb31797a57">GetWorldBoundaries</a>()</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            var bbox = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(A - Radius, B + Radius);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">return</span> bbox.TransformFast(Transformation);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a5266559000f059876ea939f27356c885">  304</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a5266559000f059876ea939f27356c885">PeekWorldBoundaries</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> targetPosition)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="namespace_matrix_d.html">MatrixD</a> newTransformation = Transformation;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            newTransformation.<a class="code" href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">Translation</a> = targetPosition;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            var bbox = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(A - Radius, B + Radius);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">return</span> bbox.TransformFast(newTransformation);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a2867ae243c13761897b6872d2783d227">  312</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">float</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a2867ae243c13761897b6872d2783d227">GetVolume</a>(ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelPosition)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">if</span> (m_inverseIsDirty)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                m_inverse = <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Invert(m_transformation);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                m_inverseIsDirty = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            voxelPosition = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Transform(voxelPosition, m_inverse);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            var pa = voxelPosition - A;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            var ba = B - A;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            var h  = <a class="code" href="namespace_math_helper.html">MathHelper</a>.Clamp(pa.Dot(ref ba) / ba.LengthSquared(), 0.0, 1.0);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            var sd = (float)((pa - ba * h).Length() - Radius);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">return</span> SignedDistanceToDensity(sd);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a6fda3c68c0ca0a8b63f06e725fa6ca12">  329</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a6fda3c68c0ca0a8b63f06e725fa6ca12">SendPaintRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad2afaf356d30eec4658043d80e7843cd">RequestVoxelOperationCapsule</a>(A, B, Radius, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Paint);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a3205993b0feac34f8acddbb21c3c5969">  334</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a3205993b0feac34f8acddbb21c3c5969">SendCutOutRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad2afaf356d30eec4658043d80e7843cd">RequestVoxelOperationCapsule</a>(A, B, Radius, Transformation, 0, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#aeb9f380ab72a4e9cafdd538914afdea3">  339</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#aeb9f380ab72a4e9cafdd538914afdea3">SendFillRequest</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxel, byte newMaterialIndex)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            voxel.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad2afaf356d30eec4658043d80e7843cd">RequestVoxelOperationCapsule</a>(A, B, Radius, Transformation, newMaterialIndex, <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Fill);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">    #endregion</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class </span>MyVoxelGenerator</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> CELL_SIZE = 16;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> VOXEL_CLAMP_BORDER_DISTANCE = 2;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html">MyStorageData</a> m_cache = <span class="keyword">new</span> <a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html">MyStorageData</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keyword">static</span> List&lt;MyEntity&gt; m_overlapList = <span class="keyword">new</span> List&lt;MyEntity&gt;();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> MakeCrater(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> voxelMap, <a class="code" href="namespace_bounding_sphere_d.html">BoundingSphereD</a> sphere, <a class="code" href="namespace_vector3.html">Vector3</a> direction, <a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html">MyVoxelMaterialDefinition</a> material)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span> (voxelMap == null)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">if</span> (voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a> == null)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html">MyLog</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#ad6211c26fe6b341fedd7d8fe05eb14fd">Default</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_log.html#a280e0f68244c251cc79e8e6862340bf2">WriteLine</a>(<span class="stringliteral">&quot;Storage shouldn&#39;t be null for Voxel:&quot;</span> + voxelMap);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;MakeCrater&quot;</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <a class="code" href="namespace_vector3.html">Vector3</a> normal = voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a0ca95c35e638cd6e91a8de6f0206eb51">RootVoxel</a> != null ? <a class="code" href="namespace_vector3.html">Vector3</a>.Normalize(sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#a552b31199924743586a3ca7945981521">Center</a> - voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a0ca95c35e638cd6e91a8de6f0206eb51">RootVoxel</a>.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#adaee247939f34a696a7e8bc239f8f419">WorldMatrix</a>.<a class="code" href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">Translation</a>) : <a class="code" href="namespace_vector3.html">Vector3</a>.Normalize(sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#a552b31199924743586a3ca7945981521">Center</a> - voxelMap.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#adaee247939f34a696a7e8bc239f8f419">WorldMatrix</a>.<a class="code" href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">Translation</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> minCorner, maxCorner;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <a class="code" href="namespace_vector3_d.html">Vector3D</a> sphereMin = sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#a552b31199924743586a3ca7945981521">Center</a> - (sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> - MyVoxelConstants.VOXEL_SIZE_IN_METRES) * 1.3f;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <a class="code" href="namespace_vector3_d.html">Vector3D</a> sphereMax = sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#a552b31199924743586a3ca7945981521">Center</a> + (sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> + MyVoxelConstants.VOXEL_SIZE_IN_METRES) * 1.3f;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                MyVoxelCoordSystems.WorldPositionToVoxelCoord(voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref sphereMin, out minCorner);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                MyVoxelCoordSystems.WorldPositionToVoxelCoord(voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref sphereMax, out maxCorner);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref minCorner);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref maxCorner);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> worldMinCorner = minCorner + voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">StorageMin</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> worldMaxCorner = maxCorner + voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">StorageMin</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="comment">//  We are tracking which voxels were changed, so we can invalidate only needed cells in the cache</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;Reading cache&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">Resize</a>(minCorner, maxCorner);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">ReadRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.ContentAndMaterial, 0, ref worldMinCorner, ref worldMaxCorner);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;Changing cache&quot;</span>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordtype">int</span> removedVoxelContent = 0;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> tempVoxelCoord;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> cachePos = (maxCorner - minCorner) / 2;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            byte oldMaterial = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref cachePos);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordtype">float</span> digRatio = 1 - <a class="code" href="namespace_vector3.html">Vector3</a>.Dot(normal, direction);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="namespace_vector3.html">Vector3</a> newCenter = sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#a552b31199924743586a3ca7945981521">Center</a> - normal * (float)sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> * 1.1f;<span class="comment">//0.9f;</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordtype">float</span> sphRadA = (<span class="keywordtype">float</span>)(sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> * 1.5f);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordtype">float</span> sphRadSqA = (float)(sphRadA * sphRadA);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordtype">float</span> voxelSizeHalfTransformedPosA = MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF * (2 * sphRadA + MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordtype">float</span> voxelSizeHalfTransformedNegA = MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF * (-2 * sphRadA + MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="namespace_vector3.html">Vector3</a> newDelCenter = newCenter + normal * (float)sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> * (0.7f + digRatio) + direction * (float)sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> * 0.65f;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordtype">float</span> sphRadD = (<span class="keywordtype">float</span>)(sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordtype">float</span> sphRadSqD = (float)(sphRadD * sphRadD);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordtype">float</span> voxelSizeHalfTransformedPosD = MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF * (2 * sphRadD + MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordtype">float</span> voxelSizeHalfTransformedNegD = MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF * (-2 * sphRadD + MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="namespace_vector3.html">Vector3</a> newSetCenter = newCenter + normal * (float)sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> * (digRatio) + direction * (float)sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> * 0.3f;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordtype">float</span> sphRadS = (<span class="keywordtype">float</span>)(sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a> * 0.1f);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordtype">float</span> sphRadSqS = (float)(sphRadS * sphRadS);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordtype">float</span> voxelSizeHalfTransformedPosS = MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF * (2 * sphRadS + MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">for</span> (tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> = minCorner.Z, cachePos.Z = 0; tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> &lt;= maxCorner.Z; tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a>++, ++cachePos.Z)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordflow">for</span> (tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> = minCorner.Y, cachePos.Y = 0; tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> &lt;= maxCorner.Y; tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a>++, ++cachePos.Y)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                    <span class="keywordflow">for</span> (tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> = minCorner.X, cachePos.X = 0; tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> &lt;= maxCorner.X; tempVoxelCoord.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a>++, ++cachePos.X)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelPosition;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                        MyVoxelCoordSystems.VoxelCoordToWorldPosition(voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref tempVoxelCoord, out voxelPosition);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        byte originalContent = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref cachePos);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        <span class="comment">//Add sphere</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        <span class="keywordflow">if</span> (originalContent != MyVoxelConstants.VOXEL_CONTENT_FULL)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                        {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                            <span class="keywordtype">float</span> addDist = (float)(voxelPosition - newCenter).LengthSquared();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                            <span class="keywordtype">float</span> addDiff = (float)(addDist - sphRadSqA);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        byte newContent;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                            <span class="keywordflow">if</span> (addDiff &gt; voxelSizeHalfTransformedPosA)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                            newContent = MyVoxelConstants.VOXEL_CONTENT_EMPTY;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addDiff &lt; voxelSizeHalfTransformedNegA)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                            newContent = MyVoxelConstants.VOXEL_CONTENT_FULL;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                <span class="keywordtype">float</span> value = (float)<a class="code" href="namespace_math.html">Math</a>.Sqrt(addDist + sphRadSqA - 2 * sphRadA * <a class="code" href="namespace_math.html">Math</a>.Sqrt(addDist));</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                <span class="keywordflow">if</span> (addDiff &lt; 0) { value = -value; }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                            <span class="comment">//  This formula will work even if diff is positive or negative</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                newContent = (byte)(MyVoxelConstants.VOXEL_ISO_LEVEL - value / MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF * MyVoxelConstants.VOXEL_ISO_LEVEL);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                        }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                            <span class="keywordflow">if</span> (newContent &gt; originalContent)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                            <span class="keywordflow">if</span> (material != null)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                            {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                    m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref cachePos, oldMaterial);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                            }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                            changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                            m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref cachePos, newContent);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                        }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        <span class="comment">//Delete sphere</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                        <span class="keywordtype">float</span> delDist = (float)(voxelPosition - newDelCenter).LengthSquared();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        <span class="keywordtype">float</span> delDiff = (float)(delDist - sphRadSqD);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                        byte contentToRemove;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        <span class="keywordflow">if</span> (delDiff &gt; voxelSizeHalfTransformedPosD)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                        {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                            contentToRemove = MyVoxelConstants.VOXEL_CONTENT_EMPTY;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (delDiff &lt; voxelSizeHalfTransformedNegD)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                            contentToRemove = MyVoxelConstants.VOXEL_CONTENT_FULL;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                        {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                            <span class="keywordtype">float</span> value = (float)<a class="code" href="namespace_math.html">Math</a>.Sqrt(delDist + sphRadSqD - 2 * sphRadD * <a class="code" href="namespace_math.html">Math</a>.Sqrt(delDist));</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                            <span class="keywordflow">if</span> (delDiff &lt; 0) { value = -value; }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                            <span class="comment">//  This formula will work even if diff is positive or negative</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                            contentToRemove = (byte)(MyVoxelConstants.VOXEL_ISO_LEVEL - value / MyVoxelConstants.VOXEL_SIZE_IN_METRES_HALF * MyVoxelConstants.VOXEL_ISO_LEVEL);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                        }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                        originalContent = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref cachePos);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        <span class="keywordflow">if</span> (originalContent &gt; MyVoxelConstants.VOXEL_CONTENT_EMPTY &amp;&amp; contentToRemove &gt; MyVoxelConstants.VOXEL_CONTENT_EMPTY)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                            changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                            <span class="keywordtype">int</span> newVal = originalContent - contentToRemove;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                            <span class="keywordflow">if</span> (newVal &lt; MyVoxelConstants.VOXEL_CONTENT_EMPTY)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                newVal = MyVoxelConstants.VOXEL_CONTENT_EMPTY;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                            m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref cachePos, (byte)newVal);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                            removedVoxelContent += originalContent - newVal;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                        }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                        <span class="comment">//Set material</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        <span class="keywordtype">float</span> setDist = (float)(voxelPosition - newSetCenter).LengthSquared();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        <span class="keywordtype">float</span> setDiff = (float)(setDist - sphRadSqS);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                        <span class="keywordflow">if</span> (setDiff &lt;= MyVoxelConstants.VOXEL_SIZE_IN_METRES * 1.5f)  <span class="comment">// could be VOXEL_SIZE_IN_METRES_HALF, but we want to set material in empty cells correctly</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                        {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                            <a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html">MyVoxelMaterialDefinition</a> originalMaterial = <a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html">MyDefinitionManager</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#aa76b8697823951ea5c5ec16092b902ab">Static</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#a687ecc35d97dbeb307033699b9d525ce">GetVoxelMaterialDefinition</a>(m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref cachePos));</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                            <span class="comment">// Change the material:</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                            <span class="comment">// - always on boundaries between material and nothing</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                            <span class="comment">// - smoothly on inner boundaries</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                            <a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html">MyVoxelMaterialDefinition</a> newMaterial = material;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                            <span class="keywordflow">if</span> (setDiff &gt; 0)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                            {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                byte content = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref cachePos);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                <span class="keywordflow">if</span> (content == MyVoxelConstants.VOXEL_CONTENT_FULL)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                    newMaterial = originalMaterial;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                <span class="keywordflow">if</span> (setDiff &gt;= voxelSizeHalfTransformedPosS &amp;&amp; content != MyVoxelConstants.VOXEL_CONTENT_EMPTY)  <span class="comment">// set material behind boundary only for empty voxels</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                    newMaterial = originalMaterial;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                            }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                            <span class="keywordflow">if</span> (originalMaterial == newMaterial)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                            {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                            }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                            <span class="keywordflow">if</span> (newMaterial != null)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                            {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref cachePos, newMaterial.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#a7b1792a1559a41fa03cb519b5ea82fb9">Index</a>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                            }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                            changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                        <span class="keywordtype">float</span> dist = (float)(voxelPosition - newCenter).LengthSquared();</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                        <span class="keywordtype">float</span> diff = (float)(dist - sphRadSqA);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                        <span class="keywordflow">if</span> (diff &lt;= 0f)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                        {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                            originalContent = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref cachePos);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                            <span class="keywordflow">if</span> (originalContent &gt; MyVoxelConstants.VOXEL_CONTENT_EMPTY)</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                            {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                <span class="keywordtype">bool</span> wrinkled = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a7e303ac74d3d28ba6693e9810f469c10">WrinkleVoxelContent</a>(ref cachePos, MyVoxelConstants.DEFAULT_WRINKLE_WEIGHT_ADD, MyVoxelConstants.DEFAULT_WRINKLE_WEIGHT_REMOVE);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                <span class="keywordflow">if</span> (wrinkled)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                    changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                            }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                        }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">if</span> (changed)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                ProfilerShort.Begin(<span class="stringliteral">&quot;RemoveSmallVoxelsUsingChachedVoxels&quot;</span>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                RemoveSmallVoxelsUsingChachedVoxels();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                ProfilerShort.BeginNextBlock(<span class="stringliteral">&quot;Writing cache&quot;</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                minCorner += voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">StorageMin</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                maxCorner += voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">StorageMin</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a3babcd9d8c9dab6b537758247a777f8d">WriteRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.ContentAndMaterial, ref minCorner, ref maxCorner);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                MyShapeSphere sphereShape = <span class="keyword">new</span> MyShapeSphere();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                sphereShape.Center = sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#a552b31199924743586a3ca7945981521">Center</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                sphereShape.Radius = (float)(sphere.<a class="code" href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">Radius</a>*1.5);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                OnVoxelChanged(<a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut, voxelMap, sphereShape);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> RequestPaintInShape(<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_voxel_base.html">IMyVoxelBase</a> voxelMap, <a class="code" href="interface_v_rage_1_1_game_1_1_mod_a_p_i_1_1_i_my_voxel_shape.html">IMyVoxelShape</a> voxelShape, byte materialIdx)</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            var map = voxelMap as <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            var shape = voxelShape as MyShape;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="keywordflow">if</span> (map != null &amp;&amp; shape != null)</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                shape.SendPaintRequest(map, materialIdx);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> RequestFillInShape(<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_voxel_base.html">IMyVoxelBase</a> voxelMap, <a class="code" href="interface_v_rage_1_1_game_1_1_mod_a_p_i_1_1_i_my_voxel_shape.html">IMyVoxelShape</a> voxelShape, byte materialIdx)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            var map = voxelMap as MyVoxelBase;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            var shape = voxelShape as MyShape;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">if</span> (map != null &amp;&amp; shape != null)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                shape.SendFillRequest(map, materialIdx);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> RequestCutOutShape(<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_voxel_base.html">IMyVoxelBase</a> voxelMap, <a class="code" href="interface_v_rage_1_1_game_1_1_mod_a_p_i_1_1_i_my_voxel_shape.html">IMyVoxelShape</a> voxelShape)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            var map = voxelMap as MyVoxelBase;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            var shape = voxelShape as MyShape;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">if</span> (map != null &amp;&amp; shape != null)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                shape.SendCutOutRequest(map);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> CutOutShapeWithProperties(</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            MyVoxelBase voxelMap,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            MyShape shape,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            out <span class="keywordtype">float</span> voxelsCountInPercent,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            out <a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html">MyVoxelMaterialDefinition</a> voxelMaterial,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            Dictionary&lt;MyVoxelMaterialDefinition, int&gt; exactCutOutMaterials = null,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordtype">bool</span> updateSync = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordtype">bool</span> onlyCheck = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="keywordtype">bool</span> applyDamageMaterial = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordtype">bool</span> onlyApplyMaterial = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">MySession</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Static</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#abbb99cb2cf54ec95f5732e6900150e12">EnableVoxelDestruction</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                voxelsCountInPercent = 0;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                voxelMaterial = null;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;MyVoxelGenerator::CutOutShapeWithProperties()&quot;</span>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="keywordtype">int</span> originalSum = 0;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="keywordtype">int</span> removedSum = 0;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordtype">bool</span> materials = exactCutOutMaterials != null;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="comment">// Bring the shape into voxel space.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            var oldTranmsform = shape.Transformation;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            var newTransf = oldTranmsform * voxelMap.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#ac182112024a8a65cd601c23c7f49e434">PositionComp</a>.<a class="code" href="class_v_rage_1_1_game_1_1_components_1_1_my_position_component_base.html#a7c44759dc02fb190385e47c06d20068e">WorldMatrixInvScaled</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            newTransf.<a class="code" href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">Translation</a> += voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a9a8ba707c654e108d073a3fb5543bfa2">SizeInMetresHalf</a>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            shape.Transformation = newTransf;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="comment">// This boundary should now be in our local space</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            var bbox = shape.GetWorldBoundaries();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> minCorner, maxCorner;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            ComputeShapeBounds(voxelMap, ref bbox, <a class="code" href="namespace_vector3.html">Vector3</a>.Zero, voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#abe69c40de65e9701c311e3be324849f4">Size</a>, out minCorner, out maxCorner);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordtype">bool</span> readMaterial = exactCutOutMaterials != null || applyDamageMaterial;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            var cacheMin = minCorner - 1;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            var cacheMax = maxCorner + 1;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="comment">//try on making the read/write cell alligned see MyOctreeStorage.WriteRange - Micro octree leaf</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="comment">/*const int SHIFT = 4;</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">            const int REM = (1 &lt;&lt; SHIFT) - 1;</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">            const int MASK = ~REM;</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">            cacheMin &amp;= MASK;</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">            cacheMax = (cacheMax + REM) &amp; MASK;*/</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref cacheMin);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref cacheMax);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">Resize</a>(cacheMin, cacheMax);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a7bc031f0056ac9336b9fe84fb4d99794">ClearMaterials</a>(0);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="comment">// Advise that the read content shall be cached</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <a class="code" href="namespace_v_rage_1_1_voxels.html#a6b2e3effeaf63cb322ecb46b3d19c7b7">MyVoxelRequestFlags</a> flags = <a class="code" href="namespace_v_rage_1_1_voxels.html#a6b2e3effeaf63cb322ecb46b3d19c7b7">MyVoxelRequestFlags</a>.AdviseCache;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">ReadRange</a>(m_cache, readMaterial ? <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.ContentAndMaterial : <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>, 0, ref cacheMin, ref cacheMax, ref flags);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> center;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span> (materials)</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                center = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ac9421b46f9c2754904012a0cfcc3ca4b">Size3D</a> / 2;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                voxelMaterial = <a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html">MyDefinitionManager</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#aa76b8697823951ea5c5ec16092b902ab">Static</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#a687ecc35d97dbeb307033699b9d525ce">GetVoxelMaterialDefinition</a>(m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref center));</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                center = (cacheMin + cacheMax) / 2;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                voxelMaterial = voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.GetMaterialAt(ref center);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html">MyVoxelMaterialDefinition</a> voxelMat = null;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;Main loop&quot;</span>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> pos;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">for</span> (pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> = minCorner.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a>; pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> &lt;= maxCorner.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a>; ++pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a>)</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordflow">for</span> (pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> = minCorner.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a>; pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> &lt;= maxCorner.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a>; ++pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a>)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    <span class="keywordflow">for</span> (pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> = minCorner.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a>; pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> &lt;= maxCorner.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a>; ++pos.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a>)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        <span class="comment">// get original amount</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        var relPos = pos - cacheMin;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        var lin = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a8a06fffca4ca3d2044a64eed62d834c0">ComputeLinear</a>(ref relPos);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                        var original = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(lin);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                        <span class="keywordflow">if</span> (original == MyVoxelConstants.VOXEL_CONTENT_EMPTY) <span class="comment">// if there is nothing to remove</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                        <a class="code" href="namespace_vector3_d.html">Vector3D</a> spos = (<a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>)(pos - voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">StorageMin</a>) * MyVoxelConstants.VOXEL_SIZE_IN_METRES;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        var volume = shape.GetVolume(ref spos);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        <span class="keywordflow">if</span> (volume == 0f) <span class="comment">// if there is no intersection</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        var maxRemove = (int)(volume * MyVoxelConstants.VOXEL_CONTENT_FULL);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                        var toRemove = maxRemove;<span class="comment">// (int)(maxRemove * voxelMat.DamageRatio);</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        var newVal = <a class="code" href="namespace_math.html">Math</a>.Max(original - toRemove, 0);<span class="comment">//MathHelper.Clamp(original - toRemove, 0, original-maxRemove);</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        var removed = original - newVal;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                        <span class="keywordflow">if</span> (!onlyCheck &amp;&amp; !onlyApplyMaterial)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                            m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(lin, (byte)newVal);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                        originalSum += original;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        removedSum += removed;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        var material = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(lin);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                        <span class="keywordflow">if</span> (material != MyVoxelConstants.NULL_MATERIAL)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                        {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                            <span class="keywordflow">if</span> (readMaterial)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                                voxelMat = <a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html">MyDefinitionManager</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#aa76b8697823951ea5c5ec16092b902ab">Static</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#a687ecc35d97dbeb307033699b9d525ce">GetVoxelMaterialDefinition</a>(material);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                            <span class="keywordflow">if</span> (exactCutOutMaterials != null)</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                            {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                                <span class="keywordtype">int</span> value = 0;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                exactCutOutMaterials.TryGetValue(voxelMat, out value);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                value += (MyFakes.ENABLE_REMOVED_VOXEL_CONTENT_HACK ? (int)(removed * 3.9f) : removed);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                                exactCutOutMaterials[voxelMat] = value;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                            }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                            <span class="keywordflow">if</span> (applyDamageMaterial &amp;&amp; voxelMat.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#aa37948b5690257394374f117d71538c9">HasDamageMaterial</a> &amp;&amp; !onlyCheck)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                                m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(lin, voxelMat.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#ad665bd7cdb7a2499fa6d35d21e54215b">DamagedMaterialId</a>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                        }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="keywordflow">if</span> (removedSum &gt; 0 &amp;&amp; updateSync &amp;&amp; <a class="code" href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">Sync</a>.IsServer)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                shape.SendDrillCutOutRequest(voxelMap, applyDamageMaterial);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            ProfilerShort.BeginNextBlock(<span class="stringliteral">&quot;Write&quot;</span>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">if</span> (removedSum &gt; 0 &amp;&amp; !onlyCheck)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                <span class="comment">//  Clear all small voxel that may have been created during explosion. They can be created even outside the range of</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <span class="comment">//  explosion sphere, e.g. if you have three voxels in a row A, B, C, where A is 255, B is 60, and C is 255. During the</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <span class="comment">//  explosion you change C to 0, so now we have 255, 60, 0. Than another explosion that will change A to 0, so we</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <span class="comment">//  will have 0, 60, 0. But B was always outside the range of the explosion. So this is why we need to do -1/+1 and remove</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <span class="comment">//  B voxels too.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment"></span>                <span class="comment">//RemoveSmallVoxelsUsingChachedVoxels();</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                var dataTypeFlags = applyDamageMaterial ? <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.ContentAndMaterial : <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.Content;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordflow">if</span> (MyFakes.LOG_NAVMESH_GENERATION &amp;&amp; <a class="code" href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html">MyAIComponent</a>.<a class="code" href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html#a2844d8b567e658fc021f9b852e085ce6">Static</a>.<a class="code" href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html#ae415fbe328d2e75445f1f5df61edec5a">Pathfinding</a> != null) <a class="code" href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html">MyAIComponent</a>.<a class="code" href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html#a2844d8b567e658fc021f9b852e085ce6">Static</a>.<a class="code" href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html#ae415fbe328d2e75445f1f5df61edec5a">Pathfinding</a>.GetPathfindingLog().LogStorageWrite(voxelMap, m_cache, dataTypeFlags, cacheMin, cacheMax);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a3babcd9d8c9dab6b537758247a777f8d">WriteRange</a>(m_cache, dataTypeFlags, ref cacheMin, ref cacheMax);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            voxelsCountInPercent = (originalSum &gt; 0f) ? (<span class="keywordtype">float</span>)removedSum / (float)originalSum : 0f;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            shape.Transformation = oldTranmsform;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">if</span> (removedSum &gt; 0)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                OnVoxelChanged(<a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut, voxelMap, shape);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> ulong FillInShape(MyVoxelBase voxelMap, MyShape shape, byte materialIdx)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> minCorner, maxCorner, numCells;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            ulong retValue = 0;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            GetVoxelShapeDimensions(voxelMap, shape, out minCorner, out maxCorner, out numCells);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="comment">//voxel must be at least 1 m from side to be closed (e.g. without holes in it)</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            minCorner = <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a0b0024d77c786534c62efc8a9ea3a73d">Max</a>(<a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">One</a>, minCorner);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            maxCorner = <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a0b0024d77c786534c62efc8a9ea3a73d">Max</a>(minCorner, maxCorner);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">for</span> (var itCells = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a>(ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>, ref numCells); itCells.<a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html#a8568384ab021fedadca04babfb3c0eb6">IsValid</a>(); itCells.MoveNext())</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> cellMinCorner, cellMaxCorner;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                GetCellCorners(ref minCorner, ref maxCorner, ref itCells, out cellMinCorner, out cellMaxCorner);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> originalMinCorner = cellMinCorner;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> originalMaxCorner = cellMaxCorner;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref cellMinCorner, 0);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref cellMaxCorner, 0);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                ClampingInfo minCornerClamping = CheckForClamping(originalMinCorner, cellMinCorner);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                ClampingInfo maxCornerClamping = CheckForClamping(originalMaxCorner, cellMaxCorner);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">Resize</a>(cellMinCorner, cellMaxCorner);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">ReadRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.ContentAndMaterial, 0, ref cellMinCorner, ref cellMaxCorner);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                ulong filledSum = 0;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">for</span> (var it = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a>(ref cellMinCorner, ref cellMaxCorner); it.<a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html#a8568384ab021fedadca04babfb3c0eb6">IsValid</a>(); it.MoveNext())</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    var relPos = it.Current - cellMinCorner; <span class="comment">// get original amount</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    var original = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref relPos);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    <span class="keywordflow">if</span> (original == MyVoxelConstants.VOXEL_CONTENT_FULL) <span class="comment">// if there is nothing to add</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    <span class="comment">//if there was some claping, fill the clamp region with material</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    <span class="keywordflow">if</span> ((it.Current.X == cellMinCorner.X &amp;&amp; minCornerClamping.X) || (it.Current.X == cellMaxCorner.X &amp;&amp; maxCornerClamping.X) ||</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                        (it.Current.Y == cellMinCorner.Y &amp;&amp; minCornerClamping.Y) || (it.Current.Y == cellMaxCorner.Y &amp;&amp; maxCornerClamping.Y) ||</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        (it.Current.Z == cellMinCorner.Z &amp;&amp; minCornerClamping.Z) || (it.Current.Z == cellMaxCorner.Z &amp;&amp; maxCornerClamping.Z))</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                    {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                        m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref relPos, materialIdx);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                    <a class="code" href="namespace_vector3_d.html">Vector3D</a> vpos;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    MyVoxelCoordSystems.VoxelCoordToWorldPosition(voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref it.Current, out vpos);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    var volume = shape.GetVolume(ref vpos);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                    <span class="keywordflow">if</span> (volume &lt;= 0f) <span class="comment">// there is nothing to fill</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref relPos, materialIdx); <span class="comment">// set material</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                    var toFill = (int)(volume * MyVoxelConstants.VOXEL_CONTENT_FULL);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    <span class="keywordtype">long</span> newVal = <a class="code" href="namespace_math_helper.html">MathHelper</a>.Clamp(original + toFill, 0, <a class="code" href="namespace_math.html">Math</a>.Max(original, toFill));</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                    m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref relPos, (byte)newVal);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                    filledSum += (ulong)(newVal - original);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">if</span> (filledSum &gt; 0)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    RemoveSmallVoxelsUsingChachedVoxels();</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a3babcd9d8c9dab6b537758247a777f8d">WriteRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.ContentAndMaterial, ref cellMinCorner, ref cellMaxCorner);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                retValue += filledSum;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">if</span> (retValue &gt; 0)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                OnVoxelChanged(<a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Fill, voxelMap, shape);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <span class="keywordflow">return</span> retValue;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> PaintInShape(MyVoxelBase voxelMap, MyShape shape, byte materialIdx)</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> minCorner, maxCorner, numCells;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            GetVoxelShapeDimensions(voxelMap, shape, out minCorner, out maxCorner, out numCells);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            <span class="keywordflow">for</span> (var itCells = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a>(ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>, ref numCells); itCells.<a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html#a8568384ab021fedadca04babfb3c0eb6">IsValid</a>(); itCells.MoveNext())</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> cellMinCorner, cellMaxCorner;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                GetCellCorners(ref minCorner, ref maxCorner, ref itCells, out cellMinCorner, out cellMaxCorner);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">Resize</a>(cellMinCorner, cellMaxCorner);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">ReadRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>, 0, ref cellMinCorner, ref cellMaxCorner);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                <span class="keywordflow">for</span> (var it = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a>(ref cellMinCorner, ref cellMaxCorner); it.<a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html#a8568384ab021fedadca04babfb3c0eb6">IsValid</a>(); it.MoveNext())</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                    var relPos = it.Current - cellMinCorner;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                    <a class="code" href="namespace_vector3_d.html">Vector3D</a> vpos;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                    MyVoxelCoordSystems.VoxelCoordToWorldPosition(voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref it.Current, out vpos);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                    <span class="keywordtype">float</span> volume = shape.GetVolume(ref vpos);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                    <span class="keywordflow">if</span> (volume &gt; 0.5f)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                        m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref relPos, materialIdx); <span class="comment">// set material</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a3babcd9d8c9dab6b537758247a777f8d">WriteRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>, ref cellMinCorner, ref cellMaxCorner);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> ulong CutOutShape(MyVoxelBase voxelMap, MyShape shape)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">MySession</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Static</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#abbb99cb2cf54ec95f5732e6900150e12">EnableVoxelDestruction</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> minCorner, maxCorner, numCells;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            GetVoxelShapeDimensions(voxelMap, shape, out minCorner, out maxCorner, out numCells);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            ulong changedVolumeAmount = 0;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">for</span> (var itCells = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a>(ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>, ref numCells); itCells.<a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html#a8568384ab021fedadca04babfb3c0eb6">IsValid</a>(); itCells.MoveNext())</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> cellMinCorner, cellMaxCorner;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                GetCellCorners(ref minCorner, ref maxCorner, ref itCells, out cellMinCorner, out cellMaxCorner);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                var cacheMin = cellMinCorner - 1;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                var cacheMax = cellMaxCorner + 1;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref cacheMin);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.ClampVoxelCoord(ref cacheMax);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                ulong removedSum = 0;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">Resize</a>(cacheMin, cacheMax);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">ReadRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>, 0, ref cacheMin, ref cacheMax);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                <span class="keywordflow">for</span> (var it = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a>(ref cellMinCorner, ref cellMaxCorner); it.<a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html#a8568384ab021fedadca04babfb3c0eb6">IsValid</a>(); it.MoveNext())</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    var relPos = it.Current - cacheMin; <span class="comment">// get original amount</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                    var original = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref relPos);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                    <span class="keywordflow">if</span> (original == MyVoxelConstants.VOXEL_CONTENT_EMPTY) <span class="comment">// if there is nothing to remove</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    <a class="code" href="namespace_vector3_d.html">Vector3D</a> vpos;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    MyVoxelCoordSystems.VoxelCoordToWorldPosition(voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref it.Current, out vpos);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                    var volume = shape.GetVolume(ref vpos);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                    <span class="keywordflow">if</span> (volume == 0f) <span class="comment">// if there is no intersection</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                    var toRemove = (int)(MyVoxelConstants.VOXEL_CONTENT_FULL - (volume * MyVoxelConstants.VOXEL_CONTENT_FULL));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                    var newVal = <a class="code" href="namespace_math.html">Math</a>.Min(toRemove, original);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    ulong removed = (ulong)<a class="code" href="namespace_math.html">Math</a>.Abs(original - newVal);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref relPos, (byte)newVal);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                    removedSum += removed;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                <span class="keywordflow">if</span> (removedSum &gt; 0)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    RemoveSmallVoxelsUsingChachedVoxels(); <span class="comment">// must stay because of the around when filling voxels</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                    voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a3babcd9d8c9dab6b537758247a777f8d">WriteRange</a>(m_cache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>, ref cacheMin, ref cacheMax);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                changedVolumeAmount += removedSum;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="keywordflow">if</span> (changedVolumeAmount &gt; 0)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                OnVoxelChanged(<a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut, voxelMap, shape);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            <span class="keywordflow">return</span> changedVolumeAmount;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keyword">struct </span>ClampingInfo</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="namespace_v_rage_1_1_game.html#ab517f209894c37202bf035d4de1176b8a02129bb861061d1a052c592e2dc6b383">X</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="namespace_v_rage_1_1_game.html#ab517f209894c37202bf035d4de1176b8a57cec4137b614c87cb4e24a3d003a3e0">Y</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="namespace_v_rage_1_1_game.html#ab517f209894c37202bf035d4de1176b8a21c2e59531c8710156d34a3c30ac81d5">Z</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="keyword">public</span> ClampingInfo(<span class="keywordtype">bool</span> X, <span class="keywordtype">bool</span> Y, <span class="keywordtype">bool</span> Z)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                this.X = X;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                this.Y = Y;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                this.Z = Z;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> ClampingInfo CheckForClamping(<a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> originalValue, <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> clampedValue)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            ClampingInfo ret = <span class="keyword">new</span> ClampingInfo(<span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="keywordflow">if</span> (originalValue.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> != clampedValue.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a>)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                ret.X = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="keywordflow">if</span> (originalValue.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> != clampedValue.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a>)</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                ret.Y = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="keywordflow">if</span> (originalValue.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> != clampedValue.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a>)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                ret.Z = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> RemoveSmallVoxelsUsingChachedVoxels()</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;MyVoxelGenerator::RemoveSmallVoxelsUsingChachedVoxels()&quot;</span>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> voxel;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            var cacheSize = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ac9421b46f9c2754904012a0cfcc3ca4b">Size3D</a>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            var sizeMinusOne = cacheSize - 1;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="keywordflow">for</span> (voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> = 0; voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> &lt; cacheSize.X; voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a>++)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <span class="keywordflow">for</span> (voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> = 0; voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> &lt; cacheSize.Y; voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a>++)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    <span class="keywordflow">for</span> (voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> = 0; voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> &lt; cacheSize.Z; voxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a>++)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                    {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                        <span class="comment">//  IMPORTANT: When doing transformations on &#39;content&#39; value, cast it to int always!!!</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                        <span class="comment">//  It&#39;s because you can easily forget that result will be negative and if you put negative into byte, it will</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                        <span class="comment">//  be overflown and you will be surprised by results!!</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                        <span class="keywordtype">int</span> content = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref voxel);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                        <span class="comment">//  Check if this is small/invisible voxel (less than 127), but still not empty (more than 0)</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                        <span class="keywordflow">if</span> ((content &gt; 0) &amp;&amp; (content &lt; MyVoxelConstants.VOXEL_ISO_LEVEL))</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                        {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> neighborVoxel;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> neighborVoxelMin = voxel - 1;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> neighborVoxelMax = voxel + 1;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac1930d7d743da4be32e9b538595f5340">Clamp</a>(ref neighborVoxelMin, ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>, ref sizeMinusOne, out neighborVoxelMin);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac1930d7d743da4be32e9b538595f5340">Clamp</a>(ref neighborVoxelMax, ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>, ref sizeMinusOne, out neighborVoxelMax);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                            <span class="keywordtype">bool</span> foundNonEmptyVoxel = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                            <span class="keywordflow">for</span> (neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> = neighborVoxelMin.X; neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a> &lt;= neighborVoxelMax.X; neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">X</a>++)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                            {</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                <span class="keywordflow">for</span> (neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> = neighborVoxelMin.Y; neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a> &lt;= neighborVoxelMax.Y; neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">Y</a>++)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                    <span class="keywordflow">for</span> (neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> = neighborVoxelMin.Z; neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a> &lt;= neighborVoxelMax.Z; neighborVoxel.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">Z</a>++)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                    {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                                        <span class="keywordtype">int</span> neighborContent = m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref neighborVoxel);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                        <span class="comment">//  Check if this is small/invisible voxel</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                                        <span class="keywordflow">if</span> (neighborContent &gt;= MyVoxelConstants.VOXEL_ISO_LEVEL)</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                        {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                            foundNonEmptyVoxel = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                                            <span class="keywordflow">goto</span> END_NEIGHBOR_LOOP;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                                        }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                                    }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                                }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                            }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                        END_NEIGHBOR_LOOP:</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                            <span class="keywordflow">if</span> (foundNonEmptyVoxel == <span class="keyword">false</span>)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                            {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                m_cache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">Content</a>(ref voxel, MyVoxelConstants.VOXEL_CONTENT_EMPTY);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                            }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                        }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> ComputeShapeBounds(MyVoxelBase voxelMap,</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            ref <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> shapeAabb, <a class="code" href="namespace_vector3_d.html">Vector3D</a> voxelMapMinCorner, <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> storageSize,</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            out <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> voxelMin, out <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> voxelMax)</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            MyVoxelCoordSystems.WorldPositionToVoxelCoord(voxelMapMinCorner, ref shapeAabb.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a197bbe7e916dc9b7bfac61f29e3ffd9c">Min</a>, out voxelMin);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            MyVoxelCoordSystems.WorldPositionToVoxelCoord(voxelMapMinCorner, ref shapeAabb.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a4c019805f3fff6a665d1b0cc98497c40">Max</a>, out voxelMax);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            voxelMin += voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">StorageMin</a>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            voxelMax += voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">StorageMin</a>;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            voxelMax += 1; <span class="comment">//what? why? Another hack of MK?</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            storageSize -= 1;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac1930d7d743da4be32e9b538595f5340">Clamp</a>(ref voxelMin, ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>, ref storageSize, out voxelMin);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#ac1930d7d743da4be32e9b538595f5340">Clamp</a>(ref voxelMax, ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>, ref storageSize, out voxelMax);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> GetVoxelShapeDimensions(MyVoxelBase voxelMap, MyShape shape, out <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> minCorner, out <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> maxCorner, out <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> numCells)</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                var bbox = shape.GetWorldBoundaries();</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                ComputeShapeBounds(voxelMap,ref bbox, voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, voxelMap.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#abe69c40de65e9701c311e3be324849f4">Size</a>, out minCorner, out maxCorner);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            numCells = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>((maxCorner.X - minCorner.X) / CELL_SIZE, (maxCorner.Y - minCorner.Y) / CELL_SIZE, (maxCorner.Z - minCorner.Z) / CELL_SIZE);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> GetCellCorners(ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> minCorner, ref <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> maxCorner, ref <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a> it, out <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> cellMinCorner, out <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> cellMaxCorner)</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            cellMinCorner = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>(minCorner.X + it.Current.X * CELL_SIZE, minCorner.Y + it.Current.Y * CELL_SIZE, minCorner.Z + it.Current.Z * CELL_SIZE);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            cellMaxCorner = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>(<a class="code" href="namespace_math.html">Math</a>.Min(maxCorner.X, cellMinCorner.X + CELL_SIZE), <a class="code" href="namespace_math.html">Math</a>.Min(maxCorner.Y, cellMinCorner.Y + CELL_SIZE), <a class="code" href="namespace_math.html">Math</a>.Min(maxCorner.Z, cellMinCorner.Z + CELL_SIZE));</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> OnVoxelChanged(<a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a> type, MyVoxelBase voxelMap, MyShape shape)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">Sync</a>.IsServer)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> cutOutBox = shape.GetWorldBoundaries();</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            cutOutBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a2d1f66c2a4a842550650c04c20a275dd">Inflate</a>(0.25);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            MyEntities.GetElementsInBox(ref cutOutBox, m_overlapList);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="comment">// Check static grids around (possible change to dynamic)</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="keywordflow">if</span> (<span class="comment">/*MyFakes.ENABLE_BLOCK_PLACEMENT_ON_VOXEL &amp;&amp;*/</span> MyFakes.ENABLE_BLOCKS_IN_VOXELS_TEST &amp;&amp; <a class="code" href="class_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity_1_1_my_structural_integrity.html">MyStructuralIntegrity</a>.<a class="code" href="class_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity_1_1_my_structural_integrity.html#a724d6b055260fbb177417aa50464f85e">Enabled</a>)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                <span class="keywordflow">foreach</span> (var entity <span class="keywordflow">in</span> m_overlapList)</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                    var grid = entity as <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html">MyCubeGrid</a>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                    <span class="keywordflow">if</span> (grid != null &amp;&amp; grid.IsStatic)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                    {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                        <span class="keywordflow">if</span> (grid.Physics != null &amp;&amp; grid.Physics.Shape != null)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                        {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                            grid.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html#a3eeada10dba536e0ee7f5b73532746d0">Physics</a>.Shape.RecalculateConnectionsToWorld(grid.GetBlocks());</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                        }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                        <span class="keywordflow">if</span> (type == <a class="code" href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">OperationType</a>.Cut)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                            grid.TestDynamic = MyCubeGrid.MyTestDynamicReason.GridSplit;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                    }</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            var voxelPhysics = voxelMap as MyVoxelPhysics;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_planet.html">MyPlanet</a> planet = voxelPhysics != null ? voxelPhysics.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#ad324c3ff85ae9293cdef792963205093">Parent</a> : voxelMap as <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_planet.html">MyPlanet</a>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <span class="keywordflow">if</span> (planet != null)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                var planetEnvironment = planet.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a0cc308f11c2653511ef193ce14053e70">Components</a>.Get&lt;<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_planet_1_1_my_planet_environment_component.html">MyPlanetEnvironmentComponent</a>&gt;();</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <span class="keywordflow">if</span> (planetEnvironment != null)</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                    var sectors = planetEnvironment.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_planet_1_1_my_planet_environment_component.html#addc032dc1562ababfafbdcaf044cd212">GetSectorsInRange</a>(shape);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <span class="keywordflow">if</span> (sectors != null)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                        <span class="keywordflow">foreach</span> (var sector <span class="keywordflow">in</span> sectors)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                            sector.DisableItemsInShape(shape);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            }</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            m_overlapList.Clear();</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html">Sandbox.Engine.Voxels.MyShapeRamp</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00242">MyVoxelGenerator.cs:242</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_aca5f2700d455be904b3ddc40a2b46ca9"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">VRageMath.BoundingBoxD.Min</a></div><div class="ttdeci">Vector3D Min</div><div class="ttdoc">The minimum point the BoundingBox contains. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00023">BoundingBoxD.cs:23</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_html"><div class="ttname"><a href="namespace_sandbox_1_1_game.html">Sandbox.Game</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_ae8db795db7f520736acf8de4cfd4407b"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ae8db795db7f520736acf8de4cfd4407b">VRage.Voxels.MyStorageData.Content</a></div><div class="ttdeci">void Content(ref Vector3I p, byte content)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00181">MyStorageData.cs:181</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_aca3e1637d1d2f9cce4eba1905a92ddb5"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#aca3e1637d1d2f9cce4eba1905a92ddb5">VRageMath.Vector3I.X</a></div><div class="ttdeci">int X</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00112">Vector3I.cs:112</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_ac7bc7922c19dc1e3d8ac436a93456bd8"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#ac7bc7922c19dc1e3d8ac436a93456bd8">VRageMath.Vector3I.Y</a></div><div class="ttdeci">int Y</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00114">Vector3I.cs:114</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_ac06fb6a4e609aa76825ad3b3664e0482"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ac06fb6a4e609aa76825ad3b3664e0482">Sandbox.Engine.Voxels.MyShapeRamp.SendFillRequest</a></div><div class="ttdeci">override void SendFillRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00286">MyVoxelGenerator.cs:286</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html">Sandbox.Engine.Voxels.MyShapeBox</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00072">MyVoxelGenerator.cs:72</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_log_html"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_log.html">VRage.Utils.MyLog</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_log_8cs_source.html#l00049">MyLog.cs:49</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_world_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_world.html">Sandbox.Game.World</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_build_component_base_8cs_source.html#l00022">MyBuildComponentBase.cs:22</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity.html">Sandbox.Game.GameSystems.StructuralIntegrity</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_integrity_simulator_8cs_source.html#l00008">IMyIntegritySimulator.cs:8</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_a079b7887adaaee09912fda63ad44fb46"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a079b7887adaaee09912fda63ad44fb46">Sandbox.Engine.Voxels.MyShapeRamp.PeekWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD PeekWorldBoundaries(ref Vector3D targetPosition)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00253">MyVoxelGenerator.cs:253</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a48528d916507ec4a6a157774d2e2c8b3"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Sandbox.Game.Entities.MyVoxelBase.Storage</a></div><div class="ttdeci">virtual Sandbox.Engine.Voxels.IMyStorage Storage</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00077">MyVoxelBase.cs:77</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_aabc504774975ff0bcfefff7ad20e2840"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#aabc504774975ff0bcfefff7ad20e2840">VRageMath.BoundingBoxD.TransformFast</a></div><div class="ttdeci">BoundingBoxD TransformFast(MatrixD m)</div><div class="ttdoc">Transform this AABB by matrix. Matrix has to be only rotation and translation. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00990">BoundingBoxD.cs:990</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_a6fda3c68c0ca0a8b63f06e725fa6ca12"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a6fda3c68c0ca0a8b63f06e725fa6ca12">Sandbox.Engine.Voxels.MyShapeCapsule.SendPaintRequest</a></div><div class="ttdeci">override void SendPaintRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00329">MyVoxelGenerator.cs:329</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_voxel_base_html"><div class="ttname"><a href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_voxel_base.html">VRage.ModAPI.IMyVoxelBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_voxel_base_8cs_source.html#l00007">IMyVoxelBase.cs:7</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_sphere_d_html_ae32908c86699fa3a4fdc4f04d94af5d1"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_sphere_d.html#ae32908c86699fa3a4fdc4f04d94af5d1">VRageMath.BoundingSphereD.Radius</a></div><div class="ttdeci">double Radius</div><div class="ttdoc">The radius of the sphere. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_sphere_d_8cs_source.html#l00020">BoundingSphereD.cs:20</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition_html_a7b1792a1559a41fa03cb519b5ea82fb9"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#a7b1792a1559a41fa03cb519b5ea82fb9">Sandbox.Definitions.MyVoxelMaterialDefinition.Index</a></div><div class="ttdeci">byte Index</div><div class="ttdoc">Value generated at runtime to ensure correctness. Do not serialize or deserialize. This is what the old cast to int used to result into, but now numbers depend on order in XML file. TODO Serialize to XML and ensure upon loading that these values are starting from 0 and continuous. </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_material_definition_8cs_source.html#l00062">MyVoxelMaterialDefinition.cs:62</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_ac9421b46f9c2754904012a0cfcc3ca4b"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ac9421b46f9c2754904012a0cfcc3ca4b">VRage.Voxels.MyStorageData.Size3D</a></div><div class="ttdeci">Vector3I Size3D</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00068">MyStorageData.cs:68</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_1_1_generic_html"><div class="ttname"><a href="namespace_system_1_1_collections_1_1_generic.html">System.Collections.Generic</a></div><div class="ttdef"><b>Definition:</b> <a href="_dictionary_extensions_8cs_source.html#l00007">DictionaryExtensions.cs:7</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_html_ad6a69b0c47eb5621f56f53307d5e0672"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3.html#ad6a69b0c47eb5621f56f53307d5e0672">VRageMath.Vector3.Normalize</a></div><div class="ttdeci">float Normalize()</div><div class="ttdoc">Turns the current vector into a unit vector. The result is a vector one unit in length pointing in th...</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8cs_source.html#l00591">Vector3.cs:591</a></div></div>
<div class="ttc" id="namespace_math_helper_html"><div class="ttname"><a href="namespace_math_helper.html">MathHelper</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity_1_1_my_structural_integrity_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity_1_1_my_structural_integrity.html">Sandbox.Game.GameSystems.StructuralIntegrity.MyStructuralIntegrity</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_structural_integrity_8cs_source.html#l00023">MyStructuralIntegrity.cs:23</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_a03a88a28c4794cbdeb9c0eeb31797a57"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a03a88a28c4794cbdeb9c0eeb31797a57">Sandbox.Engine.Voxels.MyShapeCapsule.GetWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD GetWorldBoundaries()</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00298">MyVoxelGenerator.cs:298</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_ad001937ae4d7546083a915bdddba5ccd"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#ad001937ae4d7546083a915bdddba5ccd">Sandbox.Engine.Voxels.MyShapeSphere.GetWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD GetWorldBoundaries()</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00125">MyVoxelGenerator.cs:125</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine.html">Sandbox.Engine</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html_a1b5da9c147e6e199154d38978d9528d1"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a1b5da9c147e6e199154d38978d9528d1">Sandbox.Engine.Voxels.MyShapeBox.Boundaries</a></div><div class="ttdeci">BoundingBoxD Boundaries</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00074">MyVoxelGenerator.cs:74</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_voxels_html_a66d293f3c070fd4842ea5cf11a917e3f"><div class="ttname"><a href="namespace_v_rage_1_1_voxels.html#a66d293f3c070fd4842ea5cf11a917e3f">VRage.Voxels.OperationType</a></div><div class="ttdeci">OperationType</div><div class="ttdoc">Type of voxel operation to perform </div><div class="ttdef"><b>Definition:</b> <a href="_enums_8cs_source.html#l00102">Enums.cs:102</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_ac182112024a8a65cd601c23c7f49e434"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#ac182112024a8a65cd601c23c7f49e434">VRage.Game.Entity.MyEntity.PositionComp</a></div><div class="ttdeci">MyPositionComponentBase PositionComp</div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00048">MyEntity.cs:48</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_ad2afaf356d30eec4658043d80e7843cd"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad2afaf356d30eec4658043d80e7843cd">Sandbox.Game.Entities.MyVoxelBase.RequestVoxelOperationCapsule</a></div><div class="ttdeci">void RequestVoxelOperationCapsule(Vector3D A, Vector3D B, float radius, MatrixD Transformation, byte material, OperationType Type)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00792">MyVoxelBase.cs:792</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition_html"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html">Sandbox.Definitions.MyVoxelMaterialDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_material_definition_8cs_source.html#l00015">MyVoxelMaterialDefinition.cs:15</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage_html_a3babcd9d8c9dab6b537758247a777f8d"><div class="ttname"><a href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a3babcd9d8c9dab6b537758247a777f8d">VRage.ModAPI.IMyStorage.WriteRange</a></div><div class="ttdeci">void WriteRange(MyStorageData source, MyStorageDataTypeFlags dataToWrite, Vector3I voxelRangeMin, Vector3I voxelRangeMax)</div><div class="ttdoc">Writes range of content and/or materials from cache to storage. Note that this can only write to LOD0...</div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_ac1930d7d743da4be32e9b538595f5340"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#ac1930d7d743da4be32e9b538595f5340">VRageMath.Vector3I.Clamp</a></div><div class="ttdeci">static Vector3I Clamp(Vector3I value1, Vector3I min, Vector3I max)</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00830">Vector3I.cs:830</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_acfc4971b320b50f47a383d6177606445"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#acfc4971b320b50f47a383d6177606445">Sandbox.Engine.Voxels.MyShapeRamp.SendPaintRequest</a></div><div class="ttdeci">override void SendPaintRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00276">MyVoxelGenerator.cs:276</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html_af76bbf8ef1269420760d55cacd951912"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Sandbox.Game.World.MySession.Static</a></div><div class="ttdeci">static MySession Static</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8cs_source.html#l00102">MySession.cs:102</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_a0b0024d77c786534c62efc8a9ea3a73d"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#a0b0024d77c786534c62efc8a9ea3a73d">VRageMath.Vector3I.Max</a></div><div class="ttdeci">static Vector3I Max(Vector3I value1, Vector3I value2)</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00447">Vector3I.cs:447</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid_html_ad20f06444539d12595dfdc52582febe5"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#ad20f06444539d12595dfdc52582febe5">Sandbox.Engine.Voxels.MyShapeEllipsoid.SendPaintRequest</a></div><div class="ttdeci">override void SendPaintRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00226">MyVoxelGenerator.cs:226</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a9a8ba707c654e108d073a3fb5543bfa2"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a9a8ba707c654e108d073a3fb5543bfa2">Sandbox.Game.Entities.MyVoxelBase.SizeInMetresHalf</a></div><div class="ttdeci">Vector3 SizeInMetresHalf</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00107">MyVoxelBase.cs:107</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_a139c2b8c11d56a53209959454cabc638"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a139c2b8c11d56a53209959454cabc638">Sandbox.Engine.Voxels.MyShapeRamp.Boundaries</a></div><div class="ttdeci">BoundingBoxD Boundaries</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00244">MyVoxelGenerator.cs:244</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_a151eceadb37256f3eb32e316e723fd9e"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">VRageMath.Vector3I.One</a></div><div class="ttdeci">static Vector3I One</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00167">Vector3I.cs:167</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid_html_a879b2293dc21d07f0674e88144981f26"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a879b2293dc21d07f0674e88144981f26">Sandbox.Engine.Voxels.MyShapeEllipsoid.PeekWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD PeekWorldBoundaries(ref Vector3D targetPosition)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00198">MyVoxelGenerator.cs:198</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html_abbb99cb2cf54ec95f5732e6900150e12"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#abbb99cb2cf54ec95f5732e6900150e12">Sandbox.Game.World.MySession.EnableVoxelDestruction</a></div><div class="ttdeci">bool EnableVoxelDestruction</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8cs_source.html#l00179">MySession.cs:179</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_ad3da96ebd229287689247334e03296b1"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad3da96ebd229287689247334e03296b1">Sandbox.Game.Entities.MyVoxelBase.RequestVoxelOperationBox</a></div><div class="ttdeci">void RequestVoxelOperationBox(BoundingBoxD box, MatrixD Transformation, byte material, OperationType Type)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00890">MyVoxelBase.cs:890</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity_1_1_my_structural_integrity_html_a724d6b055260fbb177417aa50464f85e"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_game_systems_1_1_structural_integrity_1_1_my_structural_integrity.html#a724d6b055260fbb177417aa50464f85e">Sandbox.Game.GameSystems.StructuralIntegrity.MyStructuralIntegrity.Enabled</a></div><div class="ttdeci">static bool Enabled</div><div class="ttdef"><b>Definition:</b> <a href="_my_structural_integrity_8cs_source.html#l00025">MyStructuralIntegrity.cs:25</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_planet_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_planet.html">Sandbox.Game.Entities.MyPlanet</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_planet_8cs_source.html#l00079">MyPlanet.cs:79</a></div></div>
<div class="ttc" id="_my_gui_skin_definition_8cs_html_a81a223a02c34d82b47199f08308847f2"><div class="ttname"><a href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a></div><div class="ttdeci">﻿using System</div><div class="ttdef"><b>Definition:</b> <a href="_my_gui_skin_definition_8cs_source.html#l00001">MyGuiSkinDefinition.cs:1</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid_html_ab1edd5b8ebbf4735f82e0da14e87d989"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#ab1edd5b8ebbf4735f82e0da14e87d989">Sandbox.Engine.Voxels.MyShapeEllipsoid.SendCutOutRequest</a></div><div class="ttdeci">override void SendCutOutRequest(MyVoxelBase voxel)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00231">MyVoxelGenerator.cs:231</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition_html_aa37948b5690257394374f117d71538c9"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#aa37948b5690257394374f117d71538c9">Sandbox.Definitions.MyVoxelMaterialDefinition.HasDamageMaterial</a></div><div class="ttdeci">bool HasDamageMaterial</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_material_definition_8cs_source.html#l00067">MyVoxelMaterialDefinition.cs:67</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html_af7f14ea0ce882b70b84588e7f1558bbc"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#af7f14ea0ce882b70b84588e7f1558bbc">Sandbox.Engine.Voxels.MyShapeBox.SendFillRequest</a></div><div class="ttdeci">override void SendFillRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00114">MyVoxelGenerator.cs:114</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html">Sandbox.Game.Entities.MyCubeGrid</a></div><div class="ttdoc">Grid - small ship, large ship, station Cubes (armor, walls...) are merge and rendered by this entity ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_cube_grid_8cs_source.html#l00090">MyCubeGrid.cs:90</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage_html_a19855228c14f169efba81d929d3e5946"><div class="ttname"><a href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">VRage.ModAPI.IMyStorage.ReadRange</a></div><div class="ttdeci">void ReadRange(MyStorageData target, MyStorageDataTypeFlags dataToRead, int lodIndex, Vector3I lodVoxelRangeMin, Vector3I lodVoxelRangeMax)</div><div class="ttdoc">Reads range of content and/or materials from specified LOD. If you want to write data back later...</div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid_html_a6ae91a842d8f1de7ba1f0e5b64533aab"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a6ae91a842d8f1de7ba1f0e5b64533aab">Sandbox.Engine.Voxels.MyShapeEllipsoid.GetVolume</a></div><div class="ttdeci">override float GetVolume(ref Vector3D voxelPosition)</div><div class="ttdoc">Gets volume of intersection of shape and voxel </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00205">MyVoxelGenerator.cs:205</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html">VRage.Voxels.MyStorageData</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00014">MyStorageData.cs:14</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_ab517f209894c37202bf035d4de1176b8a21c2e59531c8710156d34a3c30ac81d5"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#ab517f209894c37202bf035d4de1176b8a21c2e59531c8710156d34a3c30ac81d5">VRage.Game.Z</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_sphere_d_html_a552b31199924743586a3ca7945981521"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_sphere_d.html#a552b31199924743586a3ca7945981521">VRageMath.BoundingSphereD.Center</a></div><div class="ttdeci">Vector3D Center</div><div class="ttdoc">The center point of the sphere. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_sphere_d_8cs_source.html#l00016">BoundingSphereD.cs:16</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component_html_a2844d8b567e658fc021f9b852e085ce6"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html#a2844d8b567e658fc021f9b852e085ce6">Sandbox.Game.AI.MyAIComponent.Static</a></div><div class="ttdeci">static MyAIComponent Static</div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_game_2_game_2_a_i_2_my_a_i_component_8cs_source.html#l00086">MyAIComponent.cs:86</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a0ca95c35e638cd6e91a8de6f0206eb51"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a0ca95c35e638cd6e91a8de6f0206eb51">Sandbox.Game.Entities.MyVoxelBase.RootVoxel</a></div><div class="ttdeci">abstract MyVoxelBase RootVoxel</div><div class="ttdoc">Gets root voxel, for asteroids and planets itself. For MyVoxelPhysics, should return owning planet...</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00147">MyVoxelBase.cs:147</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_a2867ae243c13761897b6872d2783d227"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a2867ae243c13761897b6872d2783d227">Sandbox.Engine.Voxels.MyShapeCapsule.GetVolume</a></div><div class="ttdeci">override float GetVolume(ref Vector3D voxelPosition)</div><div class="ttdoc">Gets volume of intersection of shape and voxel </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00312">MyVoxelGenerator.cs:312</a></div></div>
<div class="ttc" id="namespace_vector3_d_html"><div class="ttname"><a href="namespace_vector3_d.html">Vector3D</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_ab517f209894c37202bf035d4de1176b8a57cec4137b614c87cb4e24a3d003a3e0"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#ab517f209894c37202bf035d4de1176b8a57cec4137b614c87cb4e24a3d003a3e0">VRage.Game.Y</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_definitions_html"><div class="ttname"><a href="namespace_sandbox_1_1_definitions.html">Sandbox.Definitions</a></div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_common_2_my_definition_errors_8cs_source.html#l00008">MyDefinitionErrors.cs:8</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component_html_ae415fbe328d2e75445f1f5df61edec5a"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html#ae415fbe328d2e75445f1f5df61edec5a">Sandbox.Game.AI.MyAIComponent.Pathfinding</a></div><div class="ttdeci">IMyPathfinding Pathfinding</div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_game_2_game_2_a_i_2_my_a_i_component_8cs_source.html#l00079">MyAIComponent.cs:79</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html">Sandbox.Engine.Voxels.MyShapeSphere</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00120">MyVoxelGenerator.cs:120</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_utils_html"><div class="ttname"><a href="namespace_v_rage_1_1_utils.html">VRage.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_my5_bit_encoding_8cs_source.html#l00006">My5BitEncoding.cs:6</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_a5869a329e136302ab34de4aeab73bf00"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">VRageMath.Vector3I.Zero</a></div><div class="ttdeci">static Vector3I Zero</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00101">Vector3I.cs:101</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_aa23e5e60c82968b0654f6286a01377ea"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aa23e5e60c82968b0654f6286a01377ea">Sandbox.Engine.Voxels.MyShapeSphere.SendCutOutRequest</a></div><div class="ttdeci">override void SendCutOutRequest(MyVoxelBase voxel)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00150">MyVoxelGenerator.cs:150</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html"><div class="ttname"><a href="namespace_v_rage_1_1_game.html">VRage.Game</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_a60ddd50d822838883ef5ebcf84690b7c"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a60ddd50d822838883ef5ebcf84690b7c">Sandbox.Engine.Voxels.MyShapeRamp.SendCutOutRequest</a></div><div class="ttdeci">override void SendCutOutRequest(MyVoxelBase voxel)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00281">MyVoxelGenerator.cs:281</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a7a026201f6afeebe585ffccd3ab80034"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a7a026201f6afeebe585ffccd3ab80034">Sandbox.Game.Entities.MyVoxelBase.RequestVoxelOperationSphere</a></div><div class="ttdeci">void RequestVoxelOperationSphere(Vector3D center, float radius, byte material, OperationType Type)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00846">MyVoxelBase.cs:846</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_ab6ef149788f1614ace1aa557fcb4bf53"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#ab6ef149788f1614ace1aa557fcb4bf53">Sandbox.Engine.Voxels.MyShapeSphere.PeekWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD PeekWorldBoundaries(ref Vector3D targetPosition)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00132">MyVoxelGenerator.cs:132</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_voxels_html_a472f51a8fd201d68f1aed2d709473adc"><div class="ttname"><a href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">VRage.Voxels.MyStorageDataTypeFlags</a></div><div class="ttdeci">MyStorageDataTypeFlags</div><div class="ttdef"><b>Definition:</b> <a href="_enums_8cs_source.html#l00023">Enums.cs:23</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid_html_aac6d5923fff029c3cfe8c074410950c7"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#aac6d5923fff029c3cfe8c074410950c7">Sandbox.Engine.Voxels.MyShapeEllipsoid.SendFillRequest</a></div><div class="ttdeci">override void SendFillRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00236">MyVoxelGenerator.cs:236</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_adaee247939f34a696a7e8bc239f8f419"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#adaee247939f34a696a7e8bc239f8f419">VRage.Game.Entity.MyEntity.WorldMatrix</a></div><div class="ttdeci">MatrixD WorldMatrix</div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00307">MyEntity.cs:307</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a4f3edfb9be32113e71d1845907ba8a14"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">Sandbox.Game.Entities.MyVoxelBase.PositionLeftBottomCorner</a></div><div class="ttdeci">virtual Vector3D PositionLeftBottomCorner</div><div class="ttdoc">Position of left/bottom corner of this voxel map, in world space (not relative to sector) ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00116">MyVoxelBase.cs:116</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html_aae95090ce89bf2faa134799e34aff294"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#aae95090ce89bf2faa134799e34aff294">Sandbox.Engine.Voxels.MyShapeBox.GetVolume</a></div><div class="ttdeci">override float GetVolume(ref Vector3D voxelPosition)</div><div class="ttdoc">Gets volume of intersection of shape and voxel </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00088">MyVoxelGenerator.cs:88</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_planet_1_1_my_planet_environment_component_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_planet_1_1_my_planet_environment_component.html">Sandbox.Game.Entities.Planet.MyPlanetEnvironmentComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_planet_environment_component_8cs_source.html#l00030">MyPlanetEnvironmentComponent.cs:30</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_a0cc308f11c2653511ef193ce14053e70"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a0cc308f11c2653511ef193ce14053e70">VRage.Game.Entity.MyEntity.Components</a></div><div class="ttdeci">MyEntityComponentContainer Components</div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00034">MyEntity.cs:34</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_a522d4e9e184c77244a8fa724cf65a84a"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a522d4e9e184c77244a8fa724cf65a84a">Sandbox.Engine.Voxels.MyShapeCapsule.A</a></div><div class="ttdeci">Vector3D A</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00294">MyVoxelGenerator.cs:294</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid_html"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html">Sandbox.Engine.Voxels.MyShapeEllipsoid</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00166">MyVoxelGenerator.cs:166</a></div></div>
<div class="ttc" id="_my_camera_8cs_html_afeb956ae9f85b0c1c7f8d5ce4a07b8e5"><div class="ttname"><a href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a></div><div class="ttdeci">VRageMath.Vector3D Vector3D</div><div class="ttdef"><b>Definition:</b> <a href="_my_camera_8cs_source.html#l00008">MyCamera.cs:8</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_html"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html">Sandbox.Engine.Voxels.MyShape</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00023">MyVoxelGenerator.cs:23</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_log_html_a280e0f68244c251cc79e8e6862340bf2"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_log.html#a280e0f68244c251cc79e8e6862340bf2">VRage.Utils.MyLog.WriteLine</a></div><div class="ttdeci">void WriteLine(string message, LoggingOptions option)</div><div class="ttdef"><b>Definition:</b> <a href="_my_log_8cs_source.html#l00347">MyLog.cs:347</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">Sandbox.Game.Entities.MyVoxelBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00029">MyVoxelBase.cs:29</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition_html_ad665bd7cdb7a2499fa6d35d21e54215b"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#ad665bd7cdb7a2499fa6d35d21e54215b">Sandbox.Definitions.MyVoxelMaterialDefinition.DamagedMaterialId</a></div><div class="ttdeci">byte DamagedMaterialId</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_material_definition_8cs_source.html#l00043">MyVoxelMaterialDefinition.cs:43</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_a39b6b59e7ab77209adf3451aa8a98f16"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a39b6b59e7ab77209adf3451aa8a98f16">Sandbox.Engine.Voxels.MyShapeRamp.RampNormal</a></div><div class="ttdeci">Vector3D RampNormal</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00245">MyVoxelGenerator.cs:245</a></div></div>
<div class="ttc" id="namespace_bounding_box_d_html"><div class="ttname"><a href="namespace_bounding_box_d.html">BoundingBoxD</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_ad51a005da7813e3ae4fc45997b482921"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ad51a005da7813e3ae4fc45997b482921">Sandbox.Game.Entities.MyVoxelBase.RequestVoxelOperationRamp</a></div><div class="ttdeci">void RequestVoxelOperationRamp(BoundingBoxD box, Vector3D rampNormal, double rampNormalW, MatrixD Transformation, byte material, OperationType Type)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00936">MyVoxelBase.cs:936</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_aee1fb85b5fe063dbe0add2a2c5041808"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#aee1fb85b5fe063dbe0add2a2c5041808">Sandbox.Game.Entities.MyVoxelBase.StorageMin</a></div><div class="ttdeci">Vector3I StorageMin</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00053">MyVoxelBase.cs:53</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_mod_a_p_i_html_a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f"><div class="ttname"><a href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">VRage.ModAPI.Sync</a></div><div class="ttdoc">Synchronize object during multiplayer </div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a1ff4ee48ac25d7a39018076bcd841f48"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a1ff4ee48ac25d7a39018076bcd841f48">Sandbox.Game.Entities.MyVoxelBase.RequestVoxelCutoutSphere</a></div><div class="ttdeci">void RequestVoxelCutoutSphere(Vector3D center, float radius, bool createDebris, bool damage)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00780">MyVoxelBase.cs:780</a></div></div>
<div class="ttc" id="namespace_math_html"><div class="ttname"><a href="namespace_math.html">Math</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html_a464330c9f133ddb7b37f481498049266"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a464330c9f133ddb7b37f481498049266">Sandbox.Engine.Voxels.MyShapeBox.GetWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD GetWorldBoundaries()</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00076">MyVoxelGenerator.cs:76</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_a8a06fffca4ca3d2044a64eed62d834c0"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a8a06fffca4ca3d2044a64eed62d834c0">VRage.Voxels.MyStorageData.ComputeLinear</a></div><div class="ttdeci">int ComputeLinear(ref Vector3I p)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00235">MyStorageData.cs:235</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_html_a4d44c319212bffba8239f9b1e96f9730"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3.html#a4d44c319212bffba8239f9b1e96f9730">VRageMath.Vector3.Length</a></div><div class="ttdeci">float Length()</div><div class="ttdoc">Calculates the length of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_8cs_source.html#l00472">Vector3.cs:472</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_ab517f209894c37202bf035d4de1176b8a02129bb861061d1a052c592e2dc6b383"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#ab517f209894c37202bf035d4de1176b8a02129bb861061d1a052c592e2dc6b383">VRage.Game.X</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">Sandbox.Game.World.MySession</a></div><div class="ttdoc">Base class for all session types (single, coop, mmo, sandbox) </div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8_components_8cs_source.html#l00025">MySession.Components.cs:25</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_af1d8e4f96bb4754a1b9918cf6c96fbd0"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#af1d8e4f96bb4754a1b9918cf6c96fbd0">Sandbox.Engine.Voxels.MyShapeSphere.GetVolume</a></div><div class="ttdeci">override float GetVolume(ref Vector3D voxelPosition)</div><div class="ttdoc">Gets volume of intersection of shape and voxel </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00137">MyVoxelGenerator.cs:137</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_a7bc031f0056ac9336b9fe84fb4d99794"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a7bc031f0056ac9336b9fe84fb4d99794">VRage.Voxels.MyStorageData.ClearMaterials</a></div><div class="ttdeci">void ClearMaterials(byte p)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00487">MyStorageData.cs:487</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_aa1f5dbcbde47c6e7c66193d4dbff7d97"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aa1f5dbcbde47c6e7c66193d4dbff7d97">Sandbox.Engine.Voxels.MyShapeSphere.SendPaintRequest</a></div><div class="ttdeci">override void SendPaintRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00155">MyVoxelGenerator.cs:155</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_mod_a_p_i_html"><div class="ttname"><a href="namespace_v_rage_1_1_mod_a_p_i.html">VRage.ModAPI</a></div><div class="ttdef"><b>Definition:</b> <a href="_input_2_mod_a_p_i_2_i_my_control_8cs_source.html#l00008">IMyControl.cs:8</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_a_i_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_a_i.html">Sandbox.Game.AI</a></div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_game_2_game_2_a_i_2_action_collection_8cs_source.html#l00011">ActionCollection.cs:11</a></div></div>
<div class="ttc" id="namespace_matrix_d_html"><div class="ttname"><a href="namespace_matrix_d.html">MatrixD</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_profiler_html"><div class="ttname"><a href="namespace_v_rage_1_1_profiler.html">VRage.Profiler</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_draw_area_8cs_source.html#l00003">MyDrawArea.cs:3</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_ab2df0fe47bb914c09740acb06ce598dd"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ab2df0fe47bb914c09740acb06ce598dd">Sandbox.Engine.Voxels.MyShapeRamp.GetWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD GetWorldBoundaries()</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00248">MyVoxelGenerator.cs:248</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_d_html_a197bbe7e916dc9b7bfac61f29e3ffd9c"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_d.html#a197bbe7e916dc9b7bfac61f29e3ffd9c">VRageMath.Vector3D.Min</a></div><div class="ttdeci">double Min()</div><div class="ttdoc">Returns the component of the vector that is smallest of all the three components. ...</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_d_8cs_source.html#l00942">Vector3D.cs:942</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_1_1_planet_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities_1_1_planet.html">Sandbox.Game.Entities.Planet</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_planet_cubemap_helper_8cs_source.html#l00006">MyPlanetCubemapHelper.cs:6</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_game_systems_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_game_systems.html">Sandbox.Game.GameSystems</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_thrust_component_8cs_source.html#l00020">MyEntityThrustComponent.cs:20</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_ad324c3ff85ae9293cdef792963205093"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#ad324c3ff85ae9293cdef792963205093">VRage.Game.Entity.MyEntity.Parent</a></div><div class="ttdeci">MyEntity Parent</div><div class="ttdoc">Gets or sets the parent. </div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00318">MyEntity.cs:318</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_a7afd3d74f71eb66e2d716e859d5be093"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#a7afd3d74f71eb66e2d716e859d5be093">Sandbox.Engine.Voxels.MyShapeSphere.SendDrillCutOutRequest</a></div><div class="ttdeci">override void SendDrillCutOutRequest(MyVoxelBase voxel, bool damage=false)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00146">MyVoxelGenerator.cs:146</a></div></div>
<div class="ttc" id="namespace_bounding_sphere_d_html"><div class="ttname"><a href="namespace_bounding_sphere_d.html">BoundingSphereD</a></div></div>
<div class="ttc" id="namespace_v_rage_math_html"><div class="ttname"><a href="namespace_v_rage_math.html">VRageMath</a></div><div class="ttdef"><b>Definition:</b> <a href="_base27_directions_8cs_source.html#l00007">Base27Directions.cs:7</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_log_html_ad6211c26fe6b341fedd7d8fe05eb14fd"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_log.html#ad6211c26fe6b341fedd7d8fe05eb14fd">VRage.Utils.MyLog.Default</a></div><div class="ttdeci">static MyLog Default</div><div class="ttdef"><b>Definition:</b> <a href="_my_log_8cs_source.html#l00121">MyLog.cs:121</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities.html">Sandbox.Game.Entities</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity3_d_sound_emitter_8cs_source.html#l00018">MyEntity3DSoundEmitter.cs:18</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_multiplayer_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_multiplayer.html">Sandbox.Game.Multiplayer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_sync_destructions_8cs_source.html#l00033">MySyncDestructions.cs:33</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html_ae6a30ebabd06a6ebe91cd1e5a91905ed"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#ae6a30ebabd06a6ebe91cd1e5a91905ed">Sandbox.Engine.Voxels.MyShapeBox.SendCutOutRequest</a></div><div class="ttdeci">override void SendCutOutRequest(MyVoxelBase voxel)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00109">MyVoxelGenerator.cs:109</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a23e507f10d67c8f3b5384ee13dd7050e"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a23e507f10d67c8f3b5384ee13dd7050e">VRageMath.BoundingBoxD.Center</a></div><div class="ttdeci">Vector3D Center</div><div class="ttdoc">Calculates center </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00437">BoundingBoxD.cs:437</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_definition_manager_html_aa76b8697823951ea5c5ec16092b902ab"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#aa76b8697823951ea5c5ec16092b902ab">Sandbox.Definitions.MyDefinitionManager.Static</a></div><div class="ttdeci">static new MyDefinitionManager Static</div><div class="ttdef"><b>Definition:</b> <a href="_my_definition_manager_8cs_source.html#l00069">MyDefinitionManager.cs:69</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_a4081e953267edd6792fff74f36a71093"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#a4081e953267edd6792fff74f36a71093">VRageMath.Vector3I.Z</a></div><div class="ttdeci">int Z</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00116">Vector3I.cs:116</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage_html_abe69c40de65e9701c311e3be324849f4"><div class="ttname"><a href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#abe69c40de65e9701c311e3be324849f4">VRage.ModAPI.IMyStorage.Size</a></div><div class="ttdeci">Vector3I Size</div><div class="ttdoc">The size of the voxel storage, in voxels </div><div class="ttdef"><b>Definition:</b> <a href="_v_rage_8_game_2_mod_a_p_i_2_i_my_storage_8cs_source.html#l00027">IMyStorage.cs:27</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_a_i_1_1_my_a_i_component.html">Sandbox.Game.AI.MyAIComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_game_2_game_2_a_i_2_my_a_i_component_8cs_source.html#l00044">MyAIComponent.cs:44</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_a9aab1442a05c5a3c2a237c6a5586f94b"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#a9aab1442a05c5a3c2a237c6a5586f94b">Sandbox.Engine.Voxels.MyShapeRamp.RampNormalW</a></div><div class="ttdeci">double RampNormalW</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00246">MyVoxelGenerator.cs:246</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_html"><div class="ttname"><a href="namespace_system_1_1_collections.html">System.Collections</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html">Sandbox.Engine.Voxels.MyShapeCapsule</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00292">MyVoxelGenerator.cs:292</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_a6980695559311318c4a23d3a1bccbca0"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">VRage.Voxels.MyStorageData.Resize</a></div><div class="ttdeci">void Resize(Vector3I start, Vector3I end)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00130">MyStorageData.cs:130</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_a3205993b0feac34f8acddbb21c3c5969"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a3205993b0feac34f8acddbb21c3c5969">Sandbox.Engine.Voxels.MyShapeCapsule.SendCutOutRequest</a></div><div class="ttdeci">override void SendCutOutRequest(MyVoxelBase voxel)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00334">MyVoxelGenerator.cs:334</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html_ac356a24db6dfe5d8b1469d8fce18a9e1"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#ac356a24db6dfe5d8b1469d8fce18a9e1">Sandbox.Engine.Voxels.MyShapeBox.PeekWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD PeekWorldBoundaries(ref Vector3D targetPosition)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00081">MyVoxelGenerator.cs:81</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_voxels_html_a6b2e3effeaf63cb322ecb46b3d19c7b7"><div class="ttname"><a href="namespace_v_rage_1_1_voxels.html#a6b2e3effeaf63cb322ecb46b3d19c7b7">VRage.Voxels.MyVoxelRequestFlags</a></div><div class="ttdeci">MyVoxelRequestFlags</div><div class="ttdoc">Flags used when requesting voxel materials and content. </div><div class="ttdef"><b>Definition:</b> <a href="_enums_8cs_source.html#l00043">Enums.cs:43</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html">VRageMath.Vector3I</a></div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00076">Vector3I.cs:76</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp_html_ac511ed6a5b674ac34b76ea0cc7aec618"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ramp.html#ac511ed6a5b674ac34b76ea0cc7aec618">Sandbox.Engine.Voxels.MyShapeRamp.GetVolume</a></div><div class="ttdeci">override float GetVolume(ref Vector3D voxelPosition)</div><div class="ttdoc">Gets volume of intersection of shape and voxel </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00260">MyVoxelGenerator.cs:260</a></div></div>
<div class="ttc" id="_my_camera_8cs_html_ae65023afd5ab6af4293a2e4ea3aca407"><div class="ttname"><a href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a></div><div class="ttdeci">VRageMath.BoundingBoxD BoundingBoxD</div><div class="ttdef"><b>Definition:</b> <a href="_my_camera_8cs_source.html#l00010">MyCamera.cs:10</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_a7e303ac74d3d28ba6693e9810f469c10"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a7e303ac74d3d28ba6693e9810f469c10">VRage.Voxels.MyStorageData.WrinkleVoxelContent</a></div><div class="ttdeci">bool WrinkleVoxelContent(ref Vector3I p, float wrinkleWeightAdd, float wrinkleWeightRemove)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00240">MyStorageData.cs:240</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box_html_a434b9ec93de3b8976c386a6c0e2d5f9c"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_box.html#a434b9ec93de3b8976c386a6c0e2d5f9c">Sandbox.Engine.Voxels.MyShapeBox.SendPaintRequest</a></div><div class="ttdeci">override void SendPaintRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00104">MyVoxelGenerator.cs:104</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_planet_1_1_my_planet_environment_component_html_addc032dc1562ababfafbdcaf044cd212"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_planet_1_1_my_planet_environment_component.html#addc032dc1562ababfafbdcaf044cd212">Sandbox.Game.Entities.Planet.MyPlanetEnvironmentComponent.GetSectorsInRange</a></div><div class="ttdeci">IEnumerable&lt; MyEnvironmentSector &gt; GetSectorsInRange(MyShape shape)</div><div class="ttdef"><b>Definition:</b> <a href="_my_planet_environment_component_8cs_source.html#l00804">MyPlanetEnvironmentComponent.cs:804</a></div></div>
<div class="ttc" id="namespace_sandbox_html"><div class="ttname"><a href="namespace_sandbox.html">Sandbox</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_html_a5fae30823ad4ad5db3e9950136838593"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#a5fae30823ad4ad5db3e9950136838593">Sandbox.Engine.Voxels.MyShape.SendDrillCutOutRequest</a></div><div class="ttdeci">virtual void SendDrillCutOutRequest(MyVoxelBase voxel, bool damage=false)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00068">MyVoxelGenerator.cs:68</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_matrix_d_html_a2cf7c06f225534ac8c1d9d7272833655"><div class="ttname"><a href="struct_v_rage_math_1_1_matrix_d.html#a2cf7c06f225534ac8c1d9d7272833655">VRageMath.MatrixD.Translation</a></div><div class="ttdeci">Vector3D Translation</div><div class="ttdoc">Gets and sets the translation vector of the Matrix. </div><div class="ttdef"><b>Definition:</b> <a href="_matrix_d_8cs_source.html#l00461">MatrixD.cs:461</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_mod_a_p_i_html"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_mod_a_p_i.html">VRage.Game.ModAPI</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_character_8cs_source.html#l00003">IMyCharacter.cs:3</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_abddc3d27a95e35f0996d9f3e364a320e"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#abddc3d27a95e35f0996d9f3e364a320e">Sandbox.Engine.Voxels.MyShapeSphere.SendFillRequest</a></div><div class="ttdeci">override void SendFillRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00160">MyVoxelGenerator.cs:160</a></div></div>
<div class="ttc" id="namespace_v_rage_html"><div class="ttname"><a href="namespace_v_rage.html">VRage</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_game_1_1_mod_a_p_i_1_1_i_my_voxel_shape_html"><div class="ttname"><a href="interface_v_rage_1_1_game_1_1_mod_a_p_i_1_1_i_my_voxel_shape.html">VRage.Game.ModAPI.IMyVoxelShape</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_voxel_shape_8cs_source.html#l00005">IMyVoxelShape.cs:5</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_d_html_a4c019805f3fff6a665d1b0cc98497c40"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_d.html#a4c019805f3fff6a665d1b0cc98497c40">VRageMath.Vector3D.Max</a></div><div class="ttdeci">double Max()</div><div class="ttdoc">Returns the component of the vector that is largest of all the three components. </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_d_8cs_source.html#l00976">Vector3D.cs:976</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a2d45b90491c2a87e0b218f8505c79ec6"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a2d45b90491c2a87e0b218f8505c79ec6">VRageMath.BoundingBoxD.HalfExtents</a></div><div class="ttdeci">Vector3D HalfExtents</div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00442">BoundingBoxD.cs:442</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_definition_manager_html"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html">Sandbox.Definitions.MyDefinitionManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_definition_manager-_definition_set_8cs_source.html#l00020">MyDefinitionManager-DefinitionSet.cs:20</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_aaa51a7421106879f1dd84c796ebe22f9"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#aaa51a7421106879f1dd84c796ebe22f9">Sandbox.Engine.Voxels.MyShapeSphere.Radius</a></div><div class="ttdeci">float Radius</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00123">MyVoxelGenerator.cs:123</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_a1efb06a440e95749ceb33cc9065ca3c5"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a1efb06a440e95749ceb33cc9065ca3c5">Sandbox.Engine.Voxels.MyShapeCapsule.Radius</a></div><div class="ttdeci">float Radius</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00296">MyVoxelGenerator.cs:296</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#a1629353af3423be97f77151774e66ddaad1106ccca74e98877ed6d7890c70bb2c">VRage.Game.Radius</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_voxels_html"><div class="ttname"><a href="namespace_v_rage_1_1_voxels.html">VRage.Voxels</a></div><div class="ttdef"><b>Definition:</b> <a href="_enums_8cs_source.html#l00003">Enums.cs:3</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_html_ac47a5bb2a44daf806570a8790636878c"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape.html#ac47a5bb2a44daf806570a8790636878c">Sandbox.Engine.Voxels.MyShape.SignedDistanceToDensity</a></div><div class="ttdeci">float SignedDistanceToDensity(float signedDistance)</div><div class="ttdoc">Recomputed density value from signed distance</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00059">MyVoxelGenerator.cs:59</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid_html_a3eeada10dba536e0ee7f5b73532746d0"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_cube_grid.html#a3eeada10dba536e0ee7f5b73532746d0">Sandbox.Game.Entities.MyCubeGrid.Physics</a></div><div class="ttdeci">new MyGridPhysics Physics</div><div class="ttdef"><b>Definition:</b> <a href="_my_cube_grid_8cs_source.html#l00374">MyCubeGrid.cs:374</a></div></div>
<div class="ttc" id="namespace_vector3_html"><div class="ttname"><a href="namespace_vector3.html">Vector3</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_a5266559000f059876ea939f27356c885"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#a5266559000f059876ea939f27356c885">Sandbox.Engine.Voxels.MyShapeCapsule.PeekWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD PeekWorldBoundaries(ref Vector3D targetPosition)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00304">MyVoxelGenerator.cs:304</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_components_1_1_my_position_component_base_html_a7c44759dc02fb190385e47c06d20068e"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_components_1_1_my_position_component_base.html#a7c44759dc02fb190385e47c06d20068e">VRage.Game.Components.MyPositionComponentBase.WorldMatrixInvScaled</a></div><div class="ttdeci">MatrixD WorldMatrixInvScaled</div><div class="ttdef"><b>Definition:</b> <a href="_my_position_component_base_8cs_source.html#l00356">MyPositionComponentBase.cs:356</a></div></div>
<div class="ttc" id="namespace_matrix_html"><div class="ttname"><a href="namespace_matrix.html">Matrix</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a2d1f66c2a4a842550650c04c20a275dd"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a2d1f66c2a4a842550650c04c20a275dd">VRageMath.BoundingBoxD.Inflate</a></div><div class="ttdeci">BoundingBoxD Inflate(double size)</div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l01193">BoundingBoxD.cs:1193</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i___range_iterator_html_a8568384ab021fedadca04babfb3c0eb6"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i___range_iterator.html#a8568384ab021fedadca04babfb3c0eb6">VRageMath.Vector3I_RangeIterator.IsValid</a></div><div class="ttdeci">bool IsValid()</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00043">Vector3I.cs:43</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_world_environment_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_world_environment.html">Sandbox.Game.WorldEnvironment</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_definition_manager_html_a687ecc35d97dbeb307033699b9d525ce"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#a687ecc35d97dbeb307033699b9d525ce">Sandbox.Definitions.MyDefinitionManager.GetVoxelMaterialDefinition</a></div><div class="ttdeci">MyVoxelMaterialDefinition GetVoxelMaterialDefinition(byte materialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_definition_manager_8cs_source.html#l04056">MyDefinitionManager.cs:4056</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_entity_html"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_entity.html">VRage.Game.Entity</a></div><div class="ttdef"><b>Definition:</b> <a href="_debug_created_by_8cs_source.html#l00001">DebugCreatedBy.cs:1</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_1_1_utils_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine_1_1_utils.html">Sandbox.Engine.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_battle_helper_8cs_source.html#l00014">MyBattleHelper.cs:14</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_ad9f2bb2ea2d492180bc78ad28616eea5"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">VRage.Voxels.MyStorageData.Material</a></div><div class="ttdeci">void Material(ref Vector3I p, byte materialIdx)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00211">MyStorageData.cs:211</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid_html_a99e7c02f77c14a84133d72eeb49d3de0"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_ellipsoid.html#a99e7c02f77c14a84133d72eeb49d3de0">Sandbox.Engine.Voxels.MyShapeEllipsoid.GetWorldBoundaries</a></div><div class="ttdeci">override BoundingBoxD GetWorldBoundaries()</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00193">MyVoxelGenerator.cs:193</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_aeb9f380ab72a4e9cafdd538914afdea3"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#aeb9f380ab72a4e9cafdd538914afdea3">Sandbox.Engine.Voxels.MyShapeCapsule.SendFillRequest</a></div><div class="ttdeci">override void SendFillRequest(MyVoxelBase voxel, byte newMaterialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00339">MyVoxelGenerator.cs:339</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere_html_a105de207f359ccc63de88ff69fb0bf4d"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_sphere.html#a105de207f359ccc63de88ff69fb0bf4d">Sandbox.Engine.Voxels.MyShapeSphere.Center</a></div><div class="ttdeci">Vector3D Center</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00122">MyVoxelGenerator.cs:122</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i___range_iterator_html"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">VRageMath.Vector3I_RangeIterator</a></div><div class="ttdoc">A class for simpler traversal of ranges of integer vectors </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00019">Vector3I.cs:19</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule_html_aca85f2d09f8147e865ff65f5d53bb609"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_voxels_1_1_my_shape_capsule.html#aca85f2d09f8147e865ff65f5d53bb609">Sandbox.Engine.Voxels.MyShapeCapsule.B</a></div><div class="ttdeci">Vector3D B</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_generator_8cs_source.html#l00295">MyVoxelGenerator.cs:295</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_adcd43a4c569db7315ada3de8dccd61ec"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#adcd43a4c569db7315ada3de8dccd61ec">Sandbox.Game.Entities.MyVoxelBase.RequestVoxelOperationElipsoid</a></div><div class="ttdeci">void RequestVoxelOperationElipsoid(Vector3 radius, MatrixD Transformation, byte material, OperationType Type)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00992">MyVoxelBase.cs:992</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 23 2017 01:16:21 for Space Engineers by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
