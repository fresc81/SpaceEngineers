<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Space Engineers: Sources/Sandbox.Game/Game/SessionComponents/MyFloraAreas.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Space Engineers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_937900b87e0c7a5fa01190c395fb83f7.html">Sources</a></li><li class="navelem"><a class="el" href="dir_adcb7f0194fb5944415bcd7197787778.html">Sandbox.Game</a></li><li class="navelem"><a class="el" href="dir_04f95e6316a1b10de98d9c990257507d.html">Game</a></li><li class="navelem"><a class="el" href="dir_6ef58c09d2eb4a895f9f64a1a62d0dec.html">SessionComponents</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MyFloraAreas.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_my_flora_areas_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_definitions.html">Definitions</a>;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_engine.html">Engine</a>.<a class="code" href="namespace_sandbox_1_1_engine_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities_1_1_environment_items.html">EnvironmentItems</a>;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_multiplayer.html">Multiplayer</a>;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_world.html">World</a>;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.<a class="code" href="namespace_system_1_1_collections.html">Collections</a>.<a class="code" href="namespace_system_1_1_collections_1_1_generic.html">Generic</a>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.<a class="code" href="namespace_system_1_1_linq.html">Linq</a>;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_collections.html">Collections</a>;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_components.html">Components</a>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_entity.html">Entity</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_models.html">Models</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_library.html">Library</a>.<a class="code" href="namespace_v_rage_1_1_library_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_profiler.html">Profiler</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_utils.html">Utils</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_voxels.html">Voxels</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_v_rage_math.html">VRageMath</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="_my_flora_areas_8cs.html#ab8331d30c46ebce4624280781c2268f2">   20</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_item_info.html">ItemInfo</a> = <a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_sandbox_1_1_game.html">Game</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html">Entities</a>.<a class="code" href="namespace_sandbox_1_1_game_1_1_entities_1_1_environment_items.html">EnvironmentItems</a>.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a>.<a class="code" href="struct_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_1_1_item_info.html">ItemInfo</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_sandbox.html">Sandbox</a>.<a class="code" href="namespace_v_rage_1_1_game.html#ae840d3864e36153d6f5013c7a0403dcf">Game</a>.SessionComponents</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    [<a class="code" href="class_v_rage_1_1_game_1_1_components_1_1_my_session_component_descriptor.html">MySessionComponentDescriptor</a>(<a class="code" href="namespace_v_rage_1_1_game_1_1_components.html#a4deab95c525a10b983bba0cd861ab992">MyUpdateOrder</a>.BeforeSimulation)]</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html">   25</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html">MyFloraAreas</a> : <a class="code" href="class_v_rage_1_1_game_1_1_components_1_1_my_session_component_base.html">MySessionComponentBase</a></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    {</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html">   27</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">struct </span><a class="code" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html">AreaData</a></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        {</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a3a2f6cf2c04e6e1635cf18132a6d8ad3">   29</a></span>&#160;            <span class="keyword">public</span> readonly <span class="keywordtype">int</span> <a class="code" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a3a2f6cf2c04e6e1635cf18132a6d8ad3">Id</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a8bc2b3e429895ecb97bdbe987af45dd2">   30</a></span>&#160;            <span class="keyword">public</span> readonly <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> <a class="code" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a8bc2b3e429895ecb97bdbe987af45dd2">ForestBox</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a50d3008432e6f93dcb935afe614422e5">   31</a></span>&#160;            <span class="keyword">public</span> readonly <a class="code" href="struct_v_rage_1_1_collections_1_1_dictionary_reader.html">DictionaryReader&lt;long, HashSetReader&lt;int&gt;</a>&gt; <a class="code" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a50d3008432e6f93dcb935afe614422e5">ItemIds</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#abfe9d7960e230777eb545a0a617bb258">   33</a></span>&#160;            <span class="keyword">public</span> <a class="code" href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#abfe9d7960e230777eb545a0a617bb258">AreaData</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> box, Dictionary&lt;<span class="keywordtype">long</span>, HashSet&lt;int&gt;&gt; items)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                Id = id;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                ForestBox = box;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                ItemIds = <a class="code" href="struct_v_rage_1_1_collections_1_1_dictionary_reader.html">DictionaryReader&lt;long, HashSetReader&lt;int&gt;</a>&gt;.<a class="code" href="struct_v_rage_1_1_collections_1_1_dictionary_reader.html#a4548a0964e7cc0cd6b0c0d5fd00ab985">Empty</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                var dictionary = <span class="keyword">new</span> Dictionary&lt;long, HashSetReader&lt;int&gt;&gt;();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                <span class="keywordflow">foreach</span> (var pair <span class="keywordflow">in</span> items)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                    dictionary[pair.Key] = <span class="keyword">new</span> <a class="code" href="struct_v_rage_1_1_collections_1_1_hash_set_reader.html">HashSetReader&lt;int&gt;</a>(pair.Value);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                ItemIds = <span class="keyword">new</span> <a class="code" href="struct_v_rage_1_1_collections_1_1_dictionary_reader.html">DictionaryReader&lt;long, HashSetReader&lt;int&gt;</a>&gt;(dictionary);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keyword">private</span> <span class="keyword">class </span>Area</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">int</span> ProxyId { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keyword">public</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> ForestBox;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keyword">public</span> Dictionary&lt;long, HashSet&lt;int&gt;&gt; ItemIds;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">bool</span> IsFull { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keyword">public</span> Area()</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                ProxyId = -1;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                ForestBox = <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a>.CreateInvalid();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                ItemIds = <span class="keyword">new</span> Dictionary&lt;long, HashSet&lt;int&gt;&gt;();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                IsFull = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">bool</span> IsValid</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                <span class="keyword">get</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    <span class="keywordflow">if</span> (ItemIds == null)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    <span class="keywordflow">foreach</span> (var pair <span class="keywordflow">in</span> ItemIds)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        <span class="keywordflow">if</span> (pair.Value.Count &gt; 0)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">void</span> AddItem(<span class="keywordtype">long</span> entityId, <span class="keywordtype">int</span> localId)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <span class="keywordflow">if</span> (!ItemIds.ContainsKey(entityId))</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    ItemIds[entityId] = <span class="keyword">new</span> HashSet&lt;int&gt;();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                ItemIds[entityId].Add(localId);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                IsFull = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                var handler = MyFloraAreas.ItemAddedToArea;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="keywordflow">if</span> (handler != null)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    handler(ProxyId);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">void</span> RemoveItem(<span class="keywordtype">long</span> entityId, <span class="keywordtype">int</span> localId)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                ItemIds[entityId].Remove(localId);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                IsFull = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">void</span> Merge(<a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> mergedBox, Area area)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                ForestBox = mergedBox;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">foreach</span> (var entityId <span class="keywordflow">in</span> area.ItemIds.Keys)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    <span class="keywordflow">if</span> (!ItemIds.ContainsKey(entityId))</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                        ItemIds.Add(entityId, area.ItemIds[entityId]);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                        ItemIds[entityId].UnionWith(area.ItemIds[entityId]);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                IsFull = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                area.ForestBox = <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a>.CreateInvalid();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                area.ItemIds = null;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                var handler = MyFloraAreas.ItemAddedToArea;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="keywordflow">if</span> (handler != null)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    handler(ProxyId);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">void</span> Clean()</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                ProxyId = -1;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                ForestBox = <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a>.CreateInvalid();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                ItemIds = null;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                IsFull = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keyword">public</span> AreaData GetAreaData()</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> AreaData(ProxyId, ForestBox, ItemIds);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> MyFloraAreas <a class="code" href="namespace_sandbox_1_1_game_1_1_entities.html#a72e0d49711b04db65b4a0bd4a949116ea84a8921b25f505d0d2077aeb5db4bc16">Static</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> readonly <span class="keywordtype">double</span> DEBUG_BOX_Y_MAX_POS = 500.25;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> readonly <span class="keywordtype">double</span> DEBUG_BOX_Y_MIN_POS = 500;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> readonly <a class="code" href="namespace_vector3_d.html">Vector3D</a> DEFAULT_INFLATE_VALUE = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(20, 0, 20);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> BOX_INCLUDE_DIST;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> BOX_INCLUDE_DIST_SQ;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keyword">private</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> DEFAULT_BOX;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> m_loadPhase;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> m_findValidForestPhase;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">int</span> m_updateCounter;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a> m_ground;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html">MyStorageData</a> m_voxelCache;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keyword">private</span> HashSet&lt;MyStringHash&gt; m_allowedMaterials;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> m_worldArea;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> m_currentForestArea;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> m_forestsPercent;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keyword">private</span> Dictionary&lt;long, MyEnvironmentItems&gt; m_envItems;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keyword">private</span> List&lt;Area&gt; m_forestAreas;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keyword">private</span> List&lt;BoundingBoxD&gt; m_highLevelBoxes;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keyword">private</span> Queue&lt;Vector3D&gt; m_initialForestLocations;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">int</span> m_hlCurrentBox;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">int</span> m_hlSelectionCounter;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> m_hlSize;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keyword">private</span> HashSet&lt;Vector3I&gt; m_checkedSectors;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keyword">private</span> Queue&lt;long&gt; m_checkQueue;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html">MyDynamicAABBTreeD</a> m_aabbTree;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keyword">private</span> <span class="keyword">const</span> <span class="keywordtype">int</span> INVALIDATE_TIME = 3; <span class="comment">// minutes</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keyword">private</span> <a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">MyTimeSpan</a> m_invalidateAreaTimer;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> m_immediateInvalidate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keyword">private</span> List&lt;ItemInfo&gt; m_tmpItemInfos;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keyword">private</span> List&lt;Area&gt; m_tmpAreas, m_tmpAreas2;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keyword">private</span> List&lt;Vector3I&gt; m_tmpSectors;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keyword">private</span> List&lt;Vector3D&gt; d_foundEnrichingPoints = <span class="keyword">new</span> List&lt;Vector3D&gt;();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keyword">private</span> List&lt;Vector3D&gt; d_foundEnlargingPoints = <span class="keyword">new</span> List&lt;Vector3D&gt;();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aef789b18aad2c1b62b16eb4a27b5214e">  172</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">event</span> Action <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aef789b18aad2c1b62b16eb4a27b5214e">LoadFinished</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a1c1e4c1e1ca5262085d688f41983cb2d">  173</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">event</span> Action&lt;int&gt; <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a1c1e4c1e1ca5262085d688f41983cb2d">ItemAddedToArea</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a0c0708a56d0b85c1883c0634a3d3f396">  174</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">event</span> Action&lt;int&gt; <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a0c0708a56d0b85c1883c0634a3d3f396">SelectedArea</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aea909152877a7b393d26c545bc4074cb">  175</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">event</span> Action&lt;int&gt; <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aea909152877a7b393d26c545bc4074cb">RemovedArea</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">double</span> ForestsPercent</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a413df6580948d09a7e2572520953ea44">  178</a></span>&#160;        {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keyword">get</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">return</span> Static.m_forestsPercent;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">double</span> WorldArea</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ae6ae0e7f8c7c6d47f5579256c414ff18">  185</a></span>&#160;        {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="keyword">get</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="keywordflow">return</span> Static.m_worldArea;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">double</span> FullAreasRatio</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ac2950f2cf0d8437306826d093302d7b2">  193</a></span>&#160;        {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keyword">get</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">foreach</span> (var area <span class="keywordflow">in</span> Static.m_forestAreas)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    <span class="keywordflow">if</span> (area.IsFull)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        counter++;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keywordflow">return</span> counter / (double)Static.m_forestAreas.Count;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a072584bdd1cc03de225dbb1a01fd164b">  206</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a072584bdd1cc03de225dbb1a01fd164b">MyFloraAreas</a>()</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            BOX_INCLUDE_DIST = 5;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            BOX_INCLUDE_DIST_SQ = BOX_INCLUDE_DIST * BOX_INCLUDE_DIST;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            var boxBounds = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(0.25, 0.25, 0.25);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            DEFAULT_BOX = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(-boxBounds, boxBounds);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">bool</span> IsRequiredByGame</div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a3e42daca4a9596efcb2e55078ea50dcb">  215</a></span>&#160;        {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keyword">get</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="keywordflow">return</span> MyPerGameSettings.Game == <a class="code" href="namespace_sandbox_1_1_game.html#a8598834eb54ba135f5e58e1c682ff669">GameEnum</a>.ME_GAME &amp;&amp; <a class="code" href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">Sync</a>.IsServer;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a0bca613de1b58d61cb3de871c48169eb">  222</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a0bca613de1b58d61cb3de871c48169eb">LoadData</a>()</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            base.LoadData();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            m_updateCounter = 0;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            m_envItems = <span class="keyword">new</span> Dictionary&lt;long, MyEnvironmentItems&gt;(10);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            m_forestAreas = <span class="keyword">new</span> List&lt;Area&gt;(100);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            m_highLevelBoxes = <span class="keyword">new</span> List&lt;BoundingBoxD&gt;();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            m_tmpItemInfos = <span class="keyword">new</span> List&lt;ItemInfo&gt;(500);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            m_tmpAreas = <span class="keyword">new</span> List&lt;Area&gt;();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            m_tmpAreas2 = <span class="keyword">new</span> List&lt;Area&gt;();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            m_checkedSectors = <span class="keyword">new</span> HashSet&lt;Vector3I&gt;();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            m_checkQueue = <span class="keyword">new</span> Queue&lt;long&gt;();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            m_initialForestLocations = <span class="keyword">new</span> Queue&lt;Vector3D&gt;();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            m_tmpSectors = <span class="keyword">new</span> List&lt;Vector3I&gt;();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            m_aabbTree = <span class="keyword">new</span> <a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html">MyDynamicAABBTreeD</a>(<a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="comment">// MW:TODO growing items on allowed materials</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            m_allowedMaterials = <span class="keyword">new</span> HashSet&lt;MyStringHash&gt;();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            m_loadPhase = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            m_findValidForestPhase = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            MyEntities.OnEntityAdd += MyEntities_OnEntityAdd;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            MyEntities.OnEntityRemove += MyEntities_OnEntityRemove;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            Static = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a87a4c2eddeb54ef2605629b5d5b419f8">  252</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a87a4c2eddeb54ef2605629b5d5b419f8">BeforeStart</a>()</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            base.BeforeStart();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a276c7c59db7681887ab588b819f83541">  257</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a276c7c59db7681887ab588b819f83541">UnloadData</a>()</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            base.UnloadData();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            Static = null;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            m_aabbTree.<a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a79328e038db20d323b4cff485e9085de">Clear</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> m_envItems)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                item.Value.ItemAdded -= item_ItemAdded;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                item.Value.ItemRemoved -= item_ItemRemoved;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            MyEntities.OnEntityAdd -= MyEntities_OnEntityAdd;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            MyEntities.OnEntityRemove -= MyEntities_OnEntityRemove;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordtype">void</span> MyEntities_OnEntityAdd(<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html">MyEntity</a> obj)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">if</span> (obj is <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a>)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                AddEnvironmentItem(obj as MyEnvironmentItems);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordtype">void</span> MyEntities_OnEntityRemove(<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html">MyEntity</a> obj)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (obj is <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                RemoveEnvironmentItem(obj as MyEnvironmentItems);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ad837ec57d099329e8becafffd5496ba0">  289</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ad837ec57d099329e8becafffd5496ba0">AddEnvironmentItem</a>(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a> item)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a6eacfd5470b7176dc37ab4ec7ba5fe1a">OnMarkForClose</a> += item_OnMarkForClose;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            m_envItems.Add(item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>, item);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            m_checkQueue.Enqueue(item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            item.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a2727c9094c2ed8758ba979837c57c82f">ItemRemoved</a> += item_ItemRemoved;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            item.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a9913c7953a00a32af49a2725682a0d31">ItemAdded</a> += item_ItemAdded;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            m_loadPhase = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordtype">void</span> item_OnMarkForClose(<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html">MyEntity</a> obj)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            var envItems = obj as <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            RemoveEnvironmentItem(envItems);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> RemoveEnvironmentItem(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a> item)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span> (!m_envItems.ContainsKey(item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>))</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            m_envItems.Remove(item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a6eacfd5470b7176dc37ab4ec7ba5fe1a">OnMarkForClose</a> -= item_OnMarkForClose;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            item.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a9913c7953a00a32af49a2725682a0d31">ItemAdded</a> -= item_ItemAdded;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            item.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a2727c9094c2ed8758ba979837c57c82f">ItemRemoved</a> -= item_ItemRemoved;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordflow">foreach</span> (var area <span class="keywordflow">in</span> m_forestAreas)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">if</span> (area.IsValid)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    area.ItemIds.Remove(item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            m_immediateInvalidate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#accdb2d9cd9646de1237abcc380d841d5">  324</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#accdb2d9cd9646de1237abcc380d841d5">UpdateBeforeSimulation</a>()</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span> (m_immediateInvalidate)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                UpdateAreas();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> updateFreq = 10;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">if</span> ((++m_updateCounter) % updateFreq == 0)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">if</span> (m_loadPhase)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    ProfilerShort.Begin(<span class="stringliteral">&quot;Update load&quot;</span>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    <span class="keywordflow">if</span> (!m_findValidForestPhase)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        UpdateLoad();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                        UpdateFindCandidates();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    ProfilerShort.End();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_ground != null)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    ProfilerShort.Begin(<span class="stringliteral">&quot;Update areas&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    UpdateAreas();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    ProfilerShort.End();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            DebugDraw();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> UpdateLoad()</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            ConstructAreas();</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">if</span> (m_checkQueue.Count == 0)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordtype">bool</span> finishedLoading = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                m_ground = <a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">MySession</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Static</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#ade867ae536343a9314db39b58fbb65ed">VoxelMaps</a>.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_maps.html#aae08bc4ef5b784d380cf2cabd951bd2b">TryGetVoxelMapByNameStart</a>(<span class="stringliteral">&quot;Ground&quot;</span>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordflow">if</span> (m_ground != null)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    m_worldArea = m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ae5731d0c03a5a3828bd37a96fa70705b">SizeInMetres</a>.X * m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ae5731d0c03a5a3828bd37a96fa70705b">SizeInMetres</a>.Z;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    m_voxelCache = <span class="keyword">new</span> <a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html">MyStorageData</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    m_voxelCache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">Resize</a>(<a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">One</a> * 3);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    InvalidateAreaValues();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    <span class="keywordflow">if</span> (m_highLevelBoxes.Count == 0)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        <span class="comment">// MW: we need to find some candidates for forest starting points</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        finishedLoading = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        m_findValidForestPhase = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keywordflow">if</span> (finishedLoading)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                    m_loadPhase = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    <span class="keywordflow">if</span> (LoadFinished != null)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        LoadFinished();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> UpdateFindCandidates()</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            FindForestInitialCandidate();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">if</span> (m_initialForestLocations.Count == 5)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                m_loadPhase = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                m_findValidForestPhase = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">if</span> (LoadFinished != null)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    LoadFinished();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> FindForestInitialCandidate()</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> groundBox = m_ground.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#ac182112024a8a65cd601c23c7f49e434">PositionComp</a>.<a class="code" href="class_v_rage_1_1_game_1_1_components_1_1_my_position_component_base.html#aabab933a8121949c2643215e51550fc7">WorldAABB</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <a class="code" href="namespace_vector3_d.html">Vector3D</a> boxSize = groundBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a9a659a9d71d316cbfd0840e2c6885080">Size</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            boxSize *= 0.1f;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            groundBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a2d1f66c2a4a842550650c04c20a275dd">Inflate</a>(-boxSize);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">MyBBSetSampler</a> sampler = <span class="keyword">new</span> <a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">MyBBSetSampler</a>(groundBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>, groundBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordtype">bool</span> posIsValid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="namespace_vector3_d.html">Vector3D</a> worldPos = <span class="keywordflow">default</span>(<a class="code" href="namespace_vector3_d.html">Vector3D</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">do</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="comment">// find random position for starting </span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                worldPos = sampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#a9289a63029b0e5d4676ceb867691a95f">Sample</a>();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                var worldPosProjected = worldPos;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                worldPosProjected.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = 0.5f;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                posIsValid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                counter++;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <a class="code" href="namespace_vector3_d.html">Vector3D</a> areaCheck = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(20, 20, 20);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <span class="keywordflow">foreach</span> (var enqueued <span class="keywordflow">in</span> m_initialForestLocations)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    <span class="comment">// only interested in XZ plane</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                    <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> tmp = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(enqueued - areaCheck, enqueued + areaCheck);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    tmp.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = 0;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    tmp.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = 1;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    <span class="keywordflow">if</span> (tmp.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#abe98e59e335804f3de68039b21968f34">Contains</a>(worldPosProjected) == <a class="code" href="namespace_v_rage_math.html#a4f89af233f1aef65e9d05a18cb44d4cf">ContainmentType</a>.Contains)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                        posIsValid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            } <span class="keywordflow">while</span> (!posIsValid &amp;&amp; counter != 10);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (!posIsValid)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="comment">// could not find any position</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            var lineStart = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(worldPos.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a32ce58dd8f2bd58aeb74ca3f886eb530">X</a>, groundBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a>, worldPos.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a278826832c407bcceec46e037e8cf65d">Z</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            var lineEnd = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(worldPos.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a32ce58dd8f2bd58aeb74ca3f886eb530">X</a>, groundBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a>, worldPos.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a278826832c407bcceec46e037e8cf65d">Z</a>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_line_d.html">LineD</a> line = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_line_d.html">LineD</a>(lineStart, lineEnd);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_models.html">Models</a>.<a class="code" href="struct_v_rage_1_1_game_1_1_models_1_1_my_intersection_result_line_triangle_ex.html">MyIntersectionResultLineTriangleEx</a>? result = null;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            var correctGroundDefinition = <a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html">MyDefinitionManager</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#aa76b8697823951ea5c5ec16092b902ab">Static</a>.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#a687ecc35d97dbeb307033699b9d525ce">GetVoxelMaterialDefinition</a>(<span class="stringliteral">&quot;Grass&quot;</span>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            var materialId = correctGroundDefinition.<a class="code" href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#a7b1792a1559a41fa03cb519b5ea82fb9">Index</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">if</span> (m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#add58c5f261700a9b6604169ea720cfad">GetIntersectionWithLine</a>(ref line, out result, <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_components.html">Components</a>.IntersectionFlags.DIRECT_TRIANGLES))</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <a class="code" href="namespace_vector3_d.html">Vector3D</a> intersectionPoint = result.Value.IntersectionPointInWorldSpace;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a> voxelCoord, minRead, maxRead;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                MyVoxelCoordSystems.WorldPositionToVoxelCoord(m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref intersectionPoint, out voxelCoord);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                minRead = voxelCoord - <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">One</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                maxRead = voxelCoord + <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">One</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Storage</a>.<a class="code" href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">ReadRange</a>(m_voxelCache, <a class="code" href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">MyStorageDataTypeFlags</a>.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>, 0, ref minRead, ref maxRead);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                var minLocal = <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">Zero</a>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                var maxLocal = <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">One</a> * 2;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                var it = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">Vector3I_RangeIterator</a>(ref minLocal, ref maxLocal);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <span class="keywordflow">while</span> (it.IsValid())</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    var vec = it.Current;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                    var material = m_voxelCache.<a class="code" href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">Material</a>(ref vec);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                    <span class="keywordflow">if</span> (material == materialId)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        <span class="comment">// found a location</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                        var desired = voxelCoord - <a class="code" href="struct_v_rage_math_1_1_vector3_i.html">Vector3I</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">One</a> + vec;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        <a class="code" href="namespace_vector3_d.html">Vector3D</a> desiredWorldPosition = <span class="keywordflow">default</span>(<a class="code" href="namespace_vector3_d.html">Vector3D</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        MyVoxelCoordSystems.VoxelCoordToWorldPosition(m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">PositionLeftBottomCorner</a>, ref desired, out desiredWorldPosition);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                        m_initialForestLocations.Enqueue(desiredWorldPosition);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    it.MoveNext();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> UpdateAreas()</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;Invalidate areas&quot;</span>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">if</span> ((m_invalidateAreaTimer - MySandboxGame.Static.UpdateTime).Seconds &lt; 0 || m_immediateInvalidate)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                InvalidateAreaValues();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> item_ItemAdded(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a> envItems, <a class="code" href="namespace_item_info.html">ItemInfo</a> itemInfo)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            m_checkedSectors.Add(envItems.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a62ac76f2deb119ce34f8f674a016842f">GetSectorId</a>(ref itemInfo.Transform.Position));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            var itemBox = GetWorldBox(itemInfo.SubtypeId, itemInfo.Transform.TransformMatrix);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            var checkBox = itemBox.GetInflated(DEFAULT_INFLATE_VALUE);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            m_aabbTree.OverlapAllBoundingBox(ref checkBox, m_tmpAreas);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            var newForestBox = <span class="keyword">new</span> Area();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            newForestBox.ForestBox = itemBox;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            newForestBox.AddItem(envItems.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>, itemInfo.LocalId);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            newForestBox.ProxyId = m_aabbTree.<a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a4d9507dfec126cd08b888adffc9e83f7">AddProxy</a>(ref itemBox, newForestBox, 0);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            m_tmpAreas.Add(newForestBox);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            MergeAreas(m_tmpAreas);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span> (newForestBox.IsValid)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                m_forestAreas.Add(newForestBox);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            m_tmpAreas.Clear();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> item_ItemRemoved(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a> item, <a class="code" href="namespace_item_info.html">ItemInfo</a> itemInfo)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            var entityId = item.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">while</span> (i &lt; m_forestAreas.Count)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                var area = m_forestAreas[i];</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordflow">if</span> (area.IsValid &amp;&amp; area.ItemIds.ContainsKey(entityId) &amp;&amp; area.ItemIds[entityId].Contains(itemInfo.LocalId))</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                    area.ItemIds[entityId].Remove(itemInfo.LocalId);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                    <span class="keywordflow">if</span> (area.IsValid)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                        InvalidateArea(area);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                        i++;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                        RemoveArea(m_forestAreas, i);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                    i++;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ConstructAreas()</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <a class="code" href="namespace_vector3_d.html">Vector3D</a> sectorPosition = <span class="keywordflow">default</span>(<a class="code" href="namespace_vector3_d.html">Vector3D</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">while</span> (!found &amp;&amp; m_checkQueue.Count &gt; 0)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                var currentEnvItem = m_envItems[m_checkQueue.Peek()];</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordflow">foreach</span> (var sector <span class="keywordflow">in</span> currentEnvItem.Sectors)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    <span class="keywordflow">if</span> (!m_checkedSectors.Contains(sector.Key))</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        m_checkedSectors.Add(sector.Key);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        sectorPosition = sector.Key * currentEnvItem.Definition.SectorSize + currentEnvItem.Definition.SectorSize * 0.5f;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    ProfilerShort.Begin(<span class="stringliteral">&quot;Distribute items&quot;</span>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    <span class="keywordflow">foreach</span> (var envItem <span class="keywordflow">in</span> m_envItems.Values)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                        DistributeItems(envItem, ref sectorPosition);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                    ProfilerShort.End();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    m_checkQueue.Dequeue();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;Find merge areas&quot;</span>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> mergeBox = <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a>.CreateInvalid();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                <span class="keywordflow">foreach</span> (var envItem <span class="keywordflow">in</span> m_envItems.Values)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    var sector = envItem.GetSector(ref sectorPosition);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    <span class="keywordflow">if</span> (sector != null &amp;&amp; sector.IsValid)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                        mergeBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a04309e4c853fdde061af4200af866921">Include</a>(sector.SectorWorldBox);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                mergeBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = DEBUG_BOX_Y_MIN_POS;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                mergeBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = DEBUG_BOX_Y_MAX_POS;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                mergeBox = mergeBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a2d1f66c2a4a842550650c04c20a275dd">Inflate</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(100, 0, 100));</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                m_aabbTree.OverlapAllBoundingBox(ref mergeBox, m_tmpAreas);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                ProfilerShort.Begin(<span class="stringliteral">&quot;Merge areas&quot;</span>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                MergeAreas(m_tmpAreas);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                m_tmpAreas.Clear();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                ProfilerShort.Begin(<span class="stringliteral">&quot;Clear invalid areas&quot;</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                ClearInvalidAreas(m_forestAreas);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            ProfilerShort.End();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ClearInvalidAreas(List&lt;Area&gt; areas)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">while</span> (i &lt; areas.Count)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="keywordflow">if</span> (!areas[i].IsValid)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    RemoveArea(areas, i);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    i++;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> InvalidateArea(Area area)</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> box = <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a>.CreateInvalid();</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> area.ItemIds)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">foreach</span> (var localId <span class="keywordflow">in</span> item.Value)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    <a class="code" href="namespace_item_info.html">ItemInfo</a> itemInfo;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    <span class="keywordflow">if</span> (m_envItems[item.Key].TryGetItemInfoById(localId, out itemInfo))</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        box.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a04309e4c853fdde061af4200af866921">Include</a>(GetWorldBox(itemInfo.SubtypeId, itemInfo.Transform.TransformMatrix));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            area.ForestBox = box;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">if</span> (area.ProxyId != -1)</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                m_aabbTree.<a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a3ff876dc3963bdcf33f6d28e0be2da75">MoveProxy</a>(area.ProxyId, ref box, <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ade68a21b5614666a45acb48362b9b3e0">  627</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ade68a21b5614666a45acb48362b9b3e0">ImmediateInvalidateAreaValues</a>()</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            Static.InvalidateAreaValues();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> InvalidateAreaValues()</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="comment">// some areas could have been merged by adding new items in their borders. Remove them if they are invalid</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            ClearInvalidAreas(m_forestAreas);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            m_currentForestArea = CalculateEntireArea();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            m_forestsPercent = m_currentForestArea / m_worldArea;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">if</span> (m_currentForestArea == 0)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                m_invalidateAreaTimer = <a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">MyTimeSpan</a>.<a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html#a2f7aa18aabdb66d00eb7801951ebbd0b">Zero</a>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                m_invalidateAreaTimer = <a class="code" href="class_sandbox_1_1_my_sandbox_game.html">MySandboxGame</a>.<a class="code" href="class_sandbox_1_1_my_sandbox_game.html#a25d0e78afc1ba557e48699fedac64ab1">Static</a>.<a class="code" href="class_sandbox_1_1_engine_1_1_platform_1_1_game.html#ab36b3508ebaab6a4483fb3f8023f8ab9">UpdateTime</a> + <a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">MyTimeSpan</a>.<a class="code" href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html#a0799736bed724d905db716f7d1575ff0">FromSeconds</a>(INVALIDATE_TIME * 60);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            m_immediateInvalidate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> CalculateEntireArea()</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            m_highLevelBoxes.Clear();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            CreateHighLevelBoxes(m_highLevelBoxes);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordtype">double</span> area = 0;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">foreach</span> (var box <span class="keywordflow">in</span> m_highLevelBoxes)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                var size = box.Size;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                area += size.X * size.Z;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordflow">return</span> area;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keyword">private</span> <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> GetWorldBox(<a class="code" href="struct_v_rage_1_1_utils_1_1_my_string_hash.html">MyStringHash</a> <span class="keywordtype">id</span>, <a class="code" href="namespace_matrix_d.html">MatrixD</a> worldMatrix)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordtype">int</span> modelId = <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a>.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a463baa255588ff6f94988bc940ee213e">GetModelId</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            var modelData = <a class="code" href="namespace_v_rage.html">VRage</a>.<a class="code" href="namespace_v_rage_1_1_game.html">Game</a>.<a class="code" href="namespace_v_rage_1_1_game_1_1_models.html">Models</a>.<a class="code" href="class_v_rage_1_1_game_1_1_models_1_1_my_models.html">MyModels</a>.GetModelOnlyData(<a class="code" href="class_v_rage_1_1_game_1_1_models_1_1_my_model.html">MyModel</a>.<a class="code" href="class_v_rage_1_1_game_1_1_models_1_1_my_model.html#a8869c9b684d9c44f9e1bf4ad402eb10f">GetById</a>(modelId));</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> boxLocal = modelData.BoundingBox.Transform(ref worldMatrix);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            boxLocal.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a2d1f66c2a4a842550650c04c20a275dd">Inflate</a>(0.6); <span class="comment">// inflate so it takes a lil bit more space than normally</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            boxLocal.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = DEBUG_BOX_Y_MAX_POS;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            boxLocal.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = DEBUG_BOX_Y_MIN_POS;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">return</span> boxLocal;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> DistributeItems(<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a> envItem, ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> sectorPosition)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            envItem.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a2c009976d7a81341cdf3ff2f7d0165bb">GetItemsInSector</a>(ref sectorPosition, m_tmpItemInfos);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            var envItemId = envItem.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">foreach</span> (var itemInfo <span class="keywordflow">in</span> m_tmpItemInfos)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordtype">bool</span> included = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                var worldBox = GetWorldBox(itemInfo.SubtypeId, itemInfo.Transform.TransformMatrix);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                var extended = worldBox.GetInflated(DEFAULT_INFLATE_VALUE);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                m_aabbTree.OverlapAllBoundingBox(ref extended, m_tmpAreas);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_tmpAreas.Count; i++)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    var forestBox = m_tmpAreas[i].ForestBox;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    <span class="keywordflow">if</span> ((forestBox.Center - worldBox.Center).LengthSquared() &lt;= BOX_INCLUDE_DIST_SQ)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                        forestBox.Include(ref worldBox);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        m_tmpAreas[i].ForestBox = forestBox;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        m_tmpAreas[i].AddItem(envItemId, itemInfo.LocalId);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        included = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                        m_aabbTree.<a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a3ff876dc3963bdcf33f6d28e0be2da75">MoveProxy</a>(m_tmpAreas[i].ProxyId, ref worldBox, <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                m_tmpAreas.Clear();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <span class="keywordflow">if</span> (!included)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                    var newForestBox = <span class="keyword">new</span> Area();</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    newForestBox.ForestBox = worldBox;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    newForestBox.AddItem(envItemId, itemInfo.LocalId);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    newForestBox.ProxyId = m_aabbTree.<a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a4d9507dfec126cd08b888adffc9e83f7">AddProxy</a>(ref worldBox, newForestBox, 0);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    m_forestAreas.Add(newForestBox);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            m_tmpItemInfos.Clear();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> MergeAreas(List&lt;Area&gt; areas, <span class="keywordtype">int</span> multiplier = 1)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="keywordtype">int</span> smallFavor = 5 * multiplier;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordtype">double</span> smallMaxTolerance = 2.5 * multiplier;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordtype">double</span> toleranceMultiplier = 0.3 * multiplier;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="keywordflow">while</span> (i &lt; areas.Count)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                var area1 = areas[i];</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <span class="keywordflow">if</span> (!area1.IsValid)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    RemoveArea(areas, i);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                var inflated = area1.ForestBox.GetInflated(DEFAULT_INFLATE_VALUE);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                m_aabbTree.OverlapAllBoundingBox(ref inflated, m_tmpAreas2);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                <span class="keywordtype">int</span> j = 0;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <span class="keywordtype">bool</span> removeIdx = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <span class="keywordflow">while</span> (j &lt; m_tmpAreas2.Count)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                    var area2 = m_tmpAreas2[j];</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                    <span class="keywordflow">if</span> (area1 == area2)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                    {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                        j++;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!area2.IsValid)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                        RemoveArea(m_tmpAreas2, j);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    var box1 = area1.ForestBox;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                    var box2 = area2.ForestBox;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    var output = box1;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                    output.Include(box2);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    var box1Volume = box1.Volume;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    var box2Volume = box2.Volume;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                    var outputVolume = output.Volume;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    <span class="keywordtype">float</span> tolerance = 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    <span class="keywordflow">if</span> (box1Volume &gt; box2Volume)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                        <span class="keywordflow">if</span> (box1.Contains(box2) == <a class="code" href="namespace_v_rage_math.html#a4f89af233f1aef65e9d05a18cb44d4cf">ContainmentType</a>.Contains)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                        {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                            RemoveArea(m_tmpAreas2, j);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                        tolerance = (float)(1 + toleranceMultiplier * (box2Volume / box1Volume));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                    {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                        <span class="keywordflow">if</span> (box2.Contains(box1) == <a class="code" href="namespace_v_rage_math.html#a4f89af233f1aef65e9d05a18cb44d4cf">ContainmentType</a>.Contains)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                        {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                            removeIdx = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                        }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                        tolerance = (float)(1 + toleranceMultiplier * (box1Volume / box2Volume));</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    <span class="keywordflow">if</span> (outputVolume &lt; smallFavor)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                        tolerance = (float)<a class="code" href="namespace_math.html">Math</a>.Min(smallMaxTolerance, tolerance * (smallFavor / outputVolume));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    <span class="keywordflow">if</span> ((box1Volume + box2Volume) * tolerance &gt; outputVolume)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                        area1.Merge(output, area2);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        RemoveArea(m_tmpAreas2, j);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                        m_aabbTree.<a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a3ff876dc3963bdcf33f6d28e0be2da75">MoveProxy</a>(area1.ProxyId, ref output, <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                        j++;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                <span class="keywordflow">if</span> (removeIdx)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    RemoveArea(areas, i);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    i++;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                m_tmpAreas2.Clear();</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> RemoveArea(List&lt;Area&gt; areas, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            var area = areas[idx];</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            var proxyId = area.ProxyId;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            areas.RemoveAtFast(idx);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span> (proxyId != -1)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                m_aabbTree.<a class="code" href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a965d3156676a527f2553228224359673">RemoveProxy</a>(proxyId);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            area.Clean();</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            var handler = RemovedArea;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="keywordflow">if</span> (handler != null)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                RemovedArea(proxyId);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> CreateHighLevelBoxes(List&lt;BoundingBoxD&gt; boxes)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="keywordflow">foreach</span> (var sector <span class="keywordflow">in</span> m_checkedSectors)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                var sectorId = sector;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> max = <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a>.CreateInvalid();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <span class="keywordtype">bool</span> includedOnce = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">foreach</span> (var envItem <span class="keywordflow">in</span> m_envItems)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    var sec = envItem.Value.GetSector(ref sectorId);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                    <span class="keywordflow">if</span> (sec != null &amp;&amp; sec.IsValid)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        includedOnce = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                        max.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a04309e4c853fdde061af4200af866921">Include</a>((<a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a>)(sec.SectorWorldBox));   </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                    }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                <span class="keywordflow">if</span> (!includedOnce)</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                {  <span class="comment">// MW: invalid sector -&gt; remove it</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    m_tmpSectors.Add(sectorId);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                max.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = DEBUG_BOX_Y_MAX_POS;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                max.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = DEBUG_BOX_Y_MIN_POS;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                List&lt;BoundingBoxD&gt; tmp = <span class="keyword">new</span> List&lt;BoundingBoxD&gt;() { max };</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                <span class="keywordtype">double</span> sectorAverageVolume = 0;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <span class="keywordflow">foreach</span> (var box <span class="keywordflow">in</span> tmp)</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                    sectorAverageVolume += box.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aa5595daa5d1bbaaf3f2c0c28787064bc">Volume</a>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                sectorAverageVolume /= tmp.Count;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                sectorAverageVolume = <a class="code" href="namespace_math.html">Math</a>.Min(sectorAverageVolume, 10);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                <span class="keywordflow">while</span> (i &lt; boxes.Count)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                    var box = boxes[i];</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                    <span class="keywordtype">bool</span> <span class="keyword">remove</span> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    <span class="keywordtype">int</span> j = 0;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    <span class="keywordflow">while</span> (j &lt; tmp.Count)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                    {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                        var tmpMax = tmp[j];</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                        var tmpInflated = tmpMax.Inflate(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(-0.01, 0, -0.01));</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                        <span class="keywordflow">if</span> (box.Intersects(ref tmpInflated))</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                        {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                            <span class="keywordflow">if</span> (box.Contains(tmpMax) == <a class="code" href="namespace_v_rage_math.html#a4f89af233f1aef65e9d05a18cb44d4cf">ContainmentType</a>.Contains)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                            {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                                tmp.RemoveAtFast(j);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                            }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmpMax.Contains(box) == <a class="code" href="namespace_v_rage_math.html#a4f89af233f1aef65e9d05a18cb44d4cf">ContainmentType</a>.Contains)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                            {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                <span class="keyword">remove</span> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                            }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                            tmp.RemoveAtFast(j);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                            SplitArea(box, tmpMax, tmp);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                            j++;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    <span class="keywordflow">if</span> (<span class="keyword">remove</span>)</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                        boxes.RemoveAtFast(i);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                        i++;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                <span class="keywordtype">int</span> idx = 0;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                <span class="keywordflow">while</span> (idx &lt; tmp.Count)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    var box = tmp[idx];</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    <span class="keywordflow">if</span> (box.Volume &lt; sectorAverageVolume)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                        tmp.RemoveAtFast(idx);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        idx++;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                boxes.AddList(tmp);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <span class="keywordflow">foreach</span> (var sector <span class="keywordflow">in</span> m_tmpSectors)</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                m_checkedSectors.Remove(sector);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            m_tmpSectors.Clear();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">if</span> (boxes.Count &gt; 0)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                boxes.Sort((x, y) =&gt; y.Volume.CompareTo(x.Volume));</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                m_hlCurrentBox = 0;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                m_hlSize = boxes.Average(x =&gt; x.Volume);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                m_hlSelectionCounter = (int)(boxes.First().Volume / m_hlSize);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> SplitArea(<a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> box1, <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> box2, List&lt;BoundingBoxD&gt; output)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            var intersectValue = box1.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#ac880d40fc5a35c5f62a9880b7a276a2e">Intersect</a>(box2);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <span class="keywordtype">double</span> x1 = <a class="code" href="namespace_math.html">Math</a>.Min(intersectValue.Min.X, box2.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a32ce58dd8f2bd58aeb74ca3f886eb530">X</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordtype">double</span> x2 = intersectValue.Min.X;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            <span class="keywordtype">double</span> x3 = intersectValue.Max.X;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <span class="keywordtype">double</span> x4 = <a class="code" href="namespace_math.html">Math</a>.Max(intersectValue.Max.X, box2.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a32ce58dd8f2bd58aeb74ca3f886eb530">X</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordtype">double</span> z1 = <a class="code" href="namespace_math.html">Math</a>.Min(intersectValue.Min.Z, box2.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">Min</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a278826832c407bcceec46e037e8cf65d">Z</a>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordtype">double</span> z2 = intersectValue.Min.Z;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordtype">double</span> z3 = intersectValue.Max.Z;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="keywordtype">double</span> z4 = <a class="code" href="namespace_math.html">Math</a>.Max(intersectValue.Max.Z, box2.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">Max</a>.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a278826832c407bcceec46e037e8cf65d">Z</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordtype">bool</span> sameXMin = x1 == x2;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="keywordtype">bool</span> sameXMax = x3 == x4;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="keywordtype">bool</span> sameZMin = z1 == z2;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <span class="keywordtype">bool</span> sameZMax = z3 == z4;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="keywordtype">double</span> minY = DEBUG_BOX_Y_MIN_POS;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <span class="keywordtype">double</span> maxY = DEBUG_BOX_Y_MAX_POS;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            <span class="keywordflow">if</span> (sameXMin &amp;&amp; sameXMax)</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="keywordflow">if</span> (sameZMin &amp;&amp; !sameZMax)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z3), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!sameZMin &amp;&amp; sameZMax)</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z2)));</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z2)));</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z3), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sameZMin &amp;&amp; sameZMax)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                <span class="keywordflow">if</span> (sameXMin &amp;&amp; !sameXMax)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!sameXMin &amp;&amp; sameXMax)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x2, maxY, z2)));</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x2, maxY, z4)));</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                <span class="keywordflow">if</span> (sameXMin)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                    <span class="keywordflow">if</span> (sameZMin)</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                    {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z3)));</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z3), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sameZMax)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                    {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z2)));</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, minY, z2), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                    {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z2)));</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, minY, z2), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z3)));</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z3), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sameXMax)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                    <span class="keywordflow">if</span> (sameZMin)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                    {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x2, maxY, z3)));</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z3), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sameZMax)</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                    {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z2)));</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z2), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                    {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z2)));</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z2), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, maxY, z3)));</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z3), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                    }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sameZMin)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x2, maxY, z4)));</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x2, minY, z3), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, maxY, z4)));</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sameZMax)</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x1, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x2, maxY, z4)));</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x2, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, maxY, z3)));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                    output.Add(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x3, minY, z1), <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(x4, maxY, z4)));</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                    <a class="code" href="class_v_rage_1_1_utils_1_1_my_debug.html">MyDebug</a>.<a class="code" href="class_v_rage_1_1_utils_1_1_my_debug.html#a7ffef314f13f8adff72234509ba82f33">AssertDebug</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> HasBelongingItemsInternal(<span class="keywordtype">int</span> areaId, <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a> items)</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        {    </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            var area = m_aabbTree.GetUserData&lt;Area&gt;(areaId);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <span class="keywordflow">if</span> (!area.ItemIds.ContainsKey(items.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>))</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">return</span> area.ItemIds[items.<a class="code" href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">EntityId</a>].Count &gt; 0;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div>
<div class="line"><a name="l01036"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a84fcfc7a6af4996c70956cfdf49cc877"> 1036</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a84fcfc7a6af4996c70956cfdf49cc877">HasBelongingItems</a>(<span class="keywordtype">int</span> areaId, <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a> items)</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <span class="keywordflow">return</span> Static.HasBelongingItemsInternal(areaId, items);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a42657cd4ca5defae7930150479e7d32b"> 1041</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a42657cd4ca5defae7930150479e7d32b">TryFindLocationInsideForest</a>(out <a class="code" href="namespace_vector3_d.html">Vector3D</a> location, Predicate&lt;AreaData&gt; predicate = null)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <span class="keywordflow">return</span> Static.TryFindLocationInsideForestInternal(null, out location, predicate);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div>
<div class="line"><a name="l01046"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aa3051c1270b93b0a03f7a5acf3ef1f8d"> 1046</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aa3051c1270b93b0a03f7a5acf3ef1f8d">TryFindLocationInsideForest</a>(<a class="code" href="namespace_vector3_d.html">Vector3D</a> desiredLocationSize, out <a class="code" href="namespace_vector3_d.html">Vector3D</a> location, Predicate&lt;AreaData&gt; predicate = null)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="keywordflow">return</span> Static.TryFindLocationInsideForestInternal(desiredLocationSize, out location, predicate);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a3f2d3132b92120eac4a3ed26e83bf835"> 1051</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a3f2d3132b92120eac4a3ed26e83bf835">TryFindLocationOutsideForest</a>(out <a class="code" href="namespace_vector3_d.html">Vector3D</a> location, Predicate&lt;AreaData&gt; predicate = null)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            <span class="keywordflow">return</span> Static.TryFindLocationOutsideForestInternal(null, out location, predicate);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div>
<div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ac5abc1a1370f2593d3493f5fc78781db"> 1056</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ac5abc1a1370f2593d3493f5fc78781db">TryFindLocationOutsideForest</a>(<a class="code" href="namespace_vector3_d.html">Vector3D</a> desiredLocationSize, out <a class="code" href="namespace_vector3_d.html">Vector3D</a> location, Predicate&lt;AreaData&gt; predicate = null)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            <span class="keywordflow">return</span> Static.TryFindLocationOutsideForestInternal(desiredLocationSize, out location, predicate);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> TryFindLocationInsideForestInternal(<a class="code" href="namespace_vector3_d.html">Vector3D</a>? desiredLocationSize, out <a class="code" href="namespace_vector3_d.html">Vector3D</a> location, Predicate&lt;AreaData&gt; predicate = null)</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            <span class="keywordflow">if</span> (!TryGetRandomAreas(m_tmpAreas))</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                location = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <a class="code" href="namespace_vector3_d.html">Vector3D</a> desiredHalfSize = desiredLocationSize.HasValue ? desiredLocationSize.Value * 0.5f : <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            desiredHalfSize.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = 0;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <span class="keywordtype">int</span> areaIdx = 0;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordtype">int</span> randomStartIdx = MyUtils.GetRandomInt(m_tmpAreas.Count);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="keywordflow">while</span> (areaIdx &lt; m_tmpAreas.Count)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                var spawnArea = m_tmpAreas[randomStartIdx];</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                randomStartIdx = (randomStartIdx + 1) % m_tmpAreas.Count;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                areaIdx++;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                if (!spawnArea.IsValid || spawnArea.IsFull)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                <span class="keywordflow">if</span> (predicate != null &amp;&amp; !predicate(spawnArea.GetAreaData()))</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                    spawnArea.IsFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                var spawnBox = spawnArea.ForestBox;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                <a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">MyBBSetSampler</a> setSampler = <span class="keyword">new</span> <a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">MyBBSetSampler</a>(spawnBox.Min, spawnBox.Max);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                RefineSampler(spawnArea, ref spawnBox, ref desiredHalfSize, setSampler);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                <span class="keywordflow">if</span> (!setSampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#a0773ea80d424a494289b9d9999cc7a11">Valid</a>)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                <a class="code" href="namespace_vector3_d.html">Vector3D</a> exactLocation;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <span class="keywordflow">if</span> (TryGetExactLocation(spawnArea, setSampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#a9289a63029b0e5d4676ceb867691a95f">Sample</a>(), 10, out exactLocation))</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                    location = exactLocation;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                    d_foundEnrichingPoints.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a50d6ed9a4ef5a49c42b041af9de64f09">Add</a>(exactLocation);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                    m_tmpAreas.Clear();</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                    <span class="keywordflow">if</span> (SelectedArea != null)</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                        SelectedArea(spawnArea.ProxyId);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            location = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            m_tmpAreas.Clear();</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> TryFindLocationOutsideForestInternal(<a class="code" href="namespace_vector3_d.html">Vector3D</a>? desiredLocationSize, out <a class="code" href="namespace_vector3_d.html">Vector3D</a> location, Predicate&lt;AreaData&gt; predicate = null)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <a class="code" href="namespace_vector3_d.html">Vector3D</a> desiredHalfSize = desiredLocationSize.HasValue ? desiredLocationSize.Value * 0.5f : <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            desiredHalfSize.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = 0;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <span class="keywordflow">if</span> (m_highLevelBoxes.Count == 0)</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                <span class="comment">// no forest on the map, generate starting point</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                <span class="keywordtype">bool</span> valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                <span class="keywordflow">while</span> (m_initialForestLocations.Count &gt; 0 &amp;&amp; !valid)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                    var potentialTreePosition = m_initialForestLocations.Dequeue();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                    valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                    <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> itemBox = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a>(potentialTreePosition, potentialTreePosition);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                    itemBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a2d1f66c2a4a842550650c04c20a275dd">Inflate</a>(desiredHalfSize);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                    var entities = MyEntities.GetEntitiesInAABB(ref itemBox);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                    <span class="keywordflow">foreach</span> (var entity <span class="keywordflow">in</span> entities)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                    {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                        <span class="keywordflow">if</span> (entity is <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">MyEnvironmentItems</a>)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                        <span class="keywordflow">if</span> (entity is <a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">MyVoxelBase</a>)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                        var entityBox = entity.PositionComp.WorldAABB;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                        var containment = entityBox.<a class="code" href="struct_v_rage_math_1_1_bounding_box_d.html#a66ac003ae075b3b91201de34d01b185a">Intersects</a>(itemBox);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                        <span class="keywordflow">if</span> (containment)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                        {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                            valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                        }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                    }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                    entities.Clear();</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    <span class="keywordflow">if</span> (valid)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                    {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                        <a class="code" href="namespace_vector3_d.html">Vector3D</a> end = potentialTreePosition;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                        end.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> -= 20;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                        <span class="keywordflow">if</span> (RaycastForExactPosition(potentialTreePosition, end, out location))</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                        {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                            d_foundEnlargingPoints.Add(location);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                        }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                        {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                            valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                        }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                    }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                location = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="keywordflow">if</span> (!TryGetRandomAreas(m_tmpAreas))</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                    location = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                <span class="keywordtype">int</span> areaIdx = 0;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                <span class="keywordtype">int</span> randomStartIdx = MyUtils.GetRandomInt(m_tmpAreas.Count);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                <span class="keywordflow">while</span> (areaIdx &lt; m_tmpAreas.Count)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                    var spawnArea = m_tmpAreas[randomStartIdx];</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                    randomStartIdx = (randomStartIdx + 1) % m_tmpAreas.Count;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                    areaIdx++;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                    if (!spawnArea.IsValid || spawnArea.IsFull)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                    <span class="keywordflow">if</span> (predicate != null &amp;&amp; !predicate(spawnArea.GetAreaData()))</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                    {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                        spawnArea.IsFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                    var spawnBox = spawnArea.ForestBox;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                    var forestBox = spawnArea.ForestBox;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    spawnBox = forestBox.Inflate(desiredHalfSize);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                    spawnBox.Inflate(<span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(0.2, 0, 0.2)); <span class="comment">// inflate for some minimum size</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                    <a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">MyBBSetSampler</a> setSampler = <span class="keyword">new</span> <a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">MyBBSetSampler</a>(spawnBox.Min, spawnBox.Max);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    setSampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#afd2621bf1737dbdc65f705e08d636ded">SubtractBB</a>(ref forestBox);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                    RefineSampler(spawnArea, ref spawnBox, ref desiredHalfSize, setSampler);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                    <span class="keywordflow">if</span> (!setSampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#a0773ea80d424a494289b9d9999cc7a11">Valid</a>)</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                    <a class="code" href="namespace_vector3_d.html">Vector3D</a> exactLocation;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    <a class="code" href="namespace_vector3_d.html">Vector3D</a> samplePosition = setSampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#a9289a63029b0e5d4676ceb867691a95f">Sample</a>();</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                    <span class="keywordflow">if</span> (TryGetExactLocation(spawnArea, samplePosition, 40, out exactLocation))</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                    {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                        location = exactLocation;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                        d_foundEnlargingPoints.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a50d6ed9a4ef5a49c42b041af9de64f09">Add</a>(exactLocation);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                        m_tmpAreas.Clear();</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                    }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                    {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                        location = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                        m_tmpAreas.Clear();</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            location = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            m_tmpAreas.Clear();</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> RefineSampler(Area spawnArea, ref <a class="code" href="namespace_bounding_box_d.html">BoundingBoxD</a> spawnBox, ref <a class="code" href="namespace_vector3_d.html">Vector3D</a> desiredHalfSize, <a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">MyBBSetSampler</a> setSampler)</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            var entities = MyEntities.GetEntitiesInAABB(ref spawnBox);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <span class="keywordflow">foreach</span> (var entity <span class="keywordflow">in</span> entities)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                <span class="keywordflow">if</span> (entity is MyEnvironmentItems)</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                <span class="keywordflow">if</span> (entity is MyVoxelBase)</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                var entityBox = entity.PositionComp.WorldAABB;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                entityBox.Inflate(desiredHalfSize);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                entityBox.Min.Y = DEBUG_BOX_Y_MIN_POS;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                entityBox.Max.Y = DEBUG_BOX_Y_MAX_POS;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                setSampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#afd2621bf1737dbdc65f705e08d636ded">SubtractBB</a>(ref entityBox);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            entities.Clear();</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            m_aabbTree.OverlapAllBoundingBox(ref spawnBox, m_tmpAreas2);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;            <span class="keywordflow">foreach</span> (var area <span class="keywordflow">in</span> m_tmpAreas2)</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                <span class="keywordflow">if</span> (area != spawnArea)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                    var box = area.ForestBox;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                    box.Inflate(desiredHalfSize);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                    setSampler.<a class="code" href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#afd2621bf1737dbdc65f705e08d636ded">SubtractBB</a>(ref box);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            m_tmpAreas2.Clear();</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> TryGetRandomAreas(List&lt;Area&gt; output)</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            <span class="keywordflow">if</span> (m_highLevelBoxes.Count == 0)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <span class="keywordflow">while</span> (m_hlSelectionCounter &gt; 0)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                m_hlSelectionCounter--;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                var desiredBox = m_highLevelBoxes[m_hlCurrentBox];</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                m_aabbTree.OverlapAllBoundingBox(ref desiredBox, output);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <span class="keywordflow">if</span> (m_hlSelectionCounter == 0 || output.Count == 0)</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    m_hlCurrentBox = (m_hlCurrentBox + 1) % m_highLevelBoxes.Count;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                    m_hlSelectionCounter = (<span class="keywordtype">int</span>)<a class="code" href="namespace_math.html">Math</a>.Ceiling(m_highLevelBoxes[m_hlCurrentBox].Volume / m_hlSize);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                <span class="keywordflow">if</span> (output.Count != 0)</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> RaycastForExactPosition(<a class="code" href="namespace_vector3_d.html">Vector3D</a> start, <a class="code" href="namespace_vector3_d.html">Vector3D</a> end, out <a class="code" href="namespace_vector3_d.html">Vector3D</a> exact)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            <a class="code" href="struct_v_rage_math_1_1_line_d.html">LineD</a> line = <span class="keyword">new</span> <a class="code" href="struct_v_rage_math_1_1_line_d.html">LineD</a>(start, end);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            <a class="code" href="namespace_vector3_d.html">Vector3D</a>? output;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="keywordflow">if</span> (m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#add58c5f261700a9b6604169ea720cfad">GetIntersectionWithLine</a>(ref line, out output))</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                exact = output.Value;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            exact = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Zero;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> TryGetExactLocation(Area area, <a class="code" href="namespace_vector3_d.html">Vector3D</a> point, <span class="keywordtype">float</span> thresholdDistance, out <a class="code" href="namespace_vector3_d.html">Vector3D</a> exact)</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> DISTANCE = 25;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            ProfilerShort.Begin(<span class="stringliteral">&quot;Raycast&quot;</span>);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                exact = <span class="keywordflow">default</span>(<a class="code" href="namespace_vector3_d.html">Vector3D</a>);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                <span class="keywordflow">foreach</span> (var envItemData <span class="keywordflow">in</span> area.ItemIds)</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                    var envItem = m_envItems[envItemData.Key];</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                    <span class="keywordflow">foreach</span> (var localId <span class="keywordflow">in</span> area.ItemIds[envItemData.Key])</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                    {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                        <a class="code" href="namespace_matrix_d.html">MatrixD</a> world;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                        envItem.GetItemWorldMatrix(localId, out world);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                        point.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> = world.Translation.Y;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                        var distSq = (world.Translation - point).LengthSquared();</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                        <span class="keywordflow">if</span> (distSq &lt; thresholdDistance)</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                        {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                            <a class="code" href="namespace_vector3_d.html">Vector3D</a> finish = <span class="keyword">new</span> <a class="code" href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a>(point.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a32ce58dd8f2bd58aeb74ca3f886eb530">X</a>, <a class="code" href="namespace_math.html">Math</a>.Max(0, point.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> - DISTANCE), point.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a278826832c407bcceec46e037e8cf65d">Z</a>);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                            point.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">Y</a> += DISTANCE;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                            <span class="keywordtype">bool</span> result = RaycastForExactPosition(point, finish, out exact);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                            <span class="keywordflow">if</span> (result)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                        }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                    }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                }</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="keywordflow">finally</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                ProfilerShort.End();</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            }</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div>
<div class="line"><a name="l01333"></a><span class="lineno"><a class="line" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a8e9bb0d24ee51651eb2583d754943f39"> 1333</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a8e9bb0d24ee51651eb2583d754943f39">DebugDraw</a>()</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordflow">if</span> (MyDebugDrawSettings.DEBUG_DRAW_FLORA_BOXES)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                <a class="code" href="namespace_matrix_d.html">MatrixD</a> offset = <a class="code" href="namespace_matrix_d.html">MatrixD</a>.CreateTranslation(<a class="code" href="namespace_vector3.html">Vector3</a>.Down * 256.0f);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_forestAreas.Count; i++)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                    var area = m_forestAreas[i];</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                    var dbgDrawBox = area.ForestBox;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                    dbgDrawBox.Translate(offset);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    <a class="code" href="namespace_color.html">Color</a> boxColor = area.IsFull ? <a class="code" href="namespace_color.html">Color</a>.DarkOrange : <a class="code" href="namespace_color.html">Color</a>.Honeydew;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                    <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawAABB(dbgDrawBox, boxColor, 1.0f, 1.0f, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_sector.html">MySector</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_sector.html#ab7bed02f70ba0a5517fe75c3489038f5">MainCamera</a>.Position - dbgDrawBox.Center).Length() &lt;= 5)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                    {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                        var str = <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;Gran {0}: {1}&quot;</span>, i, (<span class="keywordtype">int</span>)(0.5f + dbgDrawBox.Volume));</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                        <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText3D(dbgDrawBox.Center, str, <a class="code" href="namespace_color.html">Color</a>.PaleVioletRed, 1.0f, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                        <span class="keywordflow">foreach</span> (var item <span class="keywordflow">in</span> area.ItemIds)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                        {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                            var envItem = m_envItems[item.Key];</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                            <span class="keywordflow">foreach</span> (var ins <span class="keywordflow">in</span> item.Value)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                            {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                                <a class="code" href="namespace_item_info.html">ItemInfo</a> info;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                                <span class="keywordflow">if</span> (envItem.TryGetItemInfoById(ins, out info))</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                                {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                                    <a class="code" href="namespace_vector3_d.html">Vector3D</a> itemPos = <a class="code" href="namespace_vector3_d.html">Vector3D</a>.Transform(info.Transform.TransformMatrix.Translation, offset);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                                    <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawPoint(itemPos, <a class="code" href="namespace_color.html">Color</a>.Red, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                                    <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText3D(itemPos, <span class="stringliteral">&quot;Item: &quot;</span> + info.SubtypeId.<a class="code" href="struct_v_rage_math_1_1_vector3_d.html#ad89f2c79269b2759553799e1233e849d">ToString</a>(), <a class="code" href="namespace_color.html">Color</a>.PaleVioletRed, 1.0f, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                                }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                            }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                        }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                    }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_highLevelBoxes.Count; i++)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                    var higherOrder = m_highLevelBoxes[i];</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                    higherOrder.Translate(offset);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                    <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawAABB(higherOrder, <a class="code" href="namespace_color.html">Color</a>.Red, 1.0f, 1.0f, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_sector.html">MySector</a>.<a class="code" href="class_sandbox_1_1_game_1_1_world_1_1_my_sector.html#ab7bed02f70ba0a5517fe75c3489038f5">MainCamera</a>.Position - higherOrder.Center).Length() &lt;= 30)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                    {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                        <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText3D(higherOrder.Center, <span class="stringliteral">&quot;Gran: &quot;</span> + (<span class="keywordtype">int</span>)(0.5f + higherOrder.Volume), <a class="code" href="namespace_color.html">Color</a>.CadetBlue, 1.0f, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                        <a class="code" href="namespace_color.html">Color</a> c = <a class="code" href="namespace_color.html">Color</a>.Coral;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                        MySimpleObjectDraw.DrawTransparentBox(ref <a class="code" href="namespace_matrix_d.html">MatrixD</a>.Identity, ref higherOrder, ref c, <a class="code" href="namespace_v_rage_1_1_game.html#affb4300cf74551c8fff4b656e4fc3e84">MySimpleObjectRasterizer</a>.Solid, 1);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                    }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                var invalidateTimer = (m_invalidateAreaTimer - <a class="code" href="class_sandbox_1_1_my_sandbox_game.html">MySandboxGame</a>.<a class="code" href="class_sandbox_1_1_my_sandbox_game.html#a25d0e78afc1ba557e48699fedac64ab1">Static</a>.<a class="code" href="class_sandbox_1_1_engine_1_1_platform_1_1_game.html#ab36b3508ebaab6a4483fb3f8023f8ab9">UpdateTime</a>).Seconds;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText2D(<span class="keyword">new</span> <a class="code" href="_game_window_form_8cs.html#a4293ddbd89805ff3a31b929fae027318">Vector2</a>(10, 280), <span class="stringliteral">&quot;Total boxes count: &quot;</span> + m_forestAreas.Count, <a class="code" href="namespace_color.html">Color</a>.Violet, 0.8f);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText2D(<span class="keyword">new</span> <a class="code" href="_game_window_form_8cs.html#a4293ddbd89805ff3a31b929fae027318">Vector2</a>(10, 300), <span class="stringliteral">&quot;Taken area size: &quot;</span> + (<span class="keywordtype">int</span>)m_currentForestArea, <a class="code" href="namespace_color.html">Color</a>.Violet, 0.8f);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText2D(<span class="keyword">new</span> <a class="code" href="_game_window_form_8cs.html#a4293ddbd89805ff3a31b929fae027318">Vector2</a>(10, 320), <span class="stringliteral">&quot;World area size: &quot;</span> + m_worldArea, <a class="code" href="namespace_color.html">Color</a>.Violet, 0.8f);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText2D(<span class="keyword">new</span> <a class="code" href="_game_window_form_8cs.html#a4293ddbd89805ff3a31b929fae027318">Vector2</a>(10, 340), <span class="stringliteral">&quot;Taken area percent: &quot;</span> + (m_currentForestArea / m_worldArea), <a class="code" href="namespace_color.html">Color</a>.Violet, 0.8f);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText2D(<span class="keyword">new</span> <a class="code" href="_game_window_form_8cs.html#a4293ddbd89805ff3a31b929fae027318">Vector2</a>(10, 360), <span class="stringliteral">&quot;Invalidate area timer: &quot;</span> + invalidateTimer.<a class="code" href="struct_v_rage_math_1_1_vector2.html#aa4df1681c20e2162f42152959244d809">ToString</a>(), <a class="code" href="namespace_color.html">Color</a>.SlateBlue, 0.8f);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                <span class="keywordflow">if</span> (m_ground != null)</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                    <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawText2D(<span class="keyword">new</span> <a class="code" href="_game_window_form_8cs.html#a4293ddbd89805ff3a31b929fae027318">Vector2</a>(10, 380), <span class="stringliteral">&quot;World dimensions: &quot;</span> + m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ae5731d0c03a5a3828bd37a96fa70705b">SizeInMetres</a>.X + <span class="stringliteral">&quot; x &quot;</span> + m_ground.<a class="code" href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ae5731d0c03a5a3828bd37a96fa70705b">SizeInMetres</a>.Z, <a class="code" href="namespace_color.html">Color</a>.Violet, 0.8f);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <span class="keywordflow">if</span> (MyDebugDrawSettings.DEBUG_DRAW_FLORA_SPAWNED_ITEMS)</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                <span class="keywordflow">foreach</span> (var spawnPoint <span class="keywordflow">in</span> d_foundEnrichingPoints)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                    <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawPoint(spawnPoint, <a class="code" href="namespace_color.html">Color</a>.MidnightBlue, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                <span class="keywordflow">foreach</span> (var spawnPoint <span class="keywordflow">in</span> d_foundEnlargingPoints)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                    <a class="code" href="namespace_v_rage_render.html">VRageRender</a>.<a class="code" href="class_v_rage_render_1_1_my_render_proxy.html">MyRenderProxy</a>.DebugDrawPoint(spawnPoint, <a class="code" href="namespace_color.html">Color</a>.Moccasin, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;}</div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_debug_html_a7ffef314f13f8adff72234509ba82f33"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_debug.html#a7ffef314f13f8adff72234509ba82f33">VRage.Utils.MyDebug.AssertDebug</a></div><div class="ttdeci">static void AssertDebug(bool condition)</div><div class="ttdoc">This "assert" is executed in DEBUG mode. Because people dont know how to use AssertRelease! ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_debug_8cs_source.html#l00059">MyDebug.cs:59</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_aca5f2700d455be904b3ddc40a2b46ca9"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#aca5f2700d455be904b3ddc40a2b46ca9">VRageMath.BoundingBoxD.Min</a></div><div class="ttdeci">Vector3D Min</div><div class="ttdoc">The minimum point the BoundingBox contains. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00023">BoundingBoxD.cs:23</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_models_1_1_my_model_html_a8869c9b684d9c44f9e1bf4ad402eb10f"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_models_1_1_my_model.html#a8869c9b684d9c44f9e1bf4ad402eb10f">VRage.Game.Models.MyModel.GetById</a></div><div class="ttdeci">static string GetById(int id)</div><div class="ttdef"><b>Definition:</b> <a href="_v_rage_8_game_2_models_2_my_model_8cs_source.html#l00194">MyModel.cs:194</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector2_html_aa4df1681c20e2162f42152959244d809"><div class="ttname"><a href="struct_v_rage_math_1_1_vector2.html#aa4df1681c20e2162f42152959244d809">VRageMath.Vector2.ToString</a></div><div class="ttdeci">override string ToString()</div><div class="ttdoc">Retrieves a string representation of the current object. </div><div class="ttdef"><b>Definition:</b> <a href="_vector2_8cs_source.html#l00233">Vector2.cs:233</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_html"><div class="ttname"><a href="namespace_sandbox_1_1_game.html">Sandbox.Game</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_ae5731d0c03a5a3828bd37a96fa70705b"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#ae5731d0c03a5a3828bd37a96fa70705b">Sandbox.Game.Entities.MyVoxelBase.SizeInMetres</a></div><div class="ttdeci">Vector3 SizeInMetres</div><div class="ttdoc">Size of voxel map (in metres) </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00102">MyVoxelBase.cs:102</a></div></div>
<div class="ttc" id="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data_html_abfe9d7960e230777eb545a0a617bb258"><div class="ttname"><a href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#abfe9d7960e230777eb545a0a617bb258">Sandbox.Game.SessionComponents.MyFloraAreas.AreaData.AreaData</a></div><div class="ttdeci">AreaData(int id, BoundingBoxD box, Dictionary&lt; long, HashSet&lt; int &gt;&gt; items)</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00033">MyFloraAreas.cs:33</a></div></div>
<div class="ttc" id="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data_html_a8bc2b3e429895ecb97bdbe987af45dd2"><div class="ttname"><a href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a8bc2b3e429895ecb97bdbe987af45dd2">Sandbox.Game.SessionComponents.MyFloraAreas.AreaData.ForestBox</a></div><div class="ttdeci">readonly BoundingBoxD ForestBox</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00030">MyFloraAreas.cs:30</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_world_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_world.html">Sandbox.Game.World</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_build_component_base_8cs_source.html#l00022">MyBuildComponentBase.cs:22</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a48528d916507ec4a6a157774d2e2c8b3"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a48528d916507ec4a6a157774d2e2c8b3">Sandbox.Game.Entities.MyVoxelBase.Storage</a></div><div class="ttdeci">virtual Sandbox.Engine.Voxels.IMyStorage Storage</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00077">MyVoxelBase.cs:77</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_ac5abc1a1370f2593d3493f5fc78781db"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ac5abc1a1370f2593d3493f5fc78781db">Sandbox.Game.SessionComponents.MyFloraAreas.TryFindLocationOutsideForest</a></div><div class="ttdeci">static bool TryFindLocationOutsideForest(Vector3D desiredLocationSize, out Vector3D location, Predicate&lt; AreaData &gt; predicate=null)</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l01056">MyFloraAreas.cs:1056</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_accdb2d9cd9646de1237abcc380d841d5"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#accdb2d9cd9646de1237abcc380d841d5">Sandbox.Game.SessionComponents.MyFloraAreas.UpdateBeforeSimulation</a></div><div class="ttdeci">override void UpdateBeforeSimulation()</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00324">MyFloraAreas.cs:324</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_line_d_html"><div class="ttname"><a href="struct_v_rage_math_1_1_line_d.html">VRageMath.LineD</a></div><div class="ttdef"><b>Definition:</b> <a href="_line_d_8cs_source.html#l00009">LineD.cs:9</a></div></div>
<div class="ttc" id="namespace_system_1_1_linq_html"><div class="ttname"><a href="namespace_system_1_1_linq.html">System.Linq</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a9a659a9d71d316cbfd0840e2c6885080"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a9a659a9d71d316cbfd0840e2c6885080">VRageMath.BoundingBoxD.Size</a></div><div class="ttdeci">Vector3D Size</div><div class="ttdoc">Size </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00929">BoundingBoxD.cs:929</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition_html_a7b1792a1559a41fa03cb519b5ea82fb9"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_voxel_material_definition.html#a7b1792a1559a41fa03cb519b5ea82fb9">Sandbox.Definitions.MyVoxelMaterialDefinition.Index</a></div><div class="ttdeci">byte Index</div><div class="ttdoc">Value generated at runtime to ensure correctness. Do not serialize or deserialize. This is what the old cast to int used to result into, but now numbers depend on order in XML file. TODO Serialize to XML and ensure upon loading that these values are starting from 0 and continuous. </div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_material_definition_8cs_source.html#l00062">MyVoxelMaterialDefinition.cs:62</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_1_1_generic_html"><div class="ttname"><a href="namespace_system_1_1_collections_1_1_generic.html">System.Collections.Generic</a></div><div class="ttdef"><b>Definition:</b> <a href="_dictionary_extensions_8cs_source.html#l00007">DictionaryExtensions.cs:7</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_collections_html"><div class="ttname"><a href="namespace_v_rage_1_1_collections.html">VRage.Collections</a></div><div class="ttdef"><b>Definition:</b> <a href="_caching_dictionary_8cs_source.html#l00007">CachingDictionary.cs:7</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_game_1_1_models_1_1_my_intersection_result_line_triangle_ex_html"><div class="ttname"><a href="struct_v_rage_1_1_game_1_1_models_1_1_my_intersection_result_line_triangle_ex.html">VRage.Game.Models.MyIntersectionResultLineTriangleEx</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_intersection_result_line_triangle_8cs_source.html#l00068">MyIntersectionResultLineTriangle.cs:68</a></div></div>
<div class="ttc" id="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d_html_a965d3156676a527f2553228224359673"><div class="ttname"><a href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a965d3156676a527f2553228224359673">VRageMath.MyDynamicAABBTreeD.RemoveProxy</a></div><div class="ttdeci">void RemoveProxy(int proxyId)</div><div class="ttdoc">Destroy a proxy. This asserts if the id is invalid. </div><div class="ttdef"><b>Definition:</b> <a href="_my_dynamic_a_a_b_b_tree_d_8cs_source.html#l00159">MyDynamicAABBTreeD.cs:159</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine.html">Sandbox.Engine</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler_html_afd2621bf1737dbdc65f705e08d636ded"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#afd2621bf1737dbdc65f705e08d636ded">VRage.Utils.MyBBSetSampler.SubtractBB</a></div><div class="ttdeci">void SubtractBB(ref BoundingBoxD bb)</div><div class="ttdef"><b>Definition:</b> <a href="_my_b_b_set_sampler_8cs_source.html#l00341">MyBBSetSampler.cs:341</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_ac182112024a8a65cd601c23c7f49e434"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#ac182112024a8a65cd601c23c7f49e434">VRage.Game.Entity.MyEntity.PositionComp</a></div><div class="ttdeci">MyPositionComponentBase PositionComp</div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00048">MyEntity.cs:48</a></div></div>
<div class="ttc" id="_game_window_form_8cs_html_a4293ddbd89805ff3a31b929fae027318"><div class="ttname"><a href="_game_window_form_8cs.html#a4293ddbd89805ff3a31b929fae027318">Vector2</a></div><div class="ttdeci">VRageMath.Vector2 Vector2</div><div class="ttdef"><b>Definition:</b> <a href="_game_window_form_8cs_source.html#l00015">GameWindowForm.cs:15</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_ae840d3864e36153d6f5013c7a0403dcf"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#ae840d3864e36153d6f5013c7a0403dcf">VRage.Game.Game</a></div><div class="ttdeci">Game</div><div class="ttdef"><b>Definition:</b> <a href="_game_relation_attribute_8cs_source.html#l00005">GameRelationAttribute.cs:5</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a1c1e4c1e1ca5262085d688f41983cb2d"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a1c1e4c1e1ca5262085d688f41983cb2d">Sandbox.Game.SessionComponents.MyFloraAreas.ItemAddedToArea</a></div><div class="ttdeci">static Action&lt; int &gt; ItemAddedToArea</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00173">MyFloraAreas.cs:173</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_components_html_a4deab95c525a10b983bba0cd861ab992"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_components.html#a4deab95c525a10b983bba0cd861ab992">VRage.Game.Components.MyUpdateOrder</a></div><div class="ttdeci">MyUpdateOrder</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_component_base_8cs_source.html#l00011">MySessionComponentBase.cs:11</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html_af76bbf8ef1269420760d55cacd951912"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#af76bbf8ef1269420760d55cacd951912">Sandbox.Game.World.MySession.Static</a></div><div class="ttdeci">static MySession Static</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8cs_source.html#l00102">MySession.cs:102</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_components_1_1_my_session_component_descriptor_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_components_1_1_my_session_component_descriptor.html">VRage.Game.Components.MySessionComponentDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_session_component_base_8cs_source.html#l00020">MySessionComponentBase.cs:20</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_d_html_a32ce58dd8f2bd58aeb74ca3f886eb530"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_d.html#a32ce58dd8f2bd58aeb74ca3f886eb530">VRageMath.Vector3D.X</a></div><div class="ttdeci">double X</div><div class="ttdoc">Gets or sets the x-component of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_d_8cs_source.html#l00035">Vector3D.cs:35</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_ac880d40fc5a35c5f62a9880b7a276a2e"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#ac880d40fc5a35c5f62a9880b7a276a2e">VRageMath.BoundingBoxD.Intersect</a></div><div class="ttdeci">BoundingBoxD Intersect(BoundingBoxD box)</div><div class="ttdoc">Returns bounding box which is intersection of this and box It&#39;s called &#39;Prunik&#39; Result is invalid box...</div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00281">BoundingBoxD.cs:281</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_aea909152877a7b393d26c545bc4074cb"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aea909152877a7b393d26c545bc4074cb">Sandbox.Game.SessionComponents.MyFloraAreas.RemovedArea</a></div><div class="ttdeci">static Action&lt; int &gt; RemovedArea</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00175">MyFloraAreas.cs:175</a></div></div>
<div class="ttc" id="class_v_rage_render_1_1_my_render_proxy_html"><div class="ttname"><a href="class_v_rage_render_1_1_my_render_proxy.html">VRageRender.MyRenderProxy</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_render_proxy_8cs_source.html#l00035">MyRenderProxy.cs:35</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_components_html"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_components.html">VRage.Game.Components</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_components_debug_draw_8cs_source.html#l00011">MyEntityComponentsDebugDraw.cs:11</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_a151eceadb37256f3eb32e316e723fd9e"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#a151eceadb37256f3eb32e316e723fd9e">VRageMath.Vector3I.One</a></div><div class="ttdeci">static Vector3I One</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00167">Vector3I.cs:167</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html">VRage.Game.Entity.MyEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00027">MyEntity.cs:27</a></div></div>
<div class="ttc" id="namespace_v_rage_math_html_a4f89af233f1aef65e9d05a18cb44d4cf"><div class="ttname"><a href="namespace_v_rage_math.html#a4f89af233f1aef65e9d05a18cb44d4cf">VRageMath.ContainmentType</a></div><div class="ttdeci">ContainmentType</div><div class="ttdoc">Indicates the extent to which bounding volumes intersect or contain one another. </div><div class="ttdef"><b>Definition:</b> <a href="_containment_type_8cs_source.html#l00007">ContainmentType.cs:7</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_sector_html_ab7bed02f70ba0a5517fe75c3489038f5"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_sector.html#ab7bed02f70ba0a5517fe75c3489038f5">Sandbox.Game.World.MySector.MainCamera</a></div><div class="ttdeci">static MyCamera MainCamera</div><div class="ttdef"><b>Definition:</b> <a href="_my_sector_8cs_source.html#l00113">MySector.cs:113</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_collections_1_1_hash_set_reader_html"><div class="ttname"><a href="struct_v_rage_1_1_collections_1_1_hash_set_reader.html">VRage.Collections.HashSetReader</a></div><div class="ttdef"><b>Definition:</b> <a href="_hash_set_reader_8cs_source.html#l00011">HashSetReader.cs:11</a></div></div>
<div class="ttc" id="namespace_item_info_html"><div class="ttname"><a href="namespace_item_info.html">ItemInfo</a></div></div>
<div class="ttc" id="_my_gui_skin_definition_8cs_html_a81a223a02c34d82b47199f08308847f2"><div class="ttname"><a href="_my_gui_skin_definition_8cs.html#a81a223a02c34d82b47199f08308847f2">System</a></div><div class="ttdeci">﻿using System</div><div class="ttdef"><b>Definition:</b> <a href="_my_gui_skin_definition_8cs_source.html#l00001">MyGuiSkinDefinition.cs:1</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_collections_1_1_dictionary_reader_html"><div class="ttname"><a href="struct_v_rage_1_1_collections_1_1_dictionary_reader.html">VRage.Collections.DictionaryReader</a></div><div class="ttdef"><b>Definition:</b> <a href="_dictionary_reader_8cs_source.html#l00010">DictionaryReader.cs:10</a></div></div>
<div class="ttc" id="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage_html_a19855228c14f169efba81d929d3e5946"><div class="ttname"><a href="interface_v_rage_1_1_mod_a_p_i_1_1_i_my_storage.html#a19855228c14f169efba81d929d3e5946">VRage.ModAPI.IMyStorage.ReadRange</a></div><div class="ttdeci">void ReadRange(MyStorageData target, MyStorageDataTypeFlags dataToRead, int lodIndex, Vector3I lodVoxelRangeMin, Vector3I lodVoxelRangeMax)</div><div class="ttdoc">Reads range of content and/or materials from specified LOD. If you want to write data back later...</div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html">VRage.Voxels.MyStorageData</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00014">MyStorageData.cs:14</a></div></div>
<div class="ttc" id="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data_html_a50d3008432e6f93dcb935afe614422e5"><div class="ttname"><a href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a50d3008432e6f93dcb935afe614422e5">Sandbox.Game.SessionComponents.MyFloraAreas.AreaData.ItemIds</a></div><div class="ttdeci">readonly DictionaryReader&lt; long, HashSetReader&lt; int &gt; &gt; ItemIds</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00031">MyFloraAreas.cs:31</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_1_1_environment_items_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities_1_1_environment_items.html">Sandbox.Game.Entities.EnvironmentItems</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_destroyable_items_8cs_source.html#l00018">MyDestroyableItems.cs:18</a></div></div>
<div class="ttc" id="namespace_color_html"><div class="ttname"><a href="namespace_color.html">Color</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_add58c5f261700a9b6604169ea720cfad"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#add58c5f261700a9b6604169ea720cfad">Sandbox.Game.Entities.MyVoxelBase.GetIntersectionWithLine</a></div><div class="ttdeci">override bool GetIntersectionWithLine(ref LineD worldLine, out VRage.Game.Models.MyIntersectionResultLineTriangleEx?t, IntersectionFlags flags=IntersectionFlags.ALL_TRIANGLES)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00525">MyVoxelBase.cs:525</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_a1445baef094070a8aee6bb8247c294be"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a1445baef094070a8aee6bb8247c294be">VRage.Game.Entity.MyEntity.EntityId</a></div><div class="ttdeci">long EntityId</div><div class="ttdoc">Entity id, can be set by subclasses (for example when using pool...) </div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00148">MyEntity.cs:148</a></div></div>
<div class="ttc" id="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d_html"><div class="ttname"><a href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html">VRageMath.MyDynamicAABBTreeD</a></div><div class="ttdoc">Dynamic aabb tree implementation as a prunning structure </div><div class="ttdef"><b>Definition:</b> <a href="_my_dynamic_a_a_b_b_tree_d_8cs_source.html#l00017">MyDynamicAABBTreeD.cs:17</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_d_html_a14efbf1d374125549c89060320c8e92e"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_d.html#a14efbf1d374125549c89060320c8e92e">VRageMath.Vector3D.Y</a></div><div class="ttdeci">double Y</div><div class="ttdoc">Gets or sets the y-component of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_d_8cs_source.html#l00040">Vector3D.cs:40</a></div></div>
<div class="ttc" id="namespace_vector3_d_html"><div class="ttname"><a href="namespace_vector3_d.html">Vector3D</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_definitions_html"><div class="ttname"><a href="namespace_sandbox_1_1_definitions.html">Sandbox.Definitions</a></div><div class="ttdef"><b>Definition:</b> <a href="_sandbox_8_common_2_my_definition_errors_8cs_source.html#l00008">MyDefinitionErrors.cs:8</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_aa3051c1270b93b0a03f7a5acf3ef1f8d"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aa3051c1270b93b0a03f7a5acf3ef1f8d">Sandbox.Game.SessionComponents.MyFloraAreas.TryFindLocationInsideForest</a></div><div class="ttdeci">static bool TryFindLocationInsideForest(Vector3D desiredLocationSize, out Vector3D location, Predicate&lt; AreaData &gt; predicate=null)</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l01046">MyFloraAreas.cs:1046</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_d_html_a278826832c407bcceec46e037e8cf65d"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_d.html#a278826832c407bcceec46e037e8cf65d">VRageMath.Vector3D.Z</a></div><div class="ttdeci">double Z</div><div class="ttdoc">Gets or sets the z-component of the vector. </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_d_8cs_source.html#l00045">Vector3D.cs:45</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a84fcfc7a6af4996c70956cfdf49cc877"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a84fcfc7a6af4996c70956cfdf49cc877">Sandbox.Game.SessionComponents.MyFloraAreas.HasBelongingItems</a></div><div class="ttdeci">static bool HasBelongingItems(int areaId, MyEnvironmentItems items)</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l01036">MyFloraAreas.cs:1036</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_utils_html"><div class="ttname"><a href="namespace_v_rage_1_1_utils.html">VRage.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_my5_bit_encoding_8cs_source.html#l00006">My5BitEncoding.cs:6</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html_a5869a329e136302ab34de4aeab73bf00"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html#a5869a329e136302ab34de4aeab73bf00">VRageMath.Vector3I.Zero</a></div><div class="ttdeci">static Vector3I Zero</div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00101">Vector3I.cs:101</a></div></div>
<div class="ttc" id="class_sandbox_1_1_my_sandbox_game_html"><div class="ttname"><a href="class_sandbox_1_1_my_sandbox_game.html">Sandbox.MySandboxGame</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_sandbox_game_8cs_source.html#l00074">MySandboxGame.cs:74</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html"><div class="ttname"><a href="namespace_v_rage_1_1_game.html">VRage.Game</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler_html"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html">VRage.Utils.MyBBSetSampler</a></div><div class="ttdoc">This class allows for uniform generation of points from a set of bounding boxes. </div><div class="ttdef"><b>Definition:</b> <a href="_my_b_b_set_sampler_8cs_source.html#l00016">MyBBSetSampler.cs:16</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_debug_html"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_debug.html">VRage.Utils.MyDebug</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_debug_8cs_source.html#l00012">MyDebug.cs:12</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_voxels_html_a472f51a8fd201d68f1aed2d709473adc"><div class="ttname"><a href="namespace_v_rage_1_1_voxels.html#a472f51a8fd201d68f1aed2d709473adc">VRage.Voxels.MyStorageDataTypeFlags</a></div><div class="ttdeci">MyStorageDataTypeFlags</div><div class="ttdef"><b>Definition:</b> <a href="_enums_8cs_source.html#l00023">Enums.cs:23</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a0bca613de1b58d61cb3de871c48169eb"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a0bca613de1b58d61cb3de871c48169eb">Sandbox.Game.SessionComponents.MyFloraAreas.LoadData</a></div><div class="ttdeci">override void LoadData()</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00222">MyFloraAreas.cs:222</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html_a4f3edfb9be32113e71d1845907ba8a14"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html#a4f3edfb9be32113e71d1845907ba8a14">Sandbox.Game.Entities.MyVoxelBase.PositionLeftBottomCorner</a></div><div class="ttdeci">virtual Vector3D PositionLeftBottomCorner</div><div class="ttdoc">Position of left/bottom corner of this voxel map, in world space (not relative to sector) ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00116">MyVoxelBase.cs:116</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_components_1_1_my_position_component_base_html_aabab933a8121949c2643215e51550fc7"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_components_1_1_my_position_component_base.html#aabab933a8121949c2643215e51550fc7">VRage.Game.Components.MyPositionComponentBase.WorldAABB</a></div><div class="ttdeci">BoundingBoxD WorldAABB</div><div class="ttdoc">Gets the world aabb. </div><div class="ttdef"><b>Definition:</b> <a href="_my_position_component_base_8cs_source.html#l00062">MyPositionComponentBase.cs:62</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_d_html_ad89f2c79269b2759553799e1233e849d"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_d.html#ad89f2c79269b2759553799e1233e849d">VRageMath.Vector3D.ToString</a></div><div class="ttdeci">override string ToString()</div><div class="ttdoc">Retrieves a string representation of the current object. </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_d_8cs_source.html#l00475">Vector3D.cs:475</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a072584bdd1cc03de225dbb1a01fd164b"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a072584bdd1cc03de225dbb1a01fd164b">Sandbox.Game.SessionComponents.MyFloraAreas.MyFloraAreas</a></div><div class="ttdeci">MyFloraAreas()</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00206">MyFloraAreas.cs:206</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler_html_a0773ea80d424a494289b9d9999cc7a11"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#a0773ea80d424a494289b9d9999cc7a11">VRage.Utils.MyBBSetSampler.Valid</a></div><div class="ttdeci">bool Valid</div><div class="ttdef"><b>Definition:</b> <a href="_my_b_b_set_sampler_8cs_source.html#l00317">MyBBSetSampler.cs:317</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a3f2d3132b92120eac4a3ed26e83bf835"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a3f2d3132b92120eac4a3ed26e83bf835">Sandbox.Game.SessionComponents.MyFloraAreas.TryFindLocationOutsideForest</a></div><div class="ttdeci">static bool TryFindLocationOutsideForest(out Vector3D location, Predicate&lt; AreaData &gt; predicate=null)</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l01051">MyFloraAreas.cs:1051</a></div></div>
<div class="ttc" id="_my_camera_8cs_html_afeb956ae9f85b0c1c7f8d5ce4a07b8e5"><div class="ttname"><a href="_my_camera_8cs.html#afeb956ae9f85b0c1c7f8d5ce4a07b8e5">Vector3D</a></div><div class="ttdeci">VRageMath.Vector3D Vector3D</div><div class="ttdef"><b>Definition:</b> <a href="_my_camera_8cs_source.html#l00008">MyCamera.cs:8</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a66ac003ae075b3b91201de34d01b185a"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a66ac003ae075b3b91201de34d01b185a">VRageMath.BoundingBoxD.Intersects</a></div><div class="ttdeci">bool Intersects(BoundingBoxD box)</div><div class="ttdoc">Checks whether the current BoundingBox intersects another BoundingBox. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00297">BoundingBoxD.cs:297</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_base.html">Sandbox.Game.Entities.MyVoxelBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_base_8cs_source.html#l00029">MyVoxelBase.cs:29</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_html_a463baa255588ff6f94988bc940ee213e"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a463baa255588ff6f94988bc940ee213e">Sandbox.Game.Entities.EnvironmentItems.MyEnvironmentItems.GetModelId</a></div><div class="ttdeci">static int GetModelId(MyStringHash subtypeId)</div><div class="ttdef"><b>Definition:</b> <a href="_my_environment_items_8cs_source.html#l00362">MyEnvironmentItems.cs:362</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_models_1_1_my_model_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_models_1_1_my_model.html">VRage.Game.Models.MyModel</a></div><div class="ttdef"><b>Definition:</b> <a href="_v_rage_8_game_2_models_2_my_model_8cs_source.html#l00050">MyModel.cs:50</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_html_a2c009976d7a81341cdf3ff2f7d0165bb"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a2c009976d7a81341cdf3ff2f7d0165bb">Sandbox.Game.Entities.EnvironmentItems.MyEnvironmentItems.GetItemsInSector</a></div><div class="ttdeci">void GetItemsInSector(Vector3I sectorId, List&lt; ItemInfo &gt; output)</div><div class="ttdef"><b>Definition:</b> <a href="_my_environment_items_8cs_source.html#l00782">MyEnvironmentItems.cs:782</a></div></div>
<div class="ttc" id="namespace_bounding_box_d_html"><div class="ttname"><a href="namespace_bounding_box_d.html">BoundingBoxD</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a270c09a84d7237ee13ee0dab15a0e5bb"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a270c09a84d7237ee13ee0dab15a0e5bb">VRageMath.BoundingBoxD.Max</a></div><div class="ttdeci">Vector3D Max</div><div class="ttdoc">The maximum point the BoundingBox contains. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00028">BoundingBoxD.cs:28</a></div></div>
<div class="ttc" id="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d_html_a3ff876dc3963bdcf33f6d28e0be2da75"><div class="ttname"><a href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a3ff876dc3963bdcf33f6d28e0be2da75">VRageMath.MyDynamicAABBTreeD.MoveProxy</a></div><div class="ttdeci">bool MoveProxy(int proxyId, ref BoundingBoxD aabb, Vector3D displacement)</div><div class="ttdoc">Move a proxy with a swepted BoundingBox. If the proxy has moved outside of its fattened BoundingBox...</div><div class="ttdef"><b>Definition:</b> <a href="_my_dynamic_a_a_b_b_tree_d_8cs_source.html#l00182">MyDynamicAABBTreeD.cs:182</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_library_1_1_utils_html"><div class="ttname"><a href="namespace_v_rage_1_1_library_1_1_utils.html">VRage.Library.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_blittable_helper_8cs_source.html#l00008">BlittableHelper.cs:8</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span_html_a2f7aa18aabdb66d00eb7801951ebbd0b"><div class="ttname"><a href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html#a2f7aa18aabdb66d00eb7801951ebbd0b">VRage.Library.Utils.MyTimeSpan.Zero</a></div><div class="ttdeci">static readonly MyTimeSpan Zero</div><div class="ttdef"><b>Definition:</b> <a href="_my_time_span_8cs_source.html#l00010">MyTimeSpan.cs:10</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_mod_a_p_i_html_a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f"><div class="ttname"><a href="namespace_v_rage_1_1_mod_a_p_i.html#a7beb854f7c2e3825d10973e0cc1be3baad8e87c0927539672f54462c837be0b7f">VRage.ModAPI.Sync</a></div><div class="ttdoc">Synchronize object during multiplayer </div></div>
<div class="ttc" id="namespace_math_html"><div class="ttname"><a href="namespace_math.html">Math</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_models_html"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_models.html">VRage.Game.Models</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_my_triange_pruning_structure_8cs_source.html#l00007">IMyTriangePruningStructure.cs:7</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_ade68a21b5614666a45acb48362b9b3e0"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ade68a21b5614666a45acb48362b9b3e0">Sandbox.Game.SessionComponents.MyFloraAreas.ImmediateInvalidateAreaValues</a></div><div class="ttdeci">static void ImmediateInvalidateAreaValues()</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00627">MyFloraAreas.cs:627</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html">Sandbox.Game.SessionComponents.MyFloraAreas</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00025">MyFloraAreas.cs:25</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html">Sandbox.Game.World.MySession</a></div><div class="ttdoc">Base class for all session types (single, coop, mmo, sandbox) </div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8_components_8cs_source.html#l00025">MySession.Components.cs:25</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_session_html_ade867ae536343a9314db39b58fbb65ed"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_session.html#ade867ae536343a9314db39b58fbb65ed">Sandbox.Game.World.MySession.VoxelMaps</a></div><div class="ttdeci">readonly MyVoxelMaps VoxelMaps</div><div class="ttdef"><b>Definition:</b> <a href="_my_session_8cs_source.html#l00228">MySession.cs:228</a></div></div>
<div class="ttc" id="namespace_matrix_d_html"><div class="ttname"><a href="namespace_matrix_d.html">MatrixD</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_profiler_html"><div class="ttname"><a href="namespace_v_rage_1_1_profiler.html">VRage.Profiler</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_draw_area_8cs_source.html#l00003">MyDrawArea.cs:3</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a0c0708a56d0b85c1883c0634a3d3f396"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a0c0708a56d0b85c1883c0634a3d3f396">Sandbox.Game.SessionComponents.MyFloraAreas.SelectedArea</a></div><div class="ttdeci">static Action&lt; int &gt; SelectedArea</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00174">MyFloraAreas.cs:174</a></div></div>
<div class="ttc" id="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler_html_a9289a63029b0e5d4676ceb867691a95f"><div class="ttname"><a href="class_v_rage_1_1_utils_1_1_my_b_b_set_sampler.html#a9289a63029b0e5d4676ceb867691a95f">VRage.Utils.MyBBSetSampler.Sample</a></div><div class="ttdeci">Vector3D Sample()</div><div class="ttdef"><b>Definition:</b> <a href="_my_b_b_set_sampler_8cs_source.html#l00350">MyBBSetSampler.cs:350</a></div></div>
<div class="ttc" id="struct_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_1_1_item_info_html"><div class="ttname"><a href="struct_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_1_1_item_info.html">Sandbox.Game.Entities.EnvironmentItems.MyEnvironmentItems.ItemInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_environment_items_8cs_source.html#l00072">MyEnvironmentItems.cs:72</a></div></div>
<div class="ttc" id="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data_html"><div class="ttname"><a href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html">Sandbox.Game.SessionComponents.MyFloraAreas.AreaData</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00027">MyFloraAreas.cs:27</a></div></div>
<div class="ttc" id="namespace_v_rage_math_html"><div class="ttname"><a href="namespace_v_rage_math.html">VRageMath</a></div><div class="ttdef"><b>Definition:</b> <a href="_base27_directions_8cs_source.html#l00007">Base27Directions.cs:7</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_world_1_1_my_sector_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_world_1_1_my_sector.html">Sandbox.Game.World.MySector</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_sector_8cs_source.html#l00084">MySector.cs:84</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities.html">Sandbox.Game.Entities</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_entity3_d_sound_emitter_8cs_source.html#l00018">MyEntity3DSoundEmitter.cs:18</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_multiplayer_html"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_multiplayer.html">Sandbox.Game.Multiplayer</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_sync_destructions_8cs_source.html#l00033">MySyncDestructions.cs:33</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_maps_html_aae08bc4ef5b784d380cf2cabd951bd2b"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_my_voxel_maps.html#aae08bc4ef5b784d380cf2cabd951bd2b">Sandbox.Game.Entities.MyVoxelMaps.TryGetVoxelMapByNameStart</a></div><div class="ttdeci">MyVoxelBase TryGetVoxelMapByNameStart(string name)</div><div class="ttdef"><b>Definition:</b> <a href="_my_voxel_maps_8cs_source.html#l00121">MyVoxelMaps.cs:121</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span_html_a0799736bed724d905db716f7d1575ff0"><div class="ttname"><a href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html#a0799736bed724d905db716f7d1575ff0">VRage.Library.Utils.MyTimeSpan.FromSeconds</a></div><div class="ttdeci">static MyTimeSpan FromSeconds(double seconds)</div><div class="ttdef"><b>Definition:</b> <a href="_my_time_span_8cs_source.html#l00063">MyTimeSpan.cs:63</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_html"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html">Sandbox.Game.Entities.EnvironmentItems.MyEnvironmentItems</a></div><div class="ttdoc">Base class for collecting environment items (of one type) in entity. Useful for drawing of instanced ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_environment_items_8cs_source.html#l00046">MyEnvironmentItems.cs:46</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a04309e4c853fdde061af4200af866921"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a04309e4c853fdde061af4200af866921">VRageMath.BoundingBoxD.Include</a></div><div class="ttdeci">BoundingBoxD Include(ref Vector3D point)</div><div class="ttdoc">return expanded aabb (aabb include point) </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l01047">BoundingBoxD.cs:1047</a></div></div>
<div class="ttc" id="class_sandbox_1_1_engine_1_1_platform_1_1_game_html_ab36b3508ebaab6a4483fb3f8023f8ab9"><div class="ttname"><a href="class_sandbox_1_1_engine_1_1_platform_1_1_game.html#ab36b3508ebaab6a4483fb3f8023f8ab9">Sandbox.Engine.Platform.Game.UpdateTime</a></div><div class="ttdeci">MyTimeSpan UpdateTime</div><div class="ttdef"><b>Definition:</b> <a href="_game_8cs_source.html#l00077">Game.cs:77</a></div></div>
<div class="ttc" id="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d_html_a4d9507dfec126cd08b888adffc9e83f7"><div class="ttname"><a href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a4d9507dfec126cd08b888adffc9e83f7">VRageMath.MyDynamicAABBTreeD.AddProxy</a></div><div class="ttdeci">int AddProxy(ref BoundingBoxD aabb, object userData, uint userFlags, bool rebalance=true)</div><div class="ttdoc">Create a proxy. Provide a tight fitting BoundingBox and a userData pointer. </div><div class="ttdef"><b>Definition:</b> <a href="_my_dynamic_a_a_b_b_tree_d_8cs_source.html#l00133">MyDynamicAABBTreeD.cs:133</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_definition_manager_html_aa76b8697823951ea5c5ec16092b902ab"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#aa76b8697823951ea5c5ec16092b902ab">Sandbox.Definitions.MyDefinitionManager.Static</a></div><div class="ttdeci">static new MyDefinitionManager Static</div><div class="ttdef"><b>Definition:</b> <a href="_my_definition_manager_8cs_source.html#l00069">MyDefinitionManager.cs:69</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_abe98e59e335804f3de68039b21968f34"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#abe98e59e335804f3de68039b21968f34">VRageMath.BoundingBoxD.Contains</a></div><div class="ttdeci">ContainmentType Contains(BoundingBoxD box)</div><div class="ttdoc">Tests whether the BoundingBox contains another BoundingBox. </div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l00806">BoundingBoxD.cs:806</a></div></div>
<div class="ttc" id="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d_html_a79328e038db20d323b4cff485e9085de"><div class="ttname"><a href="class_v_rage_math_1_1_my_dynamic_a_a_b_b_tree_d.html#a79328e038db20d323b4cff485e9085de">VRageMath.MyDynamicAABBTreeD.Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="_my_dynamic_a_a_b_b_tree_d_8cs_source.html#l01522">MyDynamicAABBTreeD.cs:1522</a></div></div>
<div class="ttc" id="namespace_system_1_1_collections_html"><div class="ttname"><a href="namespace_system_1_1_collections.html">System.Collections</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a8e9bb0d24ee51651eb2583d754943f39"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a8e9bb0d24ee51651eb2583d754943f39">Sandbox.Game.SessionComponents.MyFloraAreas.DebugDraw</a></div><div class="ttdeci">void DebugDraw()</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l01333">MyFloraAreas.cs:1333</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_aef789b18aad2c1b62b16eb4a27b5214e"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#aef789b18aad2c1b62b16eb4a27b5214e">Sandbox.Game.SessionComponents.MyFloraAreas.LoadFinished</a></div><div class="ttdeci">static Action LoadFinished</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00172">MyFloraAreas.cs:172</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_a6980695559311318c4a23d3a1bccbca0"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#a6980695559311318c4a23d3a1bccbca0">VRage.Voxels.MyStorageData.Resize</a></div><div class="ttdeci">void Resize(Vector3I start, Vector3I end)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00130">MyStorageData.cs:130</a></div></div>
<div class="ttc" id="namespace_v_rage_render_html"><div class="ttname"><a href="namespace_v_rage_render.html">VRageRender</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i_html"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i.html">VRageMath.Vector3I</a></div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00076">Vector3I.cs:76</a></div></div>
<div class="ttc" id="_my_camera_8cs_html_ae65023afd5ab6af4293a2e4ea3aca407"><div class="ttname"><a href="_my_camera_8cs.html#ae65023afd5ab6af4293a2e4ea3aca407">BoundingBoxD</a></div><div class="ttdeci">VRageMath.BoundingBoxD BoundingBoxD</div><div class="ttdef"><b>Definition:</b> <a href="_my_camera_8cs_source.html#l00010">MyCamera.cs:10</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_html_a8598834eb54ba135f5e58e1c682ff669"><div class="ttname"><a href="namespace_sandbox_1_1_game.html#a8598834eb54ba135f5e58e1c682ff669">Sandbox.Game.GameEnum</a></div><div class="ttdeci">GameEnum</div><div class="ttdef"><b>Definition:</b> <a href="_my_per_game_settings_8cs_source.html#l00073">MyPerGameSettings.cs:73</a></div></div>
<div class="ttc" id="namespace_sandbox_html"><div class="ttname"><a href="namespace_sandbox.html">Sandbox</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_d_html_a50d6ed9a4ef5a49c42b041af9de64f09"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_d.html#a50d6ed9a4ef5a49c42b041af9de64f09">VRageMath.Vector3D.Add</a></div><div class="ttdeci">static Vector3D Add(Vector3D value1, Vector3D value2)</div><div class="ttdoc">Adds two vectors. </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_d_8cs_source.html#l01877">Vector3D.cs:1877</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_collections_1_1_dictionary_reader_html_a4548a0964e7cc0cd6b0c0d5fd00ab985"><div class="ttname"><a href="struct_v_rage_1_1_collections_1_1_dictionary_reader.html#a4548a0964e7cc0cd6b0c0d5fd00ab985">VRage.Collections.DictionaryReader.Empty</a></div><div class="ttdeci">static readonly DictionaryReader&lt; K, V &gt; Empty</div><div class="ttdef"><b>Definition:</b> <a href="_dictionary_reader_8cs_source.html#l00014">DictionaryReader.cs:14</a></div></div>
<div class="ttc" id="namespace_v_rage_html"><div class="ttname"><a href="namespace_v_rage.html">VRage</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_html_a2727c9094c2ed8758ba979837c57c82f"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a2727c9094c2ed8758ba979837c57c82f">Sandbox.Game.Entities.EnvironmentItems.MyEnvironmentItems.ItemRemoved</a></div><div class="ttdeci">Action&lt; MyEnvironmentItems, ItemInfo &gt; ItemRemoved</div><div class="ttdef"><b>Definition:</b> <a href="_my_environment_items_8cs_source.html#l00124">MyEnvironmentItems.cs:124</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_definition_manager_html"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html">Sandbox.Definitions.MyDefinitionManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_definition_manager-_definition_set_8cs_source.html#l00020">MyDefinitionManager-DefinitionSet.cs:20</a></div></div>
<div class="ttc" id="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data_html_a3a2f6cf2c04e6e1635cf18132a6d8ad3"><div class="ttname"><a href="struct_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_1_1_area_data.html#a3a2f6cf2c04e6e1635cf18132a6d8ad3">Sandbox.Game.SessionComponents.MyFloraAreas.AreaData.Id</a></div><div class="ttdeci">readonly int Id</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00029">MyFloraAreas.cs:29</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_voxels_html"><div class="ttname"><a href="namespace_v_rage_1_1_voxels.html">VRage.Voxels</a></div><div class="ttdef"><b>Definition:</b> <a href="_enums_8cs_source.html#l00003">Enums.cs:3</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_models_1_1_my_models_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_models_1_1_my_models.html">VRage.Game.Models.MyModels</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_models_8cs_source.html#l00012">MyModels.cs:12</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_ad837ec57d099329e8becafffd5496ba0"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#ad837ec57d099329e8becafffd5496ba0">Sandbox.Game.SessionComponents.MyFloraAreas.AddEnvironmentItem</a></div><div class="ttdeci">void AddEnvironmentItem(MyEnvironmentItems item)</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00289">MyFloraAreas.cs:289</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a276c7c59db7681887ab588b819f83541"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a276c7c59db7681887ab588b819f83541">Sandbox.Game.SessionComponents.MyFloraAreas.UnloadData</a></div><div class="ttdeci">override void UnloadData()</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00257">MyFloraAreas.cs:257</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_game_1_1_entities_html_a72e0d49711b04db65b4a0bd4a949116ea84a8921b25f505d0d2077aeb5db4bc16"><div class="ttname"><a href="namespace_sandbox_1_1_game_1_1_entities.html#a72e0d49711b04db65b4a0bd4a949116ea84a8921b25f505d0d2077aeb5db4bc16">Sandbox.Game.Entities.Static</a></div></div>
<div class="ttc" id="namespace_vector3_html"><div class="ttname"><a href="namespace_vector3.html">Vector3</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_html_a62ac76f2deb119ce34f8f674a016842f"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a62ac76f2deb119ce34f8f674a016842f">Sandbox.Game.Entities.EnvironmentItems.MyEnvironmentItems.GetSectorId</a></div><div class="ttdeci">Vector3I GetSectorId(ref Vector3D worldPosition)</div><div class="ttdef"><b>Definition:</b> <a href="_my_environment_items_8cs_source.html#l01300">MyEnvironmentItems.cs:1300</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_entity_1_1_my_entity_html_a6eacfd5470b7176dc37ab4ec7ba5fe1a"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_entity_1_1_my_entity.html#a6eacfd5470b7176dc37ab4ec7ba5fe1a">VRage.Game.Entity.MyEntity.OnMarkForClose</a></div><div class="ttdeci">Action&lt; MyEntity &gt; OnMarkForClose</div><div class="ttdoc">This event may not be invoked at all, when calling MyEntities.CloseAll, marking is bypassed ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_entity_8cs_source.html#l00975">MyEntity.cs:975</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_a2d1f66c2a4a842550650c04c20a275dd"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#a2d1f66c2a4a842550650c04c20a275dd">VRageMath.BoundingBoxD.Inflate</a></div><div class="ttdeci">BoundingBoxD Inflate(double size)</div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l01193">BoundingBoxD.cs:1193</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span_html"><div class="ttname"><a href="struct_v_rage_1_1_library_1_1_utils_1_1_my_time_span.html">VRage.Library.Utils.MyTimeSpan</a></div><div class="ttdoc">Hi-resolution time span. Beware: the resolution can be different on different systems! ...</div><div class="ttdef"><b>Definition:</b> <a href="_my_time_span_8cs_source.html#l00008">MyTimeSpan.cs:8</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_library_html"><div class="ttname"><a href="namespace_v_rage_1_1_library.html">VRage.Library</a></div></div>
<div class="ttc" id="class_sandbox_1_1_definitions_1_1_my_definition_manager_html_a687ecc35d97dbeb307033699b9d525ce"><div class="ttname"><a href="class_sandbox_1_1_definitions_1_1_my_definition_manager.html#a687ecc35d97dbeb307033699b9d525ce">Sandbox.Definitions.MyDefinitionManager.GetVoxelMaterialDefinition</a></div><div class="ttdeci">MyVoxelMaterialDefinition GetVoxelMaterialDefinition(byte materialIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_my_definition_manager_8cs_source.html#l04056">MyDefinitionManager.cs:4056</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_1_1_entity_html"><div class="ttname"><a href="namespace_v_rage_1_1_game_1_1_entity.html">VRage.Game.Entity</a></div><div class="ttdef"><b>Definition:</b> <a href="_debug_created_by_8cs_source.html#l00001">DebugCreatedBy.cs:1</a></div></div>
<div class="ttc" id="namespace_sandbox_1_1_engine_1_1_utils_html"><div class="ttname"><a href="namespace_sandbox_1_1_engine_1_1_utils.html">Sandbox.Engine.Utils</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_battle_helper_8cs_source.html#l00014">MyBattleHelper.cs:14</a></div></div>
<div class="ttc" id="class_sandbox_1_1_my_sandbox_game_html_a25d0e78afc1ba557e48699fedac64ab1"><div class="ttname"><a href="class_sandbox_1_1_my_sandbox_game.html#a25d0e78afc1ba557e48699fedac64ab1">Sandbox.MySandboxGame.Static</a></div><div class="ttdeci">static MySandboxGame Static</div><div class="ttdef"><b>Definition:</b> <a href="_my_sandbox_game_8cs_source.html#l00095">MySandboxGame.cs:95</a></div></div>
<div class="ttc" id="class_v_rage_1_1_voxels_1_1_my_storage_data_html_ad9f2bb2ea2d492180bc78ad28616eea5"><div class="ttname"><a href="class_v_rage_1_1_voxels_1_1_my_storage_data.html#ad9f2bb2ea2d492180bc78ad28616eea5">VRage.Voxels.MyStorageData.Material</a></div><div class="ttdeci">void Material(ref Vector3I p, byte materialIdx)</div><div class="ttdef"><b>Definition:</b> <a href="_my_storage_data_8cs_source.html#l00211">MyStorageData.cs:211</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a87a4c2eddeb54ef2605629b5d5b419f8"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a87a4c2eddeb54ef2605629b5d5b419f8">Sandbox.Game.SessionComponents.MyFloraAreas.BeforeStart</a></div><div class="ttdeci">override void BeforeStart()</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l00252">MyFloraAreas.cs:252</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas_html_a42657cd4ca5defae7930150479e7d32b"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_session_components_1_1_my_flora_areas.html#a42657cd4ca5defae7930150479e7d32b">Sandbox.Game.SessionComponents.MyFloraAreas.TryFindLocationInsideForest</a></div><div class="ttdeci">static bool TryFindLocationInsideForest(out Vector3D location, Predicate&lt; AreaData &gt; predicate=null)</div><div class="ttdef"><b>Definition:</b> <a href="_my_flora_areas_8cs_source.html#l01041">MyFloraAreas.cs:1041</a></div></div>
<div class="ttc" id="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items_html_a9913c7953a00a32af49a2725682a0d31"><div class="ttname"><a href="class_sandbox_1_1_game_1_1_entities_1_1_environment_items_1_1_my_environment_items.html#a9913c7953a00a32af49a2725682a0d31">Sandbox.Game.Entities.EnvironmentItems.MyEnvironmentItems.ItemAdded</a></div><div class="ttdeci">Action&lt; MyEnvironmentItems, ItemInfo &gt; ItemAdded</div><div class="ttdef"><b>Definition:</b> <a href="_my_environment_items_8cs_source.html#l00123">MyEnvironmentItems.cs:123</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_bounding_box_d_html_aa5595daa5d1bbaaf3f2c0c28787064bc"><div class="ttname"><a href="struct_v_rage_math_1_1_bounding_box_d.html#aa5595daa5d1bbaaf3f2c0c28787064bc">VRageMath.BoundingBoxD.Volume</a></div><div class="ttdeci">double Volume</div><div class="ttdef"><b>Definition:</b> <a href="_bounding_box_d_8cs_source.html#l01154">BoundingBoxD.cs:1154</a></div></div>
<div class="ttc" id="struct_v_rage_math_1_1_vector3_i___range_iterator_html"><div class="ttname"><a href="struct_v_rage_math_1_1_vector3_i___range_iterator.html">VRageMath.Vector3I_RangeIterator</a></div><div class="ttdoc">A class for simpler traversal of ranges of integer vectors </div><div class="ttdef"><b>Definition:</b> <a href="_vector3_i_8cs_source.html#l00019">Vector3I.cs:19</a></div></div>
<div class="ttc" id="namespace_v_rage_1_1_game_html_affb4300cf74551c8fff4b656e4fc3e84"><div class="ttname"><a href="namespace_v_rage_1_1_game.html#affb4300cf74551c8fff4b656e4fc3e84">VRage.Game.MySimpleObjectRasterizer</a></div><div class="ttdeci">MySimpleObjectRasterizer</div><div class="ttdef"><b>Definition:</b> <a href="_my_simple_object_draw_8cs_source.html#l00008">MySimpleObjectDraw.cs:8</a></div></div>
<div class="ttc" id="struct_v_rage_1_1_utils_1_1_my_string_hash_html"><div class="ttname"><a href="struct_v_rage_1_1_utils_1_1_my_string_hash.html">VRage.Utils.MyStringHash</a></div><div class="ttdoc">Generates string hashes deterministically and crashes on collisions. When used as key for hash tables...</div><div class="ttdef"><b>Definition:</b> <a href="_my_string_hash_8cs_source.html#l00020">MyStringHash.cs:20</a></div></div>
<div class="ttc" id="class_v_rage_1_1_game_1_1_components_1_1_my_session_component_base_html"><div class="ttname"><a href="class_v_rage_1_1_game_1_1_components_1_1_my_session_component_base.html">VRage.Game.Components.MySessionComponentBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_my_session_component_base_8cs_source.html#l00064">MySessionComponentBase.cs:64</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 23 2017 01:16:47 for Space Engineers by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
